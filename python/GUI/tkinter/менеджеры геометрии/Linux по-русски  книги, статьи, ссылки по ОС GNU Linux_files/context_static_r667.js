(function(t,e,r){function a(t){this._key=t,this._blocks={}}if(!Ya.Context.AdvManager){var n={};n.genRnd=function(){return Math.abs(+new Date)+Math.round(1e4*Math.random())},n.ns=function(e){e=e.split(".");for(var r=0,a=t;e.length>r;r++)a=a[e[r]]||(a[e[r]]={})},n.augment=function(t,e){var r=e.constructor;e.hasOwnProperty("constructor")||(r=function(){r.superConstructor.apply(this,arguments)});var a=function(){};return a.prototype=t.prototype,r.prototype=new a,r.prototype.constructor=r,r.superclass=t.prototype,r.superConstructor=t,n.extend(r.prototype,e),r},n.extend=function(t){for(var e,r=1,a=arguments.length;a>r;r++)if(e=arguments[r])for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t};var i={}.toString;n.isArray=function(t){return"[object Array]"===i.call(t)},n.isFunction=function(t){return"[object Function]"===i.call(t)},n.inArray=function(t,e,a){(e===r||null===e)&&(e="");for(var n=0;t.length>n;n++)if(a&&a(e,t[n])||e===t[n])return n;return-1},n.each=function(t,e,r){for(var a=0,n=t.length;n>a;++a)e.call(r,t[a],a,t)},n.forOwn=function(t,e,r){for(var a in t)t.hasOwnProperty(a)&&e.call(r,t[a],a,t)},n.map=function(t,e,r){var a,n,i=Array(t.length);for(a=0,n=t.length;n>a;a++)a in t&&(i[a]=e.call(r,t[a],a,t));return i},n.filter=function(t,e,r){for(var a=[],n=0,i=t.length;i>n;n++){var o=t[n];e.call(r,o,n,t)&&a.push(o)}return a},n.keys=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e},n.deepCopy=function(t,e){if(e&&"object"==typeof e)for(var r in e)e.hasOwnProperty(r)&&("object"!=typeof e[r]||n.isArray(e[r])?t[r]=e[r]:("object"!=typeof t[r]&&(t[r]={}),n.deepCopy(t[r],e[r])));return t},n.getNativeMethod=function(t,e){var r=t[e];if(!n.checkNativeCode(r)){var a=r;try{delete t[e],r=t[e],t[e]=a}catch(i){}}return r},n.checkNativeCode=function(t){if(!t||!t.toString)return!1;var e=""+t;return/\[native code\]/.test(e)||/\/\* source code not available \*\//.test(e)},n.format=function(t,e){var r=Array.prototype.slice.call(arguments,1);return(""+t).replace(/(^|.|\r|\n)(\$\{(.*?)\})/g,function(t,a,n,i){return"\\"==a?n:/^[0-9]+$/.test(i)?a+[r[+i]].join(""):a+[e&&e[i]].join("")})},n.trim=function(t){return t.replace(/^\s+|\s+$/g,"")},n.camelize=function(t){return t.replace(/[-|_]([a-z])/g,function(){return arguments[1].toUpperCase()})},n.uncamelize=function(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})},n.capitalize=function(t){return t.charAt(0).toUpperCase()+t.substring(1,t.length)},n.toQueryParams=function(t){var e=[];return n.each(n.keys(t),function(a){t[a]!=r&&""!==t[a]&&e.push(a+"="+encodeURIComponent(t[a]))}),e.join("&")},n.prettify=function(t,e){if(e=e||{},e=n.extend({gluePrepositions:!0},e),/[\u0404\u0406\u0407\u0454\u0456\u0457\u0490\u0491]/.test(t))return t;t=t.replace(/&quot;/g,'"');var r="\u0430-\u043f\u0440-\u044f\u0410-\u042f\u0451\u0401",a="a-zA-Z"+r,i=RegExp("(["+a+"]) - (["+a+"])","g"),o="[\u0410\u0430]|[\u0411\u0431]\u0435\u0437|[\u0412\u0432](?:|\u044b|\u0430\u0441|\u0430\u043c|\u0441\u0435|\u0441\u0451)|[\u0413\u0433]\u0434\u0435|[\u0414\u0434](?:\u043e|\u043b\u044f)|[\u0417\u0437]\u0430|[\u0418\u0438](?:|\u0437)|[\u041a\u043a](?:|\u043e|\u0430\u043a)|[\u041c\u043c]\u044b|[\u041d\u043d](?:\u0430|\u0430\u043c|\u0430\u0441|\u0435|\u0438|\u043e)|[\u041e\u043e](?:|\u0431|\u0442)|[\u041f\u043f](?:\u043e|\u0440\u043e)|[\u0421\u0441](?:|\u043e)|[\u0422\u0442](?:\u043e|\u0443\u0442|\u044b)|[\u0423\u0443]|[\u0427\u0447]\u0442\u043e|[\u042d\u044d]\u0442\u043e",s="\u00a0",l="\u2013",p=t.match(/"/g),c=RegExp('(^|\\s)"([.\\-\\s\\d'+a+']{3,})"',"g"),d=t.match(c);return p&&d&&0==p.length%2&&p.length/2==d.length&&(t=t.replace(c,function(t,e,r){return/^[\-\s]|[\-\s]$|^[\-\s\d]+$/.test(r)?t:e+"\u00ab"+r+"\u00bb"})),e.gluePrepositions&&(t=t.replace(RegExp("(^|\\(|\\s)("+o+')\\s([\u00ab"$\\d'+a+"])","g"),"$1$2"+s+"$3")),t=t.replace(i,"$1"+s+l+" $2").replace(/ \-(\d\d?)%/g," \u2212$1%").replace(/ ([^\s]{1,2})$/,s+"$1").replace(/(\d+ (\d{3} ){0,2})\u0440\u0443\u0431([.,?!:;\s]|$)/g,function(t){return t.replace(/ /g,s)}).replace(/ !/,s+"!")},n.throttle=function(t,e){var r,a,n,i=null,o=0,s=function(){o=new Date,i=null,n=t.apply(r,a)};return function(){var l=new Date,p=e-(l-o);return r=this,a=arguments,0>=p?(clearTimeout(i),i=null,o=l,n=t.apply(r,a)):i||(i=setTimeout(s,p)),n}},function(){var a=navigator,i=e.documentMode,o=e.compatMode,s=a.userAgent.toLowerCase(),l=s.indexOf("opera")>-1,p=s.indexOf("opera mini")>-1,c=!l&&s.indexOf("msie 7")>-1||7==i,d=!l&&s.indexOf("msie 8")>-1&&7!=i&&9!=i||8==i,_=!l&&s.indexOf("msie 9")>-1&&7!=i&&8!=i||9==i,y=!l&&s.indexOf("msie 10")>-1,h=!l&&s.indexOf("msie 6")>-1,u=!l&&s.indexOf("msie")>-1||h||c||d||_||y,f=u&&(5==i||!y&&"BackCompat"==o),m=function(t){for(var e=new Image,r=0,a=t.length;a>r;r++)if(""===e.style[t[r]+"transform"])return t[r];return null}(" -webkit- -ms- -moz- -o-".split(" "));n.browser={support:{cssTransform:null!==m,cssTransformPrefix:m,canvas:function(t){return Boolean(t.getContext&&t.getContext("2d"))}(e.createElement("canvas"))},isIE:u,isIE6:h,isIE7:c,isIE8:d,isIE9:_,isIEQuirks:f,isOperaMini:p},n.browser.flashVer=function(){var e,n=a.plugins||{},i="object",o="Shockwave Flash",s="ShockwaveFlash.ShockwaveFlash",l="application/x-shockwave-flash",p=[0,0,0];if(typeof n[o]==i){if(e=n[o].description,e&&(a.mimeTypes!==r||!a.mimeTypes[l]||a.mimeTypes[l].enabledPlugin))return e=e.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),p[0]=parseInt(e.replace(/^(.*)\..*$/,"$1"),10),p[1]=parseInt(e.replace(/^.*\.(.*)\s.*$/,"$1"),10),p[2]=/[a-zA-Z]/.test(e)?parseInt(e.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0,p}else if(t.ActiveXObject!==r)try{var c=new ActiveXObject(s);if(c&&(e=c.GetVariable("$version")))return e=e.split(" ")[1].split(","),[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)]}catch(d){}return p}()}(),n.post=function(e,r){var a=n.toQueryParams(r);try{var i=new(t.XDomainRequest||t.XMLHttpRequest);i.open("post",e,!0),i.setRequestHeader&&i.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),i.send(a)}catch(o){var s=2083-location.protocol.length,l=e+"?"+a;if(l.length>s){var p=l.lastIndexOf("%",s-1);0>p&&(p=s-1),l=l.substring(0,p)}(new Image).src=l}},function(){if(t.JSON!==r&&t.JSON.stringify)return n.json=t.JSON,r;n.json={};var e=Object.prototype.toString,a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};n.json.stringify=function(t){if(null===t)return"null";if(t===r)return r;switch(e.call(t)){case"[object String]":return'"'+(a.test(t)?t.replace(a,function(t){var e=i[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}):t)+'"';case"[object Number]":case"[object Boolean]":return""+t;case"[object Array]":for(var o,s="[",l=0,p=t.length;p>l;)o=n.json.stringify(t[l]),s+=(l++?",":"")+(o===r?"null":o);return s+"]";case"[object Object]":var o,s="{",l=0;for(var c in t)t.hasOwnProperty(c)&&(o=n.json.stringify(t[c]),o!==r&&(s+=(l++?",":"")+'"'+c+'":'+o));return s+"}";default:return r}}}(),n.RGB=function(t,e,r){if(3>arguments.length){var a=n.RGB.normalizeColorHash(t)||"#000000";t=parseInt(a.substr(1,2),16),e=parseInt(a.substr(3,2),16),r=parseInt(a.substr(5,2),16)}this[0]=t,this[1]=e,this[2]=r},n.RGB.normalizeColorHash=function(t){return t=(t+"").toUpperCase().replace(/^#?/,"#"),/^#[0-9A-F]{6}$/i.test(t)?t:/^#[0-9A-F]{3}$/i.test(t)?t.replace(/([0-9A-F])([0-9A-F])([0-9A-F])/i,"$1$1$2$2$3$3"):r},n.RGB.prototype={_dec2hex:function(t){var e="0123456789ABCDEF";return e.charAt(t/16<<0)+e.charAt(t%16)},toString:function(){return"#"+this._dec2hex(this[0])+this._dec2hex(this[1])+this._dec2hex(this[2])},avg:function(){return(this[0]+this[1]+this[2])/3},luma:function(){return(299*this[0]+587*this[1]+114*this[2])/1e3},isLight:function(){return this.luma()>127}},n.base64=new function(){function t(t,e){t=t.replace(/\r\n/g,"\n");for(var r,n="",i=0;t.length>i;i++){var o=t.charCodeAt(i);if(128>o?r=a(o):o>127&&2048>o?(r=a(192|o>>6),r+=a(128|63&o)):(r=a(224|o>>12),r+=a(128|63&o>>6),r+=a(128|63&o)),n.length+r.length>e)break;n+=r}return n}function e(t){for(var e="",r=0,a=0,n=0;t.length>r;)a=t.charCodeAt(r),128>a?(e+=String.fromCharCode(a),r++):a>191&&224>a?(n=t.charCodeAt(r+1),e+=String.fromCharCode((31&a)<<6|63&n),r+=2):(n=t.charCodeAt(r+1),c3=t.charCodeAt(r+2),e+=String.fromCharCode((15&a)<<12|(63&n)<<6|63&c3),r+=3);return e}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",a=String.fromCharCode;this.encode=function(e,a){a=a||1e6;var n,i,o,s,l,p,c,d="",_=0;for(e=t(e,0|3*a/4);e.length>_;)n=e.charCodeAt(_++),i=e.charCodeAt(_++),o=e.charCodeAt(_++),s=n>>2,l=(3&n)<<4|i>>4,p=(15&i)<<2|o>>6,c=63&o,isNaN(i)?p=c=64:isNaN(o)&&(c=64),d=d+r.charAt(s)+r.charAt(l)+r.charAt(p)+r.charAt(c);return d},this.decode=function(t){var a,n,i,o,s,l,p,c="",d=0;for(t=t.replace(/[^A-Za-z0-9\-\_\=]/g,"");t.length>d;)o=r.indexOf(t.charAt(d++)),s=r.indexOf(t.charAt(d++)),l=r.indexOf(t.charAt(d++)),p=r.indexOf(t.charAt(d++)),a=o<<2|s>>4,n=(15&s)<<4|l>>2,i=(3&l)<<6|p,c+=String.fromCharCode(a),64!=l&&(c+=String.fromCharCode(n)),64!=p&&(c+=String.fromCharCode(i));return e(c)}},e.createElement("YATAG"),n.dom=function(t,r){if("string"!=typeof t)return t;var a=t.slice(0,1),i=t.slice(1);switch(a){case"#":return e.getElementById(i);case".":return n.dom.getElementsByClassName(i,r)}},n.dom.getElementsByClassName=function(t,r){if(r=r||e,n.checkNativeCode(r.getElementsByClassName))return Array.prototype.slice.call(r.getElementsByClassName(t));var a=r.getElementsByTagName("*"),i=n.filter(a,function(e){return n.dom.hasClass(e,t)});return i},n.dom.css=function(t,e){n.each(n.keys(e),function(r){var a=n.dom.normalizeCSSProperty(r,e[r]),i=n.camelize(a[0]);t.style[i]=a[1]})},n.dom.hasClass=function(t,e){for(var r=t.className.split(" "),a=0,n=r.length;n>a;a++)if(r[a]==e)return!0;return!1},n.dom.addClass=function(t,e){n.dom.hasClass(t,e)||(t.className+=" "+e)},n.dom.removeClass=function(t,e){var r=t.className.split(" "),a=n.filter(r,function(t){return t!=e});a.length<r.length&&(t.className=a.join(" "))},n.dom.toggleClass=function(t,e,a){r===a&&(a=!n.dom.hasClass(t,e)),a?n.dom.addClass(t,e):n.dom.removeClass(t,e)},n.dom.getHead=function(){var t=e.getElementsByTagName("head")[0];return t||(t=e.createElement("head"),e.documentElement.appendChild(t)),t},n.dom.getStyle=function(t,a){return n.dom.getStyle=e.defaultView&&e.defaultView.getComputedStyle?function(t,a){return t&&t!=e?(a=n.dom.normalizeCSSProperty(a,r,t),e.defaultView.getComputedStyle(t,null)[a[0]]):null}:t.currentStyle?function(t,a){return t&&t!=e&&t.currentStyle?(a=n.dom.normalizeCSSProperty(a,r,t),t.currentStyle[a[0]]):null}:function(t,a){return t&&t!=e?(a=n.dom.normalizeCSSProperty(a,r,t),t.style[a[0]]):null},n.dom.getStyle(t,a)},n.dom.setImportantCssProperty=function(t,e,r){t.style.setProperty?t.style.setProperty(e,r,"important"):t.style.cssText+=";"+e+":"+r+" !important"},n.dom.normalizeCSSProperty=function(t,r,a){var i=a?a.style:e.documentElement.style;return t=n.camelize(t),"opacity"==t&&"string"!=typeof i.opacity?["filter",1==r?"":"Alpha(opacity="+100*r+")"]:/^(float|(style|css)Float)$/.test(t)?(t="float",a&&(t="string"==typeof i.cssFloat?"cssFloat":"styleFloat"),[t,r]):"boxShadow"==t?(n.each(["MozBoxShadow","WebkitBoxShadow","boxShadow"],function(e){"string"==typeof i[e]&&(t=e)}),[t,r]):[t,r]},n.dom.getWindowSize=function(){var r=e.documentElement,a=e.body;return{width:t.innerWidth||r&&r.clientWidth||a&&a.clientWidth||0,height:t.innerHeight||r&&r.clientHeight||a&&a.clientHeight||0}},n.dom.remove=function(t){var e=t.parentNode;e&&e.removeChild(t)},n.dom.appendStyle=function(t){var r=e.createElement("style");return r.setAttribute("type","text/css"),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(e.createTextNode(t)),n.dom.getHead().appendChild(r),r},n.dom.addScript=function(t,a){if(a)return e.write('<script type="text/javascript" charset="utf-8" src="'+t+'"></script>'),r;var i=e.createElement("script");return i.charset="utf-8",i.src=t,n.dom.getHead().appendChild(i),i},n.dom.getScroll=function(t){var e=t.scrollTop;t.scrollTop+=20;var r=t.scrollTop;return t.scrollTop=e,r},n.dom.isInViewport=function(t,e){try{var r=t.getBoundingClientRect()}catch(a){return o.remoteLog("util.dom.isInViewport: no getBoundingClientRect"),!0}var i=r.right-r.left,s=r.bottom-r.top,l=0;if(i>0&&s>0){var p=function(t,e,r){return Math.max(Math.min(e,r)-Math.max(t,0),0)},c=n.dom.getWindowSize(),d=p(r.left,r.right,c.width),_=p(r.top,r.bottom,c.height);l=d*_/(i*s)}return l>=(e||Number.MIN_VALUE)},n.domEvent={},function(){function r(){if("complete"===e.readyState)setTimeout(a);else if(l)p(e,"DOMContentLoaded",i,!1),p(t,"load",i,!1);else{e.attachEvent("onreadystatechange",i),t.attachEvent("onload",i);var r=!1;try{r=null==t.frameElement&&e.documentElement}catch(n){}r&&r.doScroll&&function o(){if(!d){try{r.doScroll("left")}catch(t){return setTimeout(o,50)}s(),a()}}()}}function a(){if(!d){if(!e.body)return setTimeout(a);d=!0;for(var t=0;_.length>t;t++)_[t]();_=null}}function i(t){(l||"load"===t.type||"complete"===e.readyState)&&(s(),a())}function s(){l?(c(e,"DOMContentLoaded",i,!1),c(t,"load",i,!1)):(e.detachEvent("onreadystatechange",i),t.detachEvent("onload",i))}var l=n.getNativeMethod(e,"addEventListener"),p=function(t,e,r){t.attachEvent("on"+e,r)},c=function(t,e,r){t.detachEvent("on"+e,r)};l&&(p=function(t,e,r){n.getNativeMethod(t,"addEventListener").call(t,e,r,!1)},c=function(t,e,r){n.getNativeMethod(t,"removeEventListener").call(t,e,r,!1)}),n.domEvent.on=function(t,e,r,a,i){if(!t||!r)return null;var s=o.protect(e+" handler",r,a),l={un:function(){c(t,e,s)}};return i&&i.once&&(s=function(t){return function(e){t(e),n.domEvent.un(l)}}(s)),p(t,e,s),l},n.domEvent.un=function(t){t&&t.un()},n.domEvent.ready=function(t,e){var a=o.protect("ready",t,e);d?a():(_.push(a),y||(r(),y=!0))};var d=!1,_=[],y=!1}(),function(){function t(){this._listeners=[]}n.Observable=function(){this._listeners={}},n.Observable.prototype={fireEvent:function(t){t=t.toLowerCase();var e=this._listeners[t];e&&e.fireEvent.apply(e,Array.prototype.slice.call(arguments,1))},on:function(e,r,a,i){if(n.isFunction(r)){e=e.toLowerCase(),a=a||this;var o=this._listeners[e];o||(o=this._listeners[e]=new t),o.on(r,a,i)}},un:function(t,e,r){t=t.toLowerCase(),r=r||this;var a=this._listeners[t];a&&a.un(e,r)}},t.prototype={on:function(t,e,r){r=r||{},-1===this._getListenerIndex(t,e)&&this._listeners.push(this._createListener(t,e,r))},_getListenerIndex:function(t,e){for(var r=0,a=this._listeners.length;a>r;r++)if(this._listeners[r].fn==t&&this._listeners[r].scope==e)return r;return-1},_createListener:function(t,e,r){var a=t;if(r.once){var n=this;a=function(){return n.un(t,e),t.apply(e,arguments)}}return{fn:t,scope:e,fireFn:a}},fireEvent:function(){for(var t=this._listeners.slice(0),e=0,r=t.length;r>e;e++)if(t[e].fireFn.apply(t[e].scope,arguments)===!1)return},un:function(t,e){var r=this._getListenerIndex(t,e);-1!==r&&this._listeners.splice(r,1)}}}(),n.warning=function(){var t=[255,247,240,231,221,210,194,174,144,112,80,35,0],e=[255,222,190,165,139,118,102,86,75,70,68,66,64],r=.85;return{getBgColor:function(r){for(var a=new n.RGB(r),i=a.avg(),o=1;t[o]>i;)o++;var s=t[o],l=t[o-1],p=e[o],c=e[o-1],d=(p+1*(i-s)/(l-s)*(c-p))/255,_=1-d,y=255*d;return""+new n.RGB(a[0]*_+y,a[1]*_+y,a[2]*_+y)},getBorderColor:function(t,e){var a=new n.RGB(t),i=new n.RGB(e);return""+new n.RGB(a[0]*r+i[0]*(1-r),a[1]*r+i[1]*(1-r),a[2]*r+i[2]*(1-r))}}}(),n.VisibilityChecker=n.augment(n.Observable,{_defaultOptions:{confirmDelay:0,visiblePortion:Number.MIN_VALUE},constructor:function(t){n.VisibilityChecker.superConstructor.call(this),this._options=n.extend({},this._defaultOptions,t),this._isListening=!1,this._isConfirmed=!1},listen:function(e){if(!e)throw Error("util.VisibilityChecker#listen: No element");this._element=e,this._isListening=!0;var r=o.protect("util.VisibilityChecker#check",this._check,this),a=n.throttle(r,50);this._zeroTimerCheck=setTimeout(r,0),this._checkLaunchers=[n.domEvent.on(t,"scroll",a),n.domEvent.on(t,"resize",a),n.domEvent.on(t,"load",r)];for(var i=this._element.parentNode;i;)this._checkLaunchers.push(n.domEvent.on(i,"scroll",a)),i=i.parentNode},clear:function(){this._clearConfirmTimer(),this._zeroTimerCheck&&clearTimeout(this._zeroTimerCheck),this._isListening&&(this._isListening=!1,n.each(this._checkLaunchers,function(t){n.domEvent.un(t)}),this._checkLaunchers=null)},_check:function(){this._isConfirmed||(n.dom.isInViewport(this._element,this._options.visiblePortion)?(this.fireEvent("visible"),this._setConfirmTimer()):this._clearConfirmTimer())},_setConfirmTimer:function(){this._confirmTimer||(this._confirmTimer=o.setProtectedTimeout(this.confirm,this._options.confirmDelay||0,this))},_clearConfirmTimer:function(){this._confirmTimer&&(clearTimeout(this._confirmTimer),this._confirmTimer=null)},confirm:function(){this._isConfirmed||(this._isConfirmed=!0,this.fireEvent("confirmed"),this.clear())}}),n.browser.isOperaMini&&(n.VisibilityChecker.prototype._check=function(){this._element.offsetWidth>0&&this._element.offsetHeight>0&&this.confirm()}),function(){function t(t){return r(t,0).replace(/\s+/," ")}function r(t,e){if(!t||e>a)return"";for(var n,i="",o=t.childNodes,s=0;o.length>s;){switch(n=o[s],n.nodeType){case 1:case 5:i+=r(n,e+1);break;case 3:case 2:case 4:i+=n.nodeValue+" "}s++}return i}n.grab=function(r,a){if(a){var i,o="yandex.ru yandex.com yandex.ua yandex.by yandex.kz yandex.com.tr".split(" "),s=e.location.host;for(i=0;o.length>i;i++)if(s.substr(s.length-o[i].length,s.length)==o[i])return a}for(var l,p,c=["t"+(e.title||"")],d=c[0].length,i=1;4>i&&r>d;){l=e.getElementsByTagName("h"+i);for(var _=0;l.length>_;_++)p=t(l[_]),d+=p.length,c.push(i+""+p);i++}var y=c.join("\n");return n.base64.encode(y,r)};var a=5}();var o={};(function(){var e=3;o.remoteLog=function(t){e-->0&&n.post("//an.yandex.ru/jserr/1",{errmsg:"v:"+Ya.codeVer+"::"+t})},o.protect=function(t,e,r){return function(){try{return e.apply(r||this,arguments)}catch(a){o.remoteLog("Error::"+t+"::"+a.message)}}},o.setProtectedTimeout=function(e,r,a){return t.setTimeout(o.protect("timeout",e,a),r)}})(),function(){n.ns("Ya.Const"),Ya.Const.BlockTypes={VERTICAL:"vertical",FLAT:"flat",HORIZONTAL:"horizontal",GRID:"grid",ROW:"row",STRIPE:"stripe"},Ya.Const.ImageLayout={NONE:"none",FLOAT:"float",LEFT:"left",FULL:"full"},Ya.Const.ImageSize={M:"M",L:"L"},Ya.Const.ImageAxis={X:"X",Y:"Y"},Ya.Const.BorderTypes={NONE:"none",BLOCK:"block",AD:"ad"},Ya.Const.Products={PREMIUM:"premium",DIRECT:"direct"},Ya.Const.Limits={reloadTimeOut:3e4,visibCheckDelay:2e3,stripeVisibCheckDelay:2e3};var t="none",e="inherit",r="auto",a="normal";Ya.Const.cssReset={background:"transparent none no-repeat scroll 0 0",border:t,"border-radius":t,"border-spacing":0,"border-collapse":"collapse","-moz-box-sizing":"content-box","box-sizing":"content-box",clear:t,clip:r,color:e,cursor:r,"empty-cells":"show","float":t,font:e,"font-variant":a,"font-weight":a,height:r,"letter-spacing":a,"line-height":a,margin:0,"max-height":t,"max-width":t,"min-height":0,"min-width":0,outline:t,overflow:"visible",padding:0,position:"static","table-layout":r,"text-align":"left","text-decoration":t,"text-indent":0,"text-transform":t,"vertical-align":"baseline",visibility:"visible","white-space":a,width:r,"word-spacing":a,"z-index":r},Ya.Const.config={autoRenderStripeBlock:!0},Ya.Const.urls={adTune:"http://adtune.yandex.ru/"}}(),Ya.Context.configure=function(t){var e=n.extend(Ya.Const.config,t);Ya.HeadStripe.autoRender=!!e.autoRenderStripeBlock,e.autoRenderStripeBlock?delete Ya.Context.renderStripeBlock:Ya.Context.renderStripeBlock=function(t){Ya.HeadStripe.renderBlock(t)}};var s;(function(){function r(t,e){i(l(t),e)}function a(t,e){i(p(t),e)}function i(e,r){var a,i=n.genRnd(),s=o.setProtectedTimeout(function(){Ya[i]&&(Ya[i]("{}"),Ya[i]=function(){})},15e3);Ya[i]=function(e){t.clearTimeout(s);var l={};try{delete Ya[i],l=Function("return "+e)()}catch(p){o.remoteLog("JSONP parse::"+p.message+"::"+e)}o.protect("JSONP callback",function(){r(l),a&&n.dom.remove(a)})()},a=n.dom.addScript(e+"&callback=Ya["+i+"]",!Ya.Context._asyncModeOn)}function l(t){var e="//bs-meta.yandex.ru/meta/"+t.pageId+"?",r=c(t);return r["imp-id"]=t.blockImpId,r["flash-ver"]=n.browser.flashVer[0],t.skipToken&&(r["skip-token"]=t.skipToken),e+=n.toQueryParams(r),e+=t.extParams||"","http:"==location.protocol&&(e+="&grab="+n.grab(2040-e.length)),e}function p(t){var e="//an.yandex.ru/page/"+t.pageId+"?",r=c(t);return t.statId&&(r["stat-id"]=t.statId),t.skipBanner&&(r["skip-banner"]=t.skipBanner),t.searchText&&(r.text=t.searchText,r["page-no"]=t.searchPageNumber),e+=n.toQueryParams(r),"http:"==location.protocol&&(e+="&grab="+n.grab(2040-e.length,t.grab)),e}function c(r){var a,i;try{t.top.document.location.host,a=t.top.document.referrer,i=t.top.document.location.href,n.browser.isIE6&&i===a&&(a="")}catch(o){i=e.referrer||t.location.href,a=""}var s={"target-ref":i.substr(0,512),"page-ref":a.substr(0,512),charset:"utf-8"};return r.lang&&(s.lang=r.lang),s}s={loadRtb:r,loadDirect:a}})(),n.ns("Ya.Context.Direct"),function(){function t(t,e){n.extend(this,t),this.index=e}var e=Ya.Const.BlockTypes,r=Ya.Const.BorderTypes,a=[{name:e.VERTICAL,fixed:!1,type:e.VERTICAL,limit:9,border:[r.NONE,r.BLOCK,r.AD]},{name:e.FLAT,fixed:!1,type:e.FLAT,limit:4,border:[r.NONE,r.BLOCK,r.AD]},{name:e.HORIZONTAL,fixed:!1,type:e.HORIZONTAL,limit:4,border:[r.NONE,r.BLOCK,r.AD]},{name:"160x600",fixed:!0,type:e.VERTICAL,limit:5,border:[r.NONE,r.BLOCK]},{name:"240x400",fixed:!0,type:e.VERTICAL,limit:4,border:[r.NONE,r.BLOCK]},{name:"200x300",fixed:!0,type:e.VERTICAL,limit:3,border:[r.NONE,r.BLOCK]},{name:"300x300",fixed:!0,type:e.VERTICAL,limit:4,border:[r.NONE,r.BLOCK]},{name:"300x250",fixed:!0,type:e.VERTICAL,limit:3,border:[r.NONE,r.BLOCK]},{name:"250x250",fixed:!0,type:e.VERTICAL,limit:3,border:[r.NONE,r.BLOCK]},{name:"728x90",fixed:!0,type:e.FLAT,limit:3,border:[r.NONE,r.BLOCK]},{name:"1000x120",fixed:!0,type:e.FLAT,limit:4,border:[r.NONE,r.BLOCK]},{name:e.ROW,fixed:!1,type:e.ROW,limit:1,skipWarnings:!0,border:[r.NONE]},{name:"mobile",fixed:!1,type:e.VERTICAL,limit:1,border:[r.NONE,r.BLOCK]},{name:e.STRIPE,fixed:!1,type:e.STRIPE,limit:1,border:[r.NONE]},{name:"100%x90",fixed:!0,type:e.FLAT,limit:3,border:[r.NONE,r.BLOCK]},{name:"100%x120",fixed:!0,type:e.FLAT,limit:4,border:[r.NONE,r.BLOCK]},{name:e.GRID,fixed:!1,type:e.GRID,limit:4,border:[r.NONE,r.BLOCK,r.AD]}];t.prototype={getSize:function(){return this.fixed?this.name.split("x"):[-1,-1]}};var i={};n.each(a,function(e,r){i[e.name]=new t(e,r)}),Ya.Context.Direct.FormatManager={getFormatByName:function(t){return i[t]||null},getDefaultFormat:function(){return i[e.VERTICAL]}}}(),function(){function e(t){t.stripe&&Ya.HeadStripe.loadStripeData(t)}function i(e){(t.yandex_metrika_callbacks||(t.yandex_metrika_callbacks=[])).push(o.protect("mc",function(){t["yaCounter"+e]=new Ya.Metrika({id:e,type:1,_exp:!0})})),n.dom.addScript("//mc.yandex.ru/metrika/watch.js"),i=function(){}}function p(t){p=function(e){t!=e&&(o.remoteLog("Warning: multiple partnerIds on page: "+t+", "+e),p=function(){})}}function c(){var t=[],e=!1,r=function(){t.length?t.shift()(r):e=!1};return{add:function(a){e?t.push(a):(e=!0,a(r))}}}var d=new c,_={_adFilter:"",_managers:{},_getManager:function(t){return this._managers[t]||(this._managers[t]=new l(t))},render:function(t,e){var r=/^(\w)\-(\d+)\-(\d+)$/i.exec(t.blockId);t.pageId=r[2],t.blockImpId=r[3],p(t.pageId),i(t.pageId);var a=this._getManager(t.blockId);Ya.Context._asyncModeOn?this._renderAsync(a,t,e):this._renderSync(a,t)},_renderAsync:function(t,e,r){this._loadData(t,e,r||function(){},!1)},_renderSync:function(e,r){t.yandex_rtb_is_displayed=!0,this._loadData(e,r,function(){t.yandex_rtb_is_displayed=!1},!0)},_loadData:function(t,a,n,i){var o=this,l=function(e){e.settings&&(o._adFilter=e.settings[a.blockImpId].adFilter),t.setData(e),t.render(a,n)};if(a.data)return l(a.data),r;if(!t.dataCanReload())return t.render(a,n),r;var p=function(r){s.loadRtb({pageId:a.pageId,blockImpId:a.blockImpId,extParams:a.extParams,skipToken:o._getSkipToken(t),lang:a.lang},function(t){e(t),l(t),r&&r()})};i?p():d.add(function(t){p(t)})},_getSkipToken:function(t){var e=this._adFilter?this._adFilter.split(":"):[];e=n.filter(e,function(t){return!/^yabs\./.test(t)});var r=t.getSkipAds();return r.length&&e.push("yabs."+n.base64.encode(r.join("\n"))),e.join(":")}},y={_manager:null,_getManager:function(){return this._manager||(this._manager=new a("direct"))},render:function(t,e,r,a){p(t),i(t);var o={};for(var s in r)r.hasOwnProperty(s)&&(o[n.camelize(s)]=r[s]);if(o.name=o.type,o.product=o.adFormat,o=Ya.Context.AdvManager.settings.validate(o)){var l={renderTo:e,pageId:t,data:r.data},c=this._getManager();Ya.Context._asyncModeOn?this._renderAsync(c,l,o,a):this._renderSync(c,l,o)}},_renderAsync:function(t,e,r,a){this._loadData(t,e,r,a||function(){},!1)},_renderSync:function(e,r,a){t.yandex_ad_is_displayed=!0,this._loadData(e,r,a,function(){t.yandex_ad_is_displayed=!1},!0)},_loadData:function(t,a,n,i,o){var l=function(e){t.setData(e),t.render(a,n,i)};if(a.data)return l(a.data),r;var p=function(o){return t.dataCanReload()?(s.loadDirect({pageId:a.pageId,skipBanner:t.getSkipBanners().join("\n"),siteCharset:n.siteCharset,statId:n.statId,grab:n.grab,searchText:n.searchText,searchPageNumber:n.searchPageNumber||1,lang:n.lang},function(t){e(t),l(t),o&&o()}),r):(t.render(a,n,i),o&&o(),r)};o?p():d.add(function(t){p(t)})}};Ya.Context.AdvManager={render:o.protect("AdvManager.render",_.render,_),renderDirect:o.protect("AdvManager.renderDirect",y.render,y)}}();var l;(function(){function t(t,e){var r;this.getSettings=function(){return e},this.getHtml=function(){return r||(r=n.base64.decode(t.rtb.html)),r};var a;this.onConfirmVisibility=function(){a||(e.linkTail&&((new Image).src=e.linkTail),e.viewNotice&&((new Image).src=e.viewNotice),a=!0)}}l=function(e){var n,i,o,s,l=new a(e);this.setData=function(t){n=t,i=new Date,s=null,l.setData({}),n.direct&&l.setData(n)},this.dataCanReload=function(){return!i||new Date-i>Ya.Const.Limits.reloadTimeOut},this.render=function(e,a){if(o&&o.destructor(),n.rtb)return s||(s=new t(n,n.settings[e.blockImpId])),o=new _(s,e.renderTo,e.blockId),o.render(),r;if(n.direct){var i=Ya.Context.AdvManager.settings.validate(n.settings[e.blockImpId]),p={renderTo:e.renderTo};return l.render(p,i),o={destructor:function(){n.direct||l.render(p,i)}},r}a()},this.getSkipAds=function(){return l.getSkipBanners()}}})(),a.prototype={setData:function(t){this._data=t,this._visibilityManager=new a.VisibilityManager,this._timestamp=new Date},dataCanReload:function(){return!this._timestamp||new Date-this._timestamp>Ya.Const.Limits.reloadTimeOut},render:function(t,e,r){var a=t.renderTo||e.format.name;this._blocks[a]&&this._blocks[a].destructor(),this._blocks[a]=this._createBlock(t,e,(t.renderTo||"")+"-"+e.format.name),this._blocks[a]?this._blocks[a].render():r&&r()},_createBlock:function(t,e,r){var a=this._createDataSource(e);if(a.isEmpty())return null;var i=Ya.Context.Direct[n.capitalize(e.format.name)];return new i(a,e,t.renderTo,r)},_createDataSource:function(t){var e;switch(t.product){case Ya.Const.Products.DIRECT:e=c;break;case Ya.Const.Products.PREMIUM:e=d}return e?new e(this._data,this._key,t,a.capturingManager,this._visibilityManager):r},getSkipBanners:function(){return a.capturingManager.getCapturedAdIds(this._key)}},a.capturingManager=function(){var t={};return{capture:function(e,r){t[e]||(t[e]=[]),t[e].push(r)},release:function(e,r){var a=t[e];if(a){var i=n.inArray(a,r);-1!==i&&a.splice(i,1)}},getCapturedAdIds:function(e){var r=[];return n.each(n.keys(t),function(a){a!==e&&(r=r.concat(t[a]))}),r}}}(),a.VisibilityManager=function(){var t={};return{needConfirm:function(e){return!t[e]},confirm:function(e){t[e]=!0}}};var p=n.augment({},{constructor:function(t,e,r,a,i){this._data=t,this._key=e,this._settings=r,this._capturingManager=a,this._visibilityManager=i,this._ads=[];var o=this._getFromData("ads");o&&(this._ads=n.map(o,this._prepareAd,this))},getType:function(){},_getFromData:function(t){var e=this.getType();return this._data[e]&&this._data[e][t]},_prepareAd:function(t){var e=n.extend({},t),r=this._getLinkTailExt();return e.url+=r,e.vcardUrl&&(e.vcardUrl+=r),e.images&&(e.images=this._prepareImages(e.images)),e.site=e.domain?e.domain.replace(/^www\./,""):"",this._settings.favicon&&e.punyDomain&&(e.favicon="//favicon.yandex.net/favicon/"+e.punyDomain),e.sitelinks=this._settings.noSitelinks||!e.sitelinks?null:this._prepareSitelinks(e.sitelinks,r),e.body=n.prettify(e.body,{gluePrepositions:!e.images}),e.title=n.prettify(e.title),e},_getLinkTailExt:function(){return"?"+n.toQueryParams({"test-tag":this._getTestTag(),"stat-id":this._settings.statId})},_getTestTag:function(){for(var e=[[4,1],[3,Ya.codeVer%8],[3,Ya.loaderVer%8],[5,this._settings.format.index],[1,t.top!==t.self],[1,!!this._settings.favicon]],r=0,a=0,n=0;e.length>a;a++)r|=e[a][1]<<n,n+=e[a][0];return r},_prepareImages:function(t){var e={},r={M:80,L:90};return n.each(t,function(t){for(var a in r)e[a]=e[a]||{},t[1]==r[a]&&(e[a].X=t),t[2]==r[a]&&(e[a].Y=t)}),e},_prepareSitelinks:function(t,e){var r=[];return n.each(t,function(t){t.title&&t.url&&r.push({title:n.prettify(t.title),url:t.url+e})}),r.length?r:null},isEmpty:function(){return 0===this._ads.length},getLinkHead:function(){return this._data.common.linkHead},getTitle:function(){return this._getFromData(this.getType()+"Title")},getFreeAds:function(){var t=this._capturingManager.getCapturedAdIds(),e=n.filter(this._ads,function(e){return-1===n.inArray(t,e.adId)});return e},getShowAdTune:function(){if("1"!==this._data.common.isYandex)return"none";var t=this._data.common.showAdTune;return t?"1"===t?"byHover":t:"always"},getAdTuneReportData:function(t){var e=n.filter(this._data[this.getType()].ads,function(e){return e.adId==t})[0];return{adId:e.adId,abuseUrl:e.abuseUrl,data:{common:n.extend({},this._data.common,{showAdTune:"none"}),direct:{ads:[e],directTitle:{title:"<em>\u042f</em>\u043d\u0434\u0435\u043a\u0441.\u0414\u0438\u0440\u0435\u043a\u0442",url:"http://direct.yandex.ru/?partner"}}}}},releaseAd:function(t){this._capturingManager.release(this._key,t.adId)},captureAd:function(t){this._capturingManager.capture(this._key,t.adId)},onConfirmVisibility:function(t){var e=n.filter(t,function(t){return this._visibilityManager.needConfirm(t.linkTail)},this);if(e.length){var r=n.map(e,function(t){return t.linkTail}).join("");(new Image).src=this.getLinkHead()+r+this._getLinkTailExt()+"&wmode=0",n.each(e,function(t){this._visibilityManager.confirm(t.linkTail)},this)}}}),c=n.augment(p,{getType:function(){return"direct"},onConfirmVisibility:function(t){this._settings.linkTail&&!this._rtbVisibilityConfirmed&&((new Image).src=this._settings.linkTail,this._rtbVisibilityConfirmed=!0),c.superclass.onConfirmVisibility.call(this,t)}}),d=n.augment(p,{getType:function(){return"premium"}});Ya.Context.AdvManager.settings={validate:function(t){if(t.product){if(t.product!==Ya.Const.Products.DIRECT&&t.product!==Ya.Const.Products.PREMIUM)return null}else t.product=Ya.Const.Products.DIRECT;if(t.statId=parseInt(t.statId,10),isNaN(t.statId)&&(t.statId=""),t.format=Ya.Context.Direct.FormatManager.getFormatByName(t.name),!t.format)switch(t.name){case"600x60":case"468x60":case"234x60":case"180x150":case"125x125":case"120x240":case"120x600":case"auto":return null;default:o.remoteLog("Warning:settings: unknown settings.name "+t.name),t.format=Ya.Context.Direct.FormatManager.getDefaultFormat()}var e=parseInt(t.limit,10);t.limit=e>=1&&9>=e?e:9;var r=t.format,a=r.getSize();return t.width=a[0],t.height=a[1],-1==n.inArray(r.border,t.borderType)&&(t.borderType=r.border[0]),t.borderRadius=Boolean(t.borderRadius),t.c11n=t.c11n||{},this._validateColors(t),this._validateFonts(t),this._validateFontSizes(t),t},_validateFonts:function(t){var e={arial:"sans-serif","courier new":"monospace",tahoma:"sans-serif","times new roman":"serif",verdana:"sans-serif"};
e[t.fontFamily]?t.fontFamily+=", "+e[t.fontFamily]:t.fontFamily="inherit"},_validateFontSizes:function(t){if(!t.format.fixed){var e=parseFloat(t.fontSize,10);t.fontSize=e>=.5&&2.5>=e?e:1;var r=parseInt(t.titleFontSize,10);t.titleFontSize=r>=1&&3>=r?r:3;for(var a={1:[[0,107]],2:[[0,128],[.7,125],[.8,123],[1.1,116]],3:[[0,135],[.9,130],[1,128],[1.1,125]]},n=0,i=a[t.titleFontSize];i[n]&&i[n][0]<t.fontSize;)t.titleFontSizePercent=i[n][1]+"%",n++}},_validateColors:function(t){var e="siteBgColor bgColor borderColor headerBgColor titleColor urlColor hoverColor textColor".split(" ");n.each(e,function(e){var r=n.RGB.normalizeColorHash(t[e]);r?t[e]=r:delete t[e]})}},Ya.Context.Component=n.augment(n.Observable,{classes:"",css:{},html:"",templData:null,constructor:function(t,e){Ya.Context.Component.superConstructor.call(this),this.blockId=e,this.renderTo=t,this._mainContId="ya_partner_"+this.blockId.replace(/[^-\w]/g,"-")},destructor:function(){this.clearEvents(),this.clearHTML(),this._privateStyle&&(n.dom.remove(this._privateStyle),this._privateStyle=null)},clearHTML:function(){var t=this.getMainCont();t&&n.dom.remove(t)},clearEvents:function(){},getMainCont:function(){return n.dom("#"+this._mainContId)},_grabCss:function(t){t=t||"css";var e,r,a=this._grabPrototypeChain(t,!0).reverse(),i={};for(r=0;a.length>r;r++)n.deepCopy(i,a[r]);if(n.browser.isIE6||n.browser.isIE7||n.browser.isIE8||n.browser.isIEQuirks)for(e=this._grabPrototypeChain(t+"Ie").reverse(),r=0;e.length>r;r++)n.deepCopy(i,e[r]);return i},_specifyCssStylesSheet:function(t,e){e=e||"#"+this._mainContId+" ";var r,a,n,i=[];for(a in t)t.hasOwnProperty(a)&&i.push(a);for(n=0;i.length>n;n++)r=e+i[n],t[r]=t[i[n]],delete t[i[n]];return t},decorateCss:function(t){return t},decorateHtml:function(t){this.templData={},this.decorateHtml=function(t){n.extend(this.templData,t)},this.decorateHtml(t)},_getCss:function(){var t=this._grabCss(),e={};return this.decorateCss(e),this._specifyCssStylesSheet(e),{publicCss:this._buildCss(t,!0),privateCss:this._buildCss(e,!0)}},_grabClasses:function(){var t=(this._grabPrototypeChain("classes").join(" ")+" "+(this.classes||"")).split(" "),e={};return n.each(t,function(t){e[t]=1}),n.keys(e).reverse().join(" ")},_getHtml:function(){return this.templData=this.templData||{},this.decorateHtml({classes:this._grabClasses(),mainContId:this._mainContId}),this.compiledHtml=this._xTempl(this.html,this.templData),this.compiledHtml},_xTempl:function(t,e){var r=Function("data, browser","var platform=[];platform.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/\t=(.*?)%>/g,"',typeof data.$1 === 'string' || typeof data.$1 === 'number' ? data.$1 : 'data.$1','").split("	").join("');").split("%>").join("platform.push('")+"');return platform.join('');");return r(e,n.browser)},appendBlock:function(){var t=this._getCss(),e=this._getHtml();return this.insertCSS(t),this.insertHtml(e)},insertCSS:function(t){t.publicCss&&n.dom.appendStyle(t.publicCss),this._privateStyle=n.dom.appendStyle(t.privateCss)},insertHtml:function(t){var e=n.dom("#"+this.renderTo);return e?(e.innerHTML=t,!0):!1},_grabPrototypeChain:function(t,e){for(var r=this.constructor.prototype.hasOwnProperty(t)?[this.constructor.prototype[t]]:[],a=this.constructor.superclass;a;)a.hasOwnProperty(t)&&(r.push(a[t]),e&&delete a[t]),a=a.constructor.superclass;return e&&delete this.constructor.prototype[t],r},_buildCss:function(t,e){var r=this._compileCSSRule("",t,e);return n.trim(r.substring(2,r.length-2))},_compileCSSRule:function(t,r,a){var i=[];return n.format("${0} {\n${1}}\n",t,n.map(n.keys(r),function(o){var s,l,p,c=r[o];return"object"==typeof c?(/^[?^] /.test(o)?(s="string"==typeof e.documentElement.style[n.dom.normalizeCSSProperty(o.substr(2),"")[0]],l="?"==o.charAt(0)&&s||"^"==o.charAt(0)&&!s,l&&i.push(this._compileCSSRule(t,c,a))):i.push(this._compileCSSRule(t+" "+o,c,a)),""):(a&&!/!important$/.test(c)&&(c+=" !important"),p=n.dom.normalizeCSSProperty(o,n.format(c,this)),n.format("    ${0}: ${1};\n",n.uncamelize(p[0]),p[1]))},this).join("")+i.join(""))},addModificatorClass:function(t,e){(t||"string"==typeof t)&&(e?this.classes=n.trim(t)+" "+this.classes:this.classes+=" "+n.trim(t))},addCssStyle:function(t,e,r){"string"==typeof t&&(t=t.split(","));var a,i,o,s;for(s=0;t.length>s;s++)if(a=n.trim(t[s])){i=e[a]||(e[a]={});for(o in r)r.hasOwnProperty(o)&&(i[o]=r[o])}return e},getCssStyle:function(t,e,r){if(t){var a=r[t]||(r[t]={});return a[e]}}}),Ya.Context.Adv=n.augment(Ya.Context.Component,{css:{"body .ya-partner .ya-partner__hidden":{display:"none !important"}},constructor:function(t,e,r,a){Ya.Context.Adv.superConstructor.call(this,r,a),this.dataSource=t,this.settings=e,this._visibilityChecker=null,this.advs=[]},destructor:function(){Ya.Context.Adv.superclass.destructor.call(this),this.advs.length&&n.each(this.advs,function(t){this.dataSource.releaseAd(t)},this)},createVisibilityChecker:function(){this._visibilityChecker=new n.VisibilityChecker({confirmDelay:Ya.Const.Limits.visibCheckDelay}),this._visibilityChecker.on("confirmed",this._onConfirmVisibility,this),this._visibilityChecker.listen(this.getMainCont())},clearEvents:function(){Ya.Context.Adv.superclass.clearEvents.call(this),this._visibilityChecker&&this._visibilityChecker.clear()},createTemplObj:function(t){var e=this.dataSource.getTitle(),r={ads:t,yaUrl:e.url,yaTitle:e.title,settings:this.settings,format:this.settings.format};return r},getAdvsCount:function(){var t=this.settings,e=t.format,r=Math.min(e.limit,t.limit||9);return e.fixed?e.limit:r},render:function(){var t=this.settings;t.product,t.format;var e=this.dataSource.getFreeAds();if(this.settings.format.skipWarnings&&(e=n.filter(e,function(t){return!t.warning})),e.length){var r=Math.min(e.length,this.getAdvsCount());this.advs=e.slice(0,r);var a=this.createTemplObj(this.advs);this.decorateHtml(a),this.appendBlock()&&(this.fireEvent("afterInsert"),n.each(this.advs,function(t){this.dataSource.captureAd(t)},this),this.createVisibilityChecker(),this.afterRender())}},afterRender:function(){},_onConfirmVisibility:function(){this.dataSource.onConfirmVisibility(this.advs)}}),function(){Ya.Context.Direct.Direct=n.augment(Ya.Context.Adv,{html:function(){var t='<% if (data.yaUrl && data.yaTitle && !isRow) { %><yatag class="ya-partner__ads"><% if (data.yaUrl && data.yaTitle) { %><yatag class="ya-partner__ads-l"><a href="<%=yaUrl%>" class="ya-partner__ads-link ya-partner__ads-link-l" target="_blank"><%=yaTitle%></a></yatag><% } %></yatag><% } %>',e='<yatag class="ya-partner__pic-container"><a href="<%=ads[i].url%>" class="ya-partner__pic" target="_blank" title="<%= ads[i].site %>" style="width:<%= ads[i].images[pic.size][pic.axis][1] %>px !important;height:<%= ads[i].images[pic.size][pic.axis][2] %>px !important;background-image:url(\\\'<%= ads[i].images[pic.size][pic.axis][0] %>\\\') !important;"></a></yatag>',r='<table cellpadding="0" cellspacing="0" class="ya-partner__l-table"><tr class="ya-partner__l-tr"><td class="ya-partner__l-td ya-partner__l-pic-td">'+e+"</td>"+'<td class="ya-partner__l-td">',a="</td></tr></table>",i='<% if (ads[i].warning) { %><yatag class="ya-partner__warn"><%= ads[i].warning %></yatag><% } %>',o=n.extend({},Ya.Const.cssReset,{display:"block"}),s=n.map(n.keys(o),function(t){return t+":"+o[t]+" !important;"}).join(""),l=["<% if (ads[i].sitelinks) { %>",'<yatag class="ya-partner__sitelinks">',"<% for (var j = 0; j < ads[i].sitelinks.length; j++) { %>","<% data.sitelink_index = j + 1; %>",'<yatag class="ya-partner__sitelink ya-partner__sitelink-<%=sitelink_index%>">','<a class="ya-partner__sitelinks-text"',' target="_blank"',' href="<%=ads[i].sitelinks[j].url%>">',"<%=ads[i].sitelinks[j].title%>","</a>","<% if (j < ads[i].sitelinks.length - 1) { %>",'<yatag class="ya-partner__sitelinks-inline-delim">&middot;</yatag>',"<% } %>","</yatag>","<wbr />","<% } %>","</yatag>","<% } %>"].join("");return'<%var pic = data.pic;var ImageLayout = Ya.Const.ImageLayout;var textClickable = data.settings.c11n.textClickable;var isRow = data.format.name == Ya.Const.BlockTypes.ROW;var isVert = data.format.type == Ya.Const.BlockTypes.VERTICAL;var isHor = data.format.type == Ya.Const.BlockTypes.HORIZONTAL;var isFixed = data.format.fixed;var is728x90 = data.format.name == "728x90" || data.format.name == "100%x90";var is728x90xIMG = (is728x90 && data.isQuasiFlat);var is1000x120 = data.format.name == "1000x120" || data.format.name == "100%x120";var is1000x120xIMG = (is1000x120 && data.isQuasiFlat);var isFlat = (data.format.type == Ya.Const.BlockTypes.FLAT) && !data.isQuasiFlat;var isGrid = (data.format.type == Ya.Const.BlockTypes.GRID);var hasAdTune = data.showAdTune !== "none";%><div id="<%=mainContId%>" style="'+s+'">'+'<% if (data.isQuasiFlat) { data.classes = "ya-partner_is-quasi-flat_yes  " + data.classes.replace(/\\bya-partner_type_flat\\b/, "ya-partner_type_horiz")} %>'+'<yatag class="<%= classes %>'+"<% if (isFlat && !is728x90 && !is1000x120) { %>"+" ya-partner_type_flat-simple"+"<% } %>"+"<% if (is728x90xIMG) { %>"+" ya-partner_type_728x90xIMG"+"<% } %>"+"<% if (is1000x120xIMG) { %>"+" ya-partner_type_1000x120xIMG"+"<% } %>"+"<% if (textClickable) { %>"+" ya-partner_text_clickable"+"<% } %>"+'">'+"<% if (!isFixed && (isHor || isVert || isFlat) && (browser.isIE)) { %>"+'<yatag class="ya-partner__wrap-fit">'+"<% } %>"+t+"<% if (isHor || data.isQuasiFlat) { %>"+'<table cellpadding="0" cellspacing="0" class="ya-partner__list"><tr class="ya-partner__tr">'+"<% } else { %>"+'<yatag class="ya-partner__list">'+"<% if (isGrid) { %>"+'<yatag class="ya-partner__column ya-partner__column-1">'+"<% } %>"+"<% } %>"+"<% for (var i = 0, ads = data.ads, ln = ads.length; i < data.ads.length; i++) { %>"+"<% if (isHor || data.isQuasiFlat) { %>"+"<td"+"<% } else {%>"+"<yatag"+"<% } %>"+' class="ya-partner__item'+"<% data.adIndex = i + 1; %>"+" ya-partner__item-<%= adIndex %>"+"<% if (ads[i].images && pic.layout) { %>"+" ya-partner__item_pic_yes ya-partner__item_piclayout_<%= pic.layout %>"+"<% } %>"+"<% if (ads[i].sitelinks) { %>"+" ya-partner__item_sitelinks_yes"+"<% } else { %>"+" ya-partner__item_sitelinks_no"+"<% } %>"+"<% if (i == 0) { %>"+" ya-partner__item_pos_first"+"<% } %>"+"<%  if (i == ln-1) { %>"+" ya-partner__item_pos_last"+"<% } %>"+'">'+"<% if (hasAdTune) { %>"+'<yatag class="ya-partner__adtune-positioning-wrapper">'+'<yatag class="ya-partner__adtune-arrow" data-ad-id="<%=ads[i].adId%>"></yatag>'+"<% } %>"+"<% if (isRow) { %>"+'<yatag class="ya-partner__ads">'+'<yatag class="ya-partner__ads-l">'+'<a class="ya-partner__ads-link ya-partner__ads-link-l" href="<%=yaUrl%>" target="_blank"><%=yaTitle%></a>'+"</yatag>"+"</yatag>"+"<% } %>"+"<% if ( ads[i].images ) { %>"+"<% if ( pic.layout === ImageLayout.FLOAT || pic.layout === ImageLayout.FULL ) { %>"+e+"<% } %>"+"<% if ( pic.layout === ImageLayout.LEFT ) { %>"+r+"<% } %>"+"<% } %>"+'<a href="<%=ads[i].url%>" class="ya-partner__title-link" title="<%= ads[i].site %>" target="_blank">'+"<% if (ads[i].favicon && (pic.layout === ImageLayout.NONE || !ads[i].images)) { %>"+'<img class="ya-partner__icon" src="<%=ads[i].favicon%>" alt=""/>'+"<% } %>"+'<yatag class="ya-partner__title-link-text"><%=ads[i].title%></yatag>'+"</a> "+'<yatag class="ya-partner__text">'+"<% if (textClickable) { %>"+'<a href="<%= ads[i].url %>" class="ya-partner__text-link" target="_blank">'+"<%= ads[i].body %>"+"</a>"+"<% } else { %>"+"<%= ads[i].body %>"+"<% } %>"+"<% if (ads[i].age) { %>"+" "+'<yatag class="ya-partner__agewarn-cont">'+'<yatag class="ya-partner__agewarn">'+"<%= ads[i].age %>"+"</yatag>"+"</yatag>"+"<% } %>"+"<% if (ads[i].debug) { %>"+"<span><%=ads[i].debug%></span>"+"<% } %>"+"</yatag>"+l+'<yatag class="ya-partner__url">'+"<% if (ads[i].vcardUrl) { %>"+'<a class="ya-partner__address" href="<%=ads[i].vcardUrl%>" target="_blank">'+"\u0410\u0434\u0440\u0435\u0441&nbsp;\u0438&nbsp;\u0442\u0435\u043b\u0435\u0444\u043e\u043d"+"</a>"+"<% if (isFlat) { %>"+"&nbsp;"+"<% } else {%>"+" "+"<% } %>"+"<% } %>"+'<yatag class="ya-partner__domain">'+'<a class="ya-partner__domain-link" href="<%= ads[i].url %>" target="_blank">'+"<%=ads[i].site%>"+"</a>"+"</yatag>"+"<% if (isFlat) { %>"+"&nbsp;"+"<% } else {%>"+" "+"<% } %>"+'<yatag class="ya-partner__region"><%=ads[i].region%></yatag>'+"</yatag>"+"<% if (ads[i].images && pic.layout === ImageLayout.FLOAT) { %>"+'<yatag class="ya-partner__clearfix"></yatag>'+"<% } %>"+i+"<% if (ads[i].images && pic.layout === ImageLayout.LEFT) { %>"+a+"<% } %>"+"<% if (hasAdTune) { %>"+"</yatag>"+"<% } %>"+"<% if (isHor || data.isQuasiFlat) { %>"+"</td>"+"<%  if (i != ln-1) { %>"+'<td class="ya-partner__gap">&nbsp;</td>'+"<% } %>"+"<% } else {%>"+"</yatag>"+"<% if (isGrid && (i == 1 || ads.length == 2)) { %>"+"</yatag>"+'<yatag class="ya-partner__column ya-partner__column-2">'+"<% } %>"+"<% } %>"+"<% } %>"+"<% if (isHor || data.isQuasiFlat) { %>"+"</tr></table>"+"<% } else {%>"+"<% if (isGrid) { %>"+"</yatag>"+"<% } %>"+"</yatag>"+"<% } %>"+"<% if (!isFixed && (isHor || isVert || isFlat) && (browser.isIE)) { %>"+"</yatag>"+"<% } %>"+"</yatag>"+"</div>"}(),classes:"ya-partner",css:{".ya-partner":{"font-size":"100%",position:"relative",display:"block",overflow:"hidden","text-align":"left","line-height":"normal","border-radius":"4px","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box","white-space":"normal"},".ya-partner__l-table, .ya-partner__l-tr, .ya-partner__l-td":n.extend({},Ya.Const.cssReset,{"vertical-align":"middle"}),".ya-partner__domain-link":{"text-decoration":"none"},".ya-partner__domain-link:hover":{"text-decoration":"underline"},".ya-partner, .ya-partner__ads-l, .ya-partner__ads-l em, .ya-partner__item, .ya-partner__title-link-text, .ya-partner__text, .ya-partner__domain-link, .ya-partner__region, ya-partner__pic-container, ya-partner__pic, .ya-partner__list tbody, .ya-partner__list tr, .ya-partner__list td":{"font-size":"inherit","font-style":"normal","text-indent":0},".ya-partner_text_clickable a.ya-partner__text-link":{"text-decoration":"none",cursor:"pointer"},".ya-partner_text_clickable a.ya-partner__text-link:hover":{"text-decoration":"underline"},".ya-partner__pic-container":{display:"block",margin:"3px 0"},".ya-partner__item_piclayout_left .ya-partner__pic-container":{margin:"0 0.4em 0 0"},".ya-partner__item_piclayout_float .ya-partner__pic-container":{margin:"0.4em 0.4em 0 0","float":"left"},".ya-partner__item_piclayout_float .ya-partner__address, .ya-partner__item_piclayout_float .ya-partner__domain-link, .ya-partner__item_piclayout_float .ya-partner__region":{"white-space":"nowrap"},".ya-partner__clearfix":n.extend({},Ya.Const.cssReset,{"font-size":0,display:"block",width:"auto",height:0,clear:"both","line-height":0}),".ya-partner__pic, .ya-partner__pic:link, .ya-partner__pic:hover, .ya-partner__pic:visited":n.extend({},Ya.Const.cssReset,{display:"block",background:"transparent 0 0 no-repeat scroll",cursor:"pointer"}),".ya-partner yatag":{"text-align":"left","font-family":"inherit"},".ya-partner__list":{display:"block","line-height":"normal","font-size":"inherit","text-indent":0},".ya-partner__title-link, .ya-partner__address, .ya-partner__ads-link":n.extend({},Ya.Const.cssReset,{"font-size":"inherit","font-style":"normal",display:"inline",cursor:"pointer"}),"a.ya-partner__address:hover":{"text-decoration":"underline"},".ya-partner__address":{"margin-right":"0.3em"},"a.ya-partner__ads-link:link, a.ya-partner__ads-link:hover, a.ya-partner__ads-link:visited":{"text-decoration":"none","font-weight":"normal"},".ya-partner__ads-link em":{"font-style":"normal","font-weight":"normal",background:"none repeat scroll 0 0 transparent"},".ya-partner__item":{"border-radius":"4px",border:"none",padding:"0.2em 0.3em","line-height":"normal"},"body .ya-partner__item_pos_last":{"margin-bottom":0},".ya-partner__sitelinks":{display:"block",padding:"0 0 0.3em","margin-top":"-0.1em"},".ya-partner__sitelink":{padding:"0.08em 0 0.08em 0","vertical-align":"middle",display:"inline-block"},".ya-partner__sitelinks wbr":{display:"none"},".ya-partner__sitelinks-text":{"text-decoration":"underline"},".ya-partner_text_clickable a.ya-partner__sitelinks-text":{"text-decoration":"none"},".ya-partner_text_clickable a.ya-partner__sitelinks-text:hover":{"text-decoration":"underline"},".ya-partner__sitelinks-inline-delim":{display:"inline",padding:"0 0.8em"},".ya-partner__url":{"font-size":"87%",display:"block"},"body .ya-partner__hide-urls .ya-partner__url":{display:"none"},"body .ya-partner__overflow-hide-urls .ya-partner__url":{display:"none"},".ya-partner__warn":{"font-size":"70%","border-radius":"2px",padding:"0.25em 0.3em 0.25em","line-height":"1.1em"},".ya-partner__agewarn-cont":{display:"inline-block"},"yatag.ya-partner__agewarn":{font:"normal normal 11px Tahoma, Arial, sans-serif","border-radius":"4px",padding:"0 1px"},".ya-partner__ads":{position:"relative",display:"block","white-space":"nowrap","font-size":"87%"},".ya-partner__icon":{font:"0/0 a",margin:"0 4px -2px 0","vertical-align":"baseline",border:0,display:"inline",width:"16px",height:"16px","float":"none"},".ya-partner__ads-link":{position:"relative","z-index":"10","margin-left":"5px","line-height":"normal","white-space":"nowrap"},".ya-partner__ads-l":{"border-radius":"4px 0 0 0",display:"inline-block",position:"relative",background:"none repeat scroll 0 0 transparent",padding:"0 .75em 1px 0"},"* html .ya-partner__ads-l":{display:"inline",zoom:"1"},"a.ya-partner__ads-link-l,a.ya-partner__ads-link-l:link,a.ya-partner__ads-link-l:hover,a.ya-partner__ads-link-l:visited,a.ya-partner__ads-link-l:active,a.ya-partner__ads-link-l:focus":{"font-weight":"normal"},"a.ya-partner__title-link,a.ya-partner__title-link:link,a.ya-partner__title-link:hover,a.ya-partner__title-link:visited,a.ya-partner__title-link:active,a.ya-partner__title-link:focus":{"font-weight":"normal","line-height":"normal","text-decoration":"none"},"a.ya-partner__title-link .ya-partner__title-link-text,a.ya-partner__title-link .ya-partner__title-link-text:link,a.ya-partner__title-link .ya-partner__title-link-text:hover,a.ya-partner__title-link .ya-partner__title-link-text:visited,a.ya-partner__title-link .ya-partner__title-link-text:active,a.ya-partner__title-link .ya-partner__title-link-text:focus":{display:"inline","text-decoration":"underline"},".ya-partner_text_clickable a.ya-partner__title-link .ya-partner__title-link-text":{"text-decoration":"none"},".ya-partner_text_clickable a.ya-partner__title-link:hover .ya-partner__title-link-text":{"text-decoration":"underline"},".ya-partner_margin_yes .ya-partner__icon":{"margin-left":"-20px"},".ya-partner_margin_yes .ya-partner__item":{"padding-left":"20px"},".ya-partner__wrap-fit":{display:"block",zoom:"1",position:"relative","padding-bottom":"1px","font-size":"inherit","border-radius":"4px 4px 4px 4px"},".ya-partner__item .ya-partner__adtune-positioning-wrapper":{display:"block",position:"relative",margin:"0",padding:"0"},".ya-partner__item .ya-partner__adtune-arrow":{display:"none"},".ya-partner__item-ad_tune__yes .ya-partner__adtune-arrow":{"z-index":1,display:"block",cursor:"pointer",position:"absolute",top:"4px",right:"4px",width:"16px",height:"16px","background-position":"0px 0px","background-repeat":"no-repeat","background-image":"url(//an.yandex.ru/resource/arrow-sprite-01.png)"},".ya-partner__item-ad_tune__yes .ya-partner__adtune-arrow:hover":{"background-position":"0px -16px"}},cssIe:{".ya-partner":{"font-size":"100%",zoom:"1"},".ya-partner_type_horiz, .ya-partner_type_vert, .ya-partner_type_flat":{display:"table",width:"100%","border-spacing":0},".ya-partner__item":{"padding-bottom":"0.3em"},".ya-partner__agewarn, .ya-partner__agewarn-cont":{position:"relative"},"* html .ya-partner__ads-l, * html .ya-partner__ads-r":{display:"inline",zoom:"1"},".ya-partner__ads-link":{position:"static","line-height":"normal"},"* html .ya-partner__item, * html .ya-partner__text":{_zoom:"1","*zoom":"auto"},"* html .ya-partner__text":{"margin-top":"-0.1em"}},constructor:function(){Ya.Context.Direct.Direct.superConstructor.apply(this,arguments),this.on("afterInsert",this._removeBrokenFavicons,this),this.on("afterInsert",this._initialiseAdTuneHn,this)},_initialiseAdTuneHn:function(){function e(e,r){var a="menubar=no,location=yes,resizable=yes,scrollbars=yes,status=yes,width=800,height=600";return function(i){i.preventDefault?i.preventDefault():i.returnValue=!1;var s=t.open(Ya.Const.urls.adTune,"adTuneFromPcode",a),l=r.getAdTuneReportData(e);o.setProtectedTimeout(function(){s.name=n.json.stringify(l)},0)}}var r=this.dataSource.getShowAdTune();if("none"!==r){var a=n.dom(".ya-partner__item",this.getMainCont().firstChild),i="ya-partner__item-ad_tune__yes";n.each(a,function(t){var a=n.dom(".ya-partner__adtune-arrow",t)[0],o=a.getAttribute("data-ad-id");n.domEvent.on(a,"click",e(o,this.dataSource)),"byHover"===r?(n.domEvent.on(t,"mouseover",function(){n.dom.addClass(t,i)},t),n.domEvent.on(t,"mouseout",function(){n.dom.removeClass(t,i)},t)):n.dom.addClass(t,i)},this)}},_removeBrokenFavicons:function(){n.each(n.dom(".ya-partner__icon",this.getMainCont()),this._removeBrokenFavicon)},_removeBrokenFavicon:function(t){var e=new Image;n.domEvent.on(e,"error",function(){n.dom.remove(t)}),n.domEvent.on(e,"load",function(){16!=e.width&&n.dom.remove(t)}),e.src=t.src},createTemplObj:function(t){var e=Ya.Context.Direct.Direct.superclass.createTemplObj.call(this,t);switch(e.pic=this.getPicParams(t),this.settings.format.name.toLowerCase()){case"728x90":case"100%x90":this.prepareForHeight90(e);break;case"1000x120":case"100%x120":this.prepareForHeight120(e)}return e.showAdTune=this.dataSource.getShowAdTune(),e},prepareForHeight90:function(t){t.pic.layout=Ya.Const.ImageLayout.LEFT,t.pic.axis=Ya.Const.ImageAxis.Y;var e=t.pic.imgCount;if(0==e.rollingTo[1])return t;var r=t.ads;r[0].images&&r[0].warning||r[1]&&r[1].images&&r[1].warning?(r.length=1,t.isQuasiFlat=!0):(r[0].images||r[1]&&r[1].images)&&(r.length=2,t.isQuasiFlat=!0)},prepareForHeight120:function(t){t.pic.axis=Ya.Const.ImageAxis.Y;var e=t.pic.imgCount,r=t.ads;r[3]&&r[3].images&&1==e.rollingTo[3]?r.length=3:e.rollingTo[2]>0?(r.length=3,t.isQuasiFlat=!0):2==r.length&&e.total>0&&(t.isQuasiFlat=!0)},getPicParams:function(t){function e(t){var e=0,r=n.map(t,function(t){return t.images&&e++,e});return{total:e,rollingTo:r}}var r=this.settings.format,a=r.name,i=r.type,o=e(t),s=Ya.Const.ImageLayout.NONE,l=i==Ya.Const.BlockTypes.VERTICAL||i==Ya.Const.BlockTypes.HORIZONTAL||i==Ya.Const.BlockTypes.GRID||"240x400"==a||"200x300"==a||"300x300"==a||"300x250"==a||"250x250"==a;l&&(s=Ya.Const.ImageLayout.FLOAT),i==Ya.Const.BlockTypes.FLAT&&(s=Ya.Const.ImageLayout.LEFT),"160x600"==a&&(s=Ya.Const.ImageLayout.FULL),"1000x120"==a&&(s=Ya.Const.ImageLayout.FLOAT);var p=Ya.Const.ImageSize.M,c="240x400"==a&&1==o.total||"160x600"==a||"300x300"==a||"300x250"==a||a==Ya.Const.BlockTypes.VERTICAL||a==Ya.Const.BlockTypes.HORIZONTAL;c&&(p=Ya.Const.ImageSize.L);var d=Ya.Const.ImageAxis.X;return i==Ya.Const.BlockTypes.HORIZONTAL&&(d=Ya.Const.ImageAxis.Y),{imgCount:o,layout:s,size:p,axis:d}},addWarningCss:function(t){var e=this.settings,r=e.bgColor||e.siteBgColor||"#FFFFFF";this.addCssStyle(".ya-partner__warn, .ya-partner__agewarn",t,{border:"1px solid "+n.warning.getBorderColor(r,e.textColor),"background-color":n.warning.getBgColor(r)})},addHeaderBorderCss:function(t){var e=this.settings,r="ya-partner_theme_"+e.format.type,a="";e.borderType==Ya.Const.BorderTypes.AD?(r+="_inner",a=".ya-partner__item"):e.borderType==Ya.Const.BorderTypes.BLOCK&&(this.addModificatorClass("ya-partner_border"),a=".ya-partner_border"),this.addModificatorClass(r),this.addCssStyle(a||".ya-partner",t,{background:e.bgColor}),e.format.fixed||e.format.type!=Ya.Const.BlockTypes.HORIZONTAL&&e.format.type!=Ya.Const.BlockTypes.FLAT&&e.format.type!=Ya.Const.BlockTypes.VERTICAL||e.borderType!=Ya.Const.BorderTypes.BLOCK||!n.browser.isIE||(a=".ya-partner__wrap-fit"),this.addCssStyle(a,t,{border:"1px solid "+e.borderColor||"transparent"}),e.borderRadius||this.addCssStyle([".ya-partner",".ya-partner__wrap-fit",".ya-partner__item",".ya-partner__ads-l"],t,{"border-radius":0})},setFontSize:function(t){this.settings.format.fixed||(this.settings.format.name==Ya.Const.BlockTypes.ROW?3==this.settings.titleFontSize&&this.addCssStyle(".ya-partner__title-link-text",t,{"font-weight":"bold"}):(this.addCssStyle(".ya-partner__title-link-text",t,{"font-size":this.settings.titleFontSizePercent}),"107%"==this.settings.titleFontSizePercent&&this.addCssStyle(".ya-partner__title-link-text",t,{"font-weight":"bold"})),this.addCssStyle(".ya-partner",t,{"font-size":this.settings.fontSize+"em"}))},setFontColors:function(t){var e=this.settings,r=[".ya-partner__title-link-text:visited",".ya-partner__title-link-text:link",".ya-partner__title-link-text:hover",".ya-partner__sitelinks-text:visited",".ya-partner__sitelinks-text:link",".ya-partner__sitelinks-text:hover",".ya-partner__title-link-text"],a=[".ya-partner__title-link-text:hover",".ya-partner__sitelinks-text:hover"];n.browser.isIE&&(r=[".ya-partner__title-link:visited",".ya-partner__title-link:link",".ya-partner__title-link:hover",".ya-partner__sitelinks-text:visited",".ya-partner__sitelinks-text:link",".ya-partner__sitelinks-text:hover",".ya-partner__title-link"],a=[".ya-partner__title-link:hover",".ya-partner__sitelinks-text:hover"]),this.addCssStyle(r,t,{color:e.titleColor}),this.addCssStyle(a,t,{color:e.hoverColor});var i=[".ya-partner__region",".ya-partner__domain-link",".ya-partner__address"];this.addCssStyle(i,t,{color:e.urlColor}),this.addCssStyle(".ya-partner, .ya-partner__text, .ya-partner__text-link",t,{"font-family":e.fontFamily,color:e.textColor}),this.addCssStyle(".ya-partner__sitelinks",t,{color:e.textColor})},getBlockBgColor:function(){var t=this.settings.siteBgColor||"#ffffff";return this.settings.bgColor&&this.settings.borderType==Ya.Const.BorderTypes.AD&&(t=this.settings.bgColor),new n.RGB(t)},setArrowColors:function(t){var e,r=this.settings,a=r.headerBgColor,i=a||"transparent",o=r.siteBgColor||"#FFFFFF",s=r.bgColor,l="",p='url("data:image/gif,GIF89a%C8%00)%00%80%01%00%',c="%FF%FF%FF!%F9%04%01%00%00%01%00%2C%00%00%00%00%C8%00)%00%00%02%AB%84%8F%A9%CB%ED%0F%A3%9C%B4%DA%1B%B2%DE%B7%FB%0F%86%E2%E8lf%40%A6%EA%CA%B6%D2%A9%B9%F2L%D7%14%9C%D9%FA%CE%CBx%0F%0C%0A-%BF%A1%F1%884%C0%92%CC%E6n%E9%8CJY%A7%A9%F5%0A%AAb%B7%DC%17%A7%0B%0E'L%E2%B2%F8kNc%D1%EA%B64%E6%8E%3B%E1%F2%3A2g%CF%0F%F1%FA~%0F%E5%17%A8%03(XhxhF%88%B8(%A2%C8%F8%88%E1%089%E9Ei%E9%25y%A9%89%40%B7%E9%A9%D4%F9%B9%C9%26zIV%3AJ%8A%0A%A9%B5J%D9%EA%FA%08%15%2B%0BK%7BXt%8B%98%AB%5B%88%93%D9%AB%F7%1B%EC%3BL%1C%F8%1BP%00%00%3B\")";n.browser.isIE6||n.browser.isIE7||n.browser.isIEQuirks?(this.addCssStyle(".ya-partner__ads-l,.ya-partner__ads-link-l em",t,{background:"none repeat scroll 0 0 "+i}),this.addCssStyle(".ya-partner__ads-l",t,{"padding-right":"5px"})):/^#?([A-F\d]{2})([A-F\d]{2})([A-F\d]{2})$/i.test(a)&&this.addCssStyle(".ya-partner__ads-l",t,{background:p+[RegExp.$1,RegExp.$2,RegExp.$3].join("%")+c+" 100% 50% no-repeat scroll transparent"}),n.browser.isIE6&&"transparent"===i&&this.addCssStyle(".ya-partner__ads-arrow-i",t,{border:"none"}),(!a||a==s&&r.borderType!==Ya.Const.BorderTypes.AD||(!s||r.borderType==Ya.Const.BorderTypes.AD)&&a==o)&&(l="underline"),r.borderType==Ya.Const.BorderTypes.AD&&(l="none",r.borderRadius&&a&&a!=(s||o)&&this.addCssStyle(".ya-partner__item_pos_first",t,{"border-radius":"0 4px 4px 4px"})),e=new n.RGB(a||(r.borderType==Ya.Const.BorderTypes.AD?o:s||o)).isLight(),this.addCssStyle("a.ya-partner__ads-link-l:link,a.ya-partner__ads-link-l:hover,a.ya-partner__ads-link-l:visited",t,{"text-decoration":l,color:e?"#000":"#fff"}),this.isLogoBgLight=e},setQuasiflatCellWidth:function(t){this.addCssStyle(".ya-partner_is-quasi-flat_yes .ya-partner__item",t,{width:Math.floor(100/this.advs.length)+"%"})},decorateCss:function(t){return this.setFontColors(t),this.setFontSize(t),this.addHeaderBorderCss(t),this.addWarningCss(t),this.setArrowColors(t),this.setQuasiflatCellWidth(t),t}})}(),Ya.Context.Direct.Vertical=n.augment(Ya.Context.Direct.Direct,{classes:"ya-partner_type_vert",css:{".ya-partner_type_vert ":{"min-width":"50px",clear:"both"},":root .ya-partner_type_vert":{display:"table\\0/IE9",width:"100%\\0/IE9"},".ya-partner_type_vert .ya-partner__item,.ya-partner_type_vert .ya-partner__warn,.ya-partner_type_vert .ya-partner__text,.ya-partner_type_vert .ya-partner__url":{display:"block"},".ya-partner_type_vert .ya-partner__item":{margin:"0 0 0.5em 0",padding:"0.5em"},".ya-partner_theme_vertical_inner .ya-partner__url":{"padding-bottom":"1px"},".ya-partner_theme_vertical_inner .ya-partner__item_piclayout_float .ya-partner__pic-container":{"margin-bottom":"1px"},".ya-partner_type_vert .ya-partner__text,.ya-partner_type_vert .ya-partner__warn":{margin:"0.4em 0"},".ya-partner_type_vert .ya-partner__item_pic_yes":{padding:"3px .5em"},".ya-partner_type_vert .ya-partner__item_pos_last":{margin:0},".ya-partner_type_vert .ya-partner__list":{zoom:"1"}}}),Ya.Context.Direct.Mobile=n.augment(Ya.Context.Direct.Vertical,{}),Ya.Context.Direct.Grid=n.augment(Ya.Context.Direct.Direct,{classes:"ya-partner_type_grid",css:{".ya-partner_type_grid .ya-partner__item, .ya-partner_type_grid .ya-partner__warn, .ya-partner_type_grid .ya-partner__text, .ya-partner_type_grid .ya-partner__url":{display:"block"},".ya-partner_type_grid .ya-partner__item":{margin:"0",padding:"0.5em"},".ya-partner_type_grid .ya-partner__text, .ya-partner_type_grid .ya-partner__warn":{margin:"0.4em 0"},".ya-partner_type_grid .ya-partner__item_pic_yes":{padding:"3px .5em"},".ya-partner_type_grid .ya-partner__list":{"min-width":"480px",overflow:"hidden"},".ya-partner_type_grid .ya-partner__column":{width:"50%","float":"left"},".ya-partner_type_grid .ya-partner__item-1, .ya-partner_type_grid .ya-partner__item-3":{"margin-bottom":"0.5em"},".ya-partner_type_grid .ya-partner__column-1 .ya-partner__item":{"margin-right":"3px"},".ya-partner_type_grid .ya-partner__column-2 .ya-partner__item":{"margin-left":"3px"}},cssIe:{".ya-partner_type_grid .ya-partner__column-2":{"margin-left":"-1px"}},getAdvsCount:function(){return this.settings.format.limit},createTemplObj:function(t,e){var r=t.slice();if(r.length>2){var a=r[2];r[2]=r[1],r[1]=a}return Ya.Context.Direct.Grid.superclass.createTemplObj.call(this,r,e)}}),(n.browser.isIE6||n.browser.isIEQuirks)&&(Ya.Context.Direct.Grid.prototype.decorateCss=function(t){Ya.Context.Direct.Grid.superclass.decorateCss.call(this,t),this.addCssStyle(".ya-partner_type_grid .ya-partner__column-1",t,{"margin-right":"-1px"})}),Ya.Context.Direct.Horizontal=n.augment(Ya.Context.Direct.Direct,{classes:"ya-partner_type_horiz",css:{".ya-partner_type_horiz":{display:"inline-block",width:"100%","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box","box-sizing":"border-box"},":root .ya-partner_type_horiz":{display:"table\\0/IE9",width:"100%\\0/IE9"},".ya-partner_type_horiz:before,.ya-partner_type_horiz:after":{content:'""',display:"table","border-spacing":"0",border:"0"},".ya-partner_type_horiz .ya-partner__list":{display:"table",width:"100%",margin:"0",padding:"0",border:"none","border-spacing":"0","font-size":"inherit"},"body .ya-partner_type_horiz .ya-partner__item":{position:"static"},".ya-partner_type_horiz .ya-partner__tr":{"font-size":"inherit"},".ya-partner_type_horiz .ya-partner__item":{padding:"0.5em","vertical-align":"top","border-spacing":"0","font-size":"inherit","border-collapse":"separate"},".ya-partner_type_horiz .ya-partner__gap":{"font-size":"10px",width:"0.5em",margin:"0",border:"none",background:"none"},".ya-partner_type_horiz table.ya-partner__list, .ya-partner_type_horiz td.ya-partner__item,.ya-partner_type_horiz td.ya-partner__gap":{"border-collapse":"separate"},".ya-partner_type_horiz .ya-partner__warn,.ya-partner_type_horiz .ya-partner__inner,.ya-partner_type_horiz .ya-partner__text,.ya-partner_type_horiz .ya-partner__url":{display:"block"},".ya-partner_type_horiz .ya-partner__item_pos_last":{"margin-right":"0"},".ya-partner_type_horiz .ya-partner__text, .ya-partner_type_horiz .ya-partner__warn":{margin:"0.4em 0"}},cssIe:{".ya-partner_type_horiz .ya-partner__item, .ya-partner_type_horiz .ya-partner__tr, .ya-partner_type_horiz .ya-partner__list":{"font-size":"100%"},".ya-partner_type_horiz:before,.ya-partner_type_horiz:after":{font:"0/0 a",content:"."}},decorateCss:function(t){Ya.Context.Direct.Horizontal.superclass.decorateCss.call(this,t);
var e=1.2,r=1.1,a=0,i=0;n.each(this.advs,function(t){t.images?i+=1:t.sitelinks&&(a+=1)});var o=this.advs.length,s=100/o,l=s;if(a||i){var p=(o-(i+a))*s+i*e*s+a*r*s;l=s*(100/p);var c=l*e,d=l*r;this.addCssStyle("table td.ya-partner__item_pic_yes",t,{width:c.toFixed(4)+"%"}),this.addCssStyle("table .ya-partner__item_sitelinks_yes",t,{width:d.toFixed(4)+"%"})}this.addCssStyle(".ya-partner__item",t,{width:l.toFixed(4)+"%"})}}),Ya.Context.Direct.Flat=n.augment(Ya.Context.Direct.Direct,{classes:"ya-partner_type_flat",css:{".ya-partner_type_flat .ya-partner__title-link, .ya-partner_type_flat .ya-partner__text, .ya-partner_type_flat .ya-partner__url":{display:"inline","vertical-align":"baseline"},":root .ya-partner_type_flat":{display:"table\\0/IE9",width:"100%\\0/IE9"},".ya-partner_type_flat .ya-partner__item":{display:"block","line-height":"normal"},".ya-partner_type_flat .ya-partner__text":{"padding-left":"0.5em"},".ya-partner_type_flat .ya-partner__warn":{display:"block","margin-top":"0.3em"},".ya-partner_type_flat .ya-partner__text .ya-partner__clearfix":{display:"none"},".ya-partner_type_flat .ya-partner__l-td":{"vertical-align":"middle"},".ya-partner_type_flat .ya-partner__l-table":{width:"100%"},".ya-partner_type_flat .ya-partner__l-pic-td":{width:"1px"},".ya-partner_type_flat .ya-partner__item_pic_yes .ya-partner__text":{display:"block"},".ya-partner_theme_flat_inner .ya-partner__item":{"margin-bottom":"0.5em"},".ya-partner_theme_flat_inner .ya-partner__item_pos_last":{"margin-bottom":"0"},".ya-partner_type_flat-simple .ya-partner__list":{},".ya-partner_type_flat-simple .ya-partner__url":{display:"block","margin-top":"0.3em"},".ya-partner_type_flat-simple .ya-partner__item":{"padding-top":"0.5em","padding-bottom":"0.5em"},".ya-partner_type_flat-simple .ya-partner__item_pic_yes":{"padding-top":".2em","padding-bottom":".2em"},".ya-partner_type_flat-simple .ya-partner__text":{"padding-left":"0"},".ya-partner_type_flat .ya-partner__sitelinks":{"margin-top":"0.3em","padding-bottom":"0.1em"}},cssIe:{".ya-partner_type_flat":{zoom:"1"},".ya-partner_theme_flat .ya-partner__icon":{"margin-bottom":"-2px"}}}),function(){var a=function(e,a){return this.clickListeners=[],t!=t.top?null:(this.prefs=this.validate(e),this.prefs?(this.ready=!0,a&&this.render(),r):null)};a.Types={FLOAT:"1",SHIFT:"2",BOTTOM:"3"},a.ANIMATION_TIME=500,a.prototype.canRender=function(){return this.ready},a.prototype.validate=function(t){var e=n.extend({},t.stripe.data);e.animation=!!parseInt(t.common.stripeAnimation,10),e.autoClose=parseInt(e.autoClose,10)||0,e.fontSize=parseInt(e.fontSize,10)||0,e.height=parseInt(e.height,10)||0,e.closeColor=e.closeColor||"#fff",e.closeDecoration=e.closeDecoration||"none",e.closeHoverColor=e.closeHoverColor||"#fff",e.closeLeft=parseInt(e.closeLeft,10)||0,e.closeUrl=e.closeUrl||"",e.text1Color=e.text1Color||"#fff",e.text1Decoration=e.text1Decoration||"none",e.text1Left=parseInt(e.text1Left,10)||0,e.text1Target=e.text1Target||"_blank",e.text1Url=e.text1Url||"",e.text2Color=e.text2Color||"#fff",e.text2Decoration=e.text2Decoration||"none",e.text2Left=parseInt(e.text2Left,10)||0,e.text2Target=e.text2Target||"_blank",e.text2Url=e.text2Url||"",e.backgroundColor=e.backgroundColor||"transparent",e.backgroundGradient=e.backgroundGradient||"",e.backgroundImage=e.backgroundImage||"",e.backgroundImageLeft=parseInt(e.backgroundImageLeft,10)||0,e.voidUrl=e.voidUrl||"",e.voidTarget=e.voidTarget||"_blank",e.stripeType=t.common.stripeType||a.Types.FLOAT,e.confirmVisibilityLink=e.linkNext?t.common.linkHead+e.linkNext:"",e.stripeType==a.Types.SHIFT&&(e.animation=!1);var r=n.browser;return(r.isIE6||r.isIE7||r.isIE8)&&(e.animation=!1),r.isIE9&&e.animation&&(this.toggleView=this.timedToggleView),e.stripeType==a.Types.BOTTOM&&(r.isIE6||r.isIEQuirks)?null:e},a.prototype.render=function(){this.iframe=e.createElement("iframe"),this.iframe.frameBorder=0,this.iframe.scrolling="no",this.iframe.seamless=!0,n.forOwn(this.getCss(),function(t,e){this.iframe.style[e]=t},this);var t=e.body||e.documentElement;t.insertBefore(this.iframe,t.firstChild);var r=n.format(a.Templates.DOCUMENT,this.getTmplData());this.iframe.contentWindow.name=r,this.iframe.contentWindow.location.replace("javascript:name"),n.domEvent.on(this.iframe,"load",this.afterRender,this,{once:!0})},a.prototype.getCss=function(){var t={display:"block",margin:0,padding:0,zIndex:2e4,border:"none",width:"100%",position:"absolute",left:0,height:this.prefs.height+"px"};return this.prefs.stripeType==a.Types.SHIFT&&(t.position="relative"),this.prefs.stripeType==a.Types.BOTTOM?(t.position="fixed",t.bottom=-this.prefs.height+"px"):t.top=-this.prefs.height+"px",this.prefs.animation&&(t.transition=t.WebkitTransition=t.MozTransition=t.OTransition="all "+a.ANIMATION_TIME+"ms"),t},a.prototype.getTmplData=function(){var t=function(t){return t.replace(/./g,function(t){return"&#"+t.charCodeAt(0)+";"})},e="";if(this.prefs.agreementText&&this.prefs.agreementUrl){var r=this.prefs.agreementText,i="",o="",s=this.prefs.agreementText.match(/(.*?)\[(.+)\](.*)/);s&&(i=s[1],r=s[2],o=s[3]),e=n.format(a.Templates.LINK,{preText:t(i),postText:t(o),linkText:t(r),linkUrl:this.prefs.agreementUrl})}var l=function(t){var e=[0,2,10,18,26,34,42,50,58,66,74,82,90,98,100];return e[t]+"%"};return n.extend({},this.prefs,{bgPosition:l(this.prefs.backgroundImageLeft),text1Position:l(this.prefs.text1Left),text2Position:l(this.prefs.text2Left),closePosition:l(14-this.prefs.closeLeft),text1:t(this.prefs.text1),text2:t(this.prefs.text2),close:t(this.prefs.close),closeBorder:"underline"==this.prefs.closeDecoration?"1px":"0",agreementLink:e})},a.prototype.afterRender=function(){this.toggleView(!0),this.prefs.autoClose&&(this.autoCloseTimer=o.setProtectedTimeout(this.close,1e3*this.prefs.autoClose,this));var t=function(){o.setProtectedTimeout(this.close,10,this)};this.addClickEvent("text1",t),this.addClickEvent("text2",t),this.addClickEvent("background",t),this.prefs.close&&this.addClickEvent("close",function(){this.onManualClose(),this.close()}),this.launchVisibilityChecker()},a.prototype.addClickEvent=function(t,e){var r=this.iframe.contentWindow.document.getElementById(t);this.clickListeners.push(n.domEvent.on(r,"click",e,this,{once:!0}))},a.prototype.removeClickEvents=function(){n.each(this.clickListeners,function(t){n.domEvent.un(t)}),this.clickListeners.length=0},a.prototype.toggleView=function(t,e){var r="top";this.prefs.stripeType==a.Types.BOTTOM&&(r="bottom"),this.iframe.style[r]=(t?0:-this.prefs.height)+"px",e&&(this.prefs.animation?this.addTransitionEndEvent(e):e())},a.prototype.addTransitionEndEvent=function(t){n.each(["transitionend","webkittransitionend","moztransitionend","otransitionend"],function(e){n.domEvent.on(this.iframe,e,t,this,{once:!0})},this)},a.prototype.close=function(){this.closed||(this.closed=!0,this.autoCloseTimer&&(clearTimeout(this.autoCloseTimer),this.autoCloseTimer=null),this.visibilityChecker.clear(),this.removeClickEvents(),this.toggleView(!1,o.protect("Stripe closed",this.destroy,this)))},a.prototype.destroy=function(){n.dom.remove(this.iframe),this.iframe=null},a.prototype.onManualClose=function(){this.prefs.closeUrl&&((new Image).src=this.prefs.closeUrl)},a.prototype.launchVisibilityChecker=function(){this.visibilityChecker=new n.VisibilityChecker({confirmDelay:Ya.Const.Limits.stripeVisibCheckDelay}),this.prefs.confirmVisibilityLink&&(this.visibilityChecker.on("confirmed",function(){this.onConfirmVisibility()},this),this.prefs.animation?o.setProtectedTimeout(function(){this.visibilityChecker.listen(this.iframe)},a.ANIMATION_TIME,this):this.visibilityChecker.listen(this.iframe))},a.prototype.onConfirmVisibility=function(){(new Image).src=this.prefs.confirmVisibilityLink},a.prototype.timedToggleView=function(t,e){function r(t,e,r,a){return r*t/a+e}function n(t,e){var r=new Date,a=function(){t(new Date-r)?setTimeout(a,17):e&&e()};a()}function i(t){n(function(e){var r=t.easing(e,t.start,t.end-t.start,t.duration),a=t.duration>e;return t.onFrame(a?r:t.end),a},t.onEnd)}i({duration:a.ANIMATION_TIME,easing:r,start:t?-this.prefs.height:0,end:t?0:-this.prefs.height,onEnd:e&&o.protect("Stripe animation end callback",e),onFrame:o.protect("Stripe animation frame",function(t){var e=this.prefs.stripeType==a.Types.BOTTOM?"bottom":"top";this.iframe.style[e]=Math.round(t)+"px"},this)})},a.Templates={},a.Templates.LINK='        ${preText}<a href="${linkUrl}" target="_blank">${linkText}</a>${postText}    ',a.Templates.DOCUMENT='        <!DOCTYPE html>        <html>            <body>                <style>                    html, body {                        border: none;                        margin: 0;                        padding: 0;                        background: transparent;                        overflow: hidden;                        font-size: ${fontSize}pt;                        font-family: Arial, sans-serif;                    }                    .container {                        overflow: hidden;                        background: ${backgroundColor} 0 0 repeat url("${backgroundGradient}");                        width: 100%;                        min-width: 1024px;                        height: ${height}px;                        position: absolute;                        right: 0;                        top: 0;                    }                    .col {                        position: absolute;                        z-index: 2;                        line-height: ${height}px;                    }                    .col-text1 {                        left: ${text1Position};                    }                    .col-text2 {                        left: ${text2Position};                    }                    .col-close {                        right: ${closePosition};                    }                    .bg {                        display: block;                        position: absolute;                        z-index: 1;                        width: 100%;                        height: 100%;                        background-image: url("${backgroundImage}");                        background-repeat: no-repeat;                        background-position: ${bgPosition} 0;                        border: none;                    }                    .text1 {                        color: ${text1Color};                        text-decoration: ${text1Decoration};                    }                    .text1:hover {                        color: ${text1HoverColor};                    }                    .text2 {                        color: ${text2Color};                        text-decoration: ${text2Decoration};                    }                    .text2:hover {                        color: ${text2HoverColor};                    }                    .agreement {                        color: ${text2Color};                        margin-left: 20px;                    }                    .agreement a {                        color: ${text2Color};                        text-decoration: underline;                    }                    .agreement a:hover {                        color: ${text2HoverColor};                    }                    .close {                        cursor: pointer;                        color: ${closeColor};                        text-decoration: none;                        line-height: 1em;                        margin-right: 5px;                    }                    .close:hover {                        color: ${closeHoverColor};                    }                    .close span {                        display: inline-block;                        border-color: ${closeColor};                        border-style: dotted;                        border-width: 0;                        border-bottom-width: ${closeBorder};                    }                    .close:hover span {                        border-color: ${closeHoverColor};                    }                    .col-age {                        right: 5px;                        color: ${text1Color};                    }                </style>                <div class="container">                    <a class="bg" id="background" href="${voidUrl}" target="${voidTarget}"></a>                    <div class="col col-text1">                        <a class="text1" id="text1" href="${text1Url}" target="${text1Target}">${text1}</a>                    </div>                    <div class="col col-text2">                        <a class="text2" id="text2" href="${text2Url}" target="${text2Target}">${text2}</a>                        <span class="agreement">${agreementLink}</span>                    </div>                    <div class="col col-close">                        <a class="close" id="close">&times;&nbsp;<span>${close}</span></a>                    </div>                    <div class="col col-age">${ageRestriction}</div>                </div>            </body>        </html>    ',Ya.HeadStripe={autoRender:!0,loadStripeData:function(t){if(!this._singleStripe){var e=new a(t,this.autoRender);e.canRender()&&(this._singleStripe=e)}},renderBlock:function(){return!this.autoRender&&this._singleStripe?(this._singleStripe.render(),!0):!1}},Ya.Context.Direct.Stripe=function(){this.render=this.destructor=function(){}}}(),Ya.Context.Direct.Row=n.augment(Ya.Context.Direct.Direct,{classes:"ya-partner_type_row ya-partner__hide-urls",css:{".ya-partner_type_row":{height:"2.2em",overflow:"hidden"},".ya-partner_type_row .ya-partner__item":{padding:"0.4em 0.5em",display:"block","border-radius":"",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"},".ya-partner_type_row .ya-partner":{"border-radius":""},".ya-partner_type_row .ya-partner__agewarn-cont":{display:"inline"},".ya-partner_type_row .ya-partner__address":{"margin-right":"0.5em"},".ya-partner_type_row .ya-partner__title-link, .ya-partner_type_row .ya-partner__title-link-text":{"white-space":"nowrap"},".ya-partner_type_row .ya-partner__text":{margin:"0 0.4em","white-space":"nowrap"},".ya-partner_type_row .ya-partner__text .ya-partner__agewarn-displacer":{display:"none"},".ya-partner_type_row .ya-partner__ads":{display:"inline-block","margin-right":".5em"},".ya-partner_type_row .ya-partner__ads-l":{"line-height":"1.8em"},".ya-partner_type_row .ya-partner__url":{display:"inline"},".ya-partner_type_row .ya-partner__sitelinks":{display:"none"},".ya-partner_type_row .ya-partner__item .ya-partner__adtune-positioning-wrapper":{overflow:"hidden","text-overflow":"ellipsis"}},addHeaderBorderCss:function(t){Ya.Context.Direct.Row.superclass.addHeaderBorderCss.call(this,t),this.addCssStyle(".ya-partner",t,{background:this.settings.bgColor})},decorateCss:function(t){t=Ya.Context.Direct.Row.superclass.decorateCss.call(this,t);var e=this.settings.c11n;return"itemPadding"in e&&this.addCssStyle(".ya-partner_type_row .ya-partner__item",t,{padding:e.itemPadding}),"arrowTextUnderline"in e&&n.isArray(e.arrowTextUnderline)&&(this.addCssStyle("a.ya-partner__ads-link-l:link,a.ya-partner__ads-link-l:visited",t,{"text-decoration":e.arrowTextUnderline[0]?"underline":"none"}),this.addCssStyle("a.ya-partner__ads-link-l:hover",t,{"text-decoration":e.arrowTextUnderline[1]?"underline":"none"})),t}}),function(){function t(t,e,r){this._super=t,this._width=e,this._height=r,this._proto=this.getCommonProto()}n.ns("Ya.Context.Direct"),t.merge=function(e,r){return n.forOwn(r,function(r,a){"object"==typeof r&&"object"==typeof e[a]?t.merge(e[a],r):e[a]=r}),e},t.templateObjectKeys=function(t,e){var r={};return n.forOwn(t,function(t,a){r[n.format(a,e)]=t}),r},t.afterRender=function(){var t=this.getMainCont().getElementsByTagName("yatag")[0],e=function(e){return function(){return n.dom.getScroll(t)>e}};this.removeAds(t,e(4)),this.showMisc(t,e(4)),this.adjustItemIndents(t,e(0)),n.dom.removeClass(t,"ya-partner__invisible")},t.removeAds=function(t,e){for(var r=n.dom.getElementsByClassName("ya-partner__item",t);r.length>1&&e();){var a=r.pop(),i=r.length;if("td"==a.tagName.toLowerCase()){var o=a.previousSibling;o&&n.dom.hasClass(o,"ya-partner__gap")&&n.dom.remove(o);var s=Math.floor(100/i)+"%";n.each(r,function(t){n.dom.setImportantCssProperty(t,"width",s)})}n.dom.addClass(r[i-1],"ya-partner__pos_last"),n.dom.remove(a),this.dataSource.releaseAd(this.advs.pop())}},t.showMisc=function(t,e){var r=function(e){n.dom.removeClass(t,e)},a=function(e){n.dom.addClass(t,e)},i=function(t){return r(t),e()?(a(t),!1):!0},o="ya-partner__overflow-hide-all-sitelinks",s="ya-partner__overflow-hide-sitelink-";if(!this.settings.noSitelinks){var l=!1;if(i(o))for(var p=1;3>=p;p++)i(s+p)&&(l=!0);l||a(o)}i("ya-partner__overflow-hide-urls")},t.adjustItemIndents=function(t,e){if(!e()){var r=function(t,e){var r=e+"px";n.each(t,function(t){n.dom.setImportantCssProperty(t,"padding-top",r),n.dom.setImportantCssProperty(t,"padding-bottom",r)})},a=n.dom(".ya-partner__item",t),i=parseInt(n.dom.getStyle(a[0],"padding-top"),10)||0;do r(a,++i);while(50>i&&!e());r(a,--i)}},t.classes=["ya-partner__invisible","ya-partner__overflow-hide-urls","ya-partner__overflow-hide-all-sitelinks","ya-partner__overflow-hide-sitelink-1","ya-partner__overflow-hide-sitelink-2","ya-partner__overflow-hide-sitelink-3"],t.prototype.getCommonProto=function(){var e=this._super;return{afterRender:function(){e.prototype.afterRender.call(this),t.afterRender.call(this)},removeAds:t.removeAds,showMisc:t.showMisc,adjustItemIndents:t.adjustItemIndents,css:{"body .ya-partner__invisible":{visibility:"hidden",opacity:0},"body .${root}":{width:this._width+"px",height:this._height+"px","font-size":"12px"},"body .${root} a.ya-partner__title-link:link,body .${root} a.ya-partner__title-link:visited,body .${root} a.ya-partner__title-link:hover":{"font-size":"16px","font-weight":"normal"},"body .${root} .ya-partner__text":{"font-size":"12px","font-weight":"normal",margin:"5px 0px 3px"},"body .${root} .ya-partner__warn":{"font-size":"8.4px"},":root body .${root}":{width:this._width+"px",display:"block"},"body .${root} .ya-partner__url":{"font-size":"11px","font-weight":"normal"},"body .${root}.ya-partner_type_flat.ya-partner__overflow-hide-urls .ya-partner__text":{"padding-right":0},"body .${root} *,body .${root} yatag":{"font-family":"Arial, sans-serif","word-spacing":"normal","letter-spacing":"normal"},"body .${root} .ya-partner__ads":{"line-height":"13px","font-size":"11px"},"body .${root} .ya-partner__item":{"line-height":"14px",margin:0,padding:"3px 6px"},".ya-partner__overflow-hide-urls .ya-partner__list .ya-partner__url":{display:"none"},"body .${root} .ya-partner__sitelinks":{padding:"0 0 1px","margin-top":"-1px"},"body .${root} .ya-partner__sitelink":{padding:"1px 0","font-size":"12px"},"body .${root} .ya-partner__sitelinks-inline-delim":{padding:"0 9px"},".ya-partner__overflow-hide-sitelink-1 .ya-partner__sitelink-1":{display:"none"},".ya-partner__overflow-hide-sitelink-2 .ya-partner__sitelink-2":{display:"none"},".ya-partner__overflow-hide-sitelink-3 .ya-partner__sitelink-3":{display:"none"},".ya-partner__overflow-hide-all-sitelinks yatag.ya-partner__sitelinks":{display:"none"},".ya-partner__overflow-hide-sitelink-2.ya-partner__overflow-hide-sitelink-3 .ya-partner__sitelink-1 .ya-partner__sitelinks-inline-delim":{display:"none"},".ya-partner__overflow-hide-sitelink-3 .ya-partner__sitelink-2 .ya-partner__sitelinks-inline-delim":{display:"none"}},cssIe:{"body .${root}":{display:"block"}}}},t.LOGO_TEXT_STYLE="11px/11px Arial,sans-serif",t.VERTICAL_TEXT_VML_TMPL='<line from="0 0" to="1 0" style="rotation:270;height:1px;" ${ns}><stroke on="False" ${ns}/><fill on="True" color="${text_color}" ${ns}/><path textpathok="True" ${ns}/><textpath on="True" string="${text}" style="${text_style}" ${ns}/></line>',t.setVerticalText=function(e,a,i){if(n.browser.support.cssTransform){i&&n.dom.setImportantCssProperty(e,"text-decoration","underline");var o=n.browser.support.cssTransformPrefix;return n.dom.setImportantCssProperty(e,o+"transform","rotate(270deg) translate(0, 100%)"),n.dom.setImportantCssProperty(e,o+"transform-origin","left bottom"),r}n.browser.support.canvas?t._setCanvas(e,a):t._setVML(e,a),i&&n.dom.setImportantCssProperty(e,"border-right","1px solid "+a)},t._setVML=function(e,r){var a=e.textContent||e.innerText,i=n.format(t.VERTICAL_TEXT_VML_TMPL,{text:a,text_color:r,text_style:"font:"+t.LOGO_TEXT_STYLE+" !important",ns:'xmlns="urn:schemas-microsoft-com:vml" class="ya-partner_vml"'});e.innerHTML=i},t._setCanvas=function(e,r){var a=e.textContent||e.innerText;e.innerHTML=n.format('<canvas width="${width}" height="${height}"></canvas>',{width:e.offsetHeight,height:e.offsetWidth});var i=e.getElementsByTagName("canvas")[0],o=i.getContext("2d");o.fillStyle=r,o.font=t.LOGO_TEXT_STYLE,o.rotate(-Math.PI/2),o.fillText(a,-i.height,9)},t.prototype.getFlatProto=function(){var e=this._super;return{adjustItemIndents:function(){},decorateCss:function(t){e.prototype.decorateCss.call(this,t),this.addCssStyle(".ya-partner__ads-l",t,{padding:0,"background-color":this.settings.headerBgColor})},afterRender:function(){var r=n.dom.getElementsByClassName("ya-partner__ads-link-l",this.getMainCont())[0],a=this.isLogoBgLight?"000000":"#ffffff",i=!this.settings.headerBgColor||this.settings.headerBgColor===this.settings.bgColor;t.setVerticalText(r,a,i),e.prototype.afterRender.call(this),t.afterRender.call(this)},css:{"body .${root} .ya-partner__item":{margin:"4px 0",padding:"0 3px"},"body .${root} .ya-partner__item_pic_yes":{margin:0},"body .${root} .ya-partner__item_pic_yes .ya-partner__pic-container":{margin:"4px 4px 0 0"},"body .${root} .ya-partner__text":{"margin-top":0},"body .${root}xIMG table.ya-partner__list":{"padding-bottom":0,"margin-bottom":0},"body .${root}xIMG .ya-partner__warn":{display:"block"},"body .${root}xIMG .ya-partner__title-link-text":{"line-height":"19px"},"body .${root}xIMG .ya-partner__text":{"line-height":"17px"},"body .${root}.ya-partner_type_flat .ya-partner__text":{"padding-right":"10px"},"body .${root}.ya-partner_type_flat .ya-partner__sitelinks":{padding:"2px 0 0"},"body .${root}.ya-partner_type_horiz .ya-partner__sitelinks":{"padding-top":"0"},"body .${root} .ya-partner__list":{width:this._width-22+"px","margin-left":"20px",padding:0},"body .${root} .ya-partner__ads":{"border-radius":0,position:"absolute",width:"17px",height:this._height+"px",bottom:0,left:0,"z-index":1},"body .${root} .ya-partner__ads-l":{padding:0,width:"17px",height:this._height+"px"},"body .${root} .ya-partner__ads-link-l":{font:t.LOGO_TEXT_STYLE,position:"absolute","margin-left":0,left:"2px",bottom:"4px","z-index":1,padding:0},".ya-partner_vml":{behavior:"url(#default#VML)",display:"inline-block",zoom:1}},cssIe:{"* html body .${root} .ya-partner__text":{"margin-top":"2.4px"},"body .${root} .ya-partner__text":{"margin-top":"3px"}}}},t.prototype.extendCSS=function(e){return t.merge(this._proto.css,e),this},t.prototype.mergeFlatProto=function(){return t.merge(this._proto,this.getFlatProto()),this},t.prototype.registerBlock=function(){var e=this._width+"x"+this._height,r="ya-partner_type_"+e,a={root:r};return this._proto.classes=t.classes.concat([r]).join(" "),this._proto.css=t.templateObjectKeys(this._proto.css,a),this._proto.cssIe=t.templateObjectKeys(this._proto.cssIe,a),Ya.Context.Direct[e]=n.augment(this._super,this._proto)},new t(Ya.Context.Direct.Vertical,250,250).registerBlock(),new t(Ya.Context.Direct.Vertical,300,300).registerBlock(),new t(Ya.Context.Direct.Vertical,200,300).registerBlock(),new t(Ya.Context.Direct.Vertical,240,400).extendCSS({"body .${root} .ya-partner__item":{padding:"5px 7px"}}).registerBlock(),new t(Ya.Context.Direct.Vertical,300,250).extendCSS({"body .${root} .ya-partner__text":{"margin-bottom":0},"body .${root} .ya-partner__item":{padding:"7px 7px 3px 7px"}}).registerBlock(),new t(Ya.Context.Direct.Vertical,160,600).registerBlock(),new t(Ya.Context.Direct.Flat,728,90).mergeFlatProto().extendCSS({"body .${root} td.ya-partner__item":{margin:0,padding:"0 3px"},"body .${root}xIMG td.ya-partner__item":{"vertical-align":"middle"}}).registerBlock(),new t(Ya.Context.Direct.Flat,1e3,120).mergeFlatProto().extendCSS({"body .${root} .ya-partner__warn":{"margin-top":"0.3em"},"body .${root} .ya-partner__url":{"font-size":"13px"},"body .${root}xIMG td.ya-partner__item":{"vertical-align":"top",padding:"3px"}}).registerBlock()}(),function(){function t(t,r){return n.augment(t,{insertHtml:function(a){return a=n.format(e,{width:r,html:a}),t.prototype.insertHtml.call(this,a)}})}var e='<yatag style="display:block;text-align:center;"><yatag style="display:block;text-align:left;width:${width}px;margin:0 auto;">${html}</yatag></yatag>';Ya.Context.Direct["100%x90"]=t(Ya.Context.Direct["728x90"],728),Ya.Context.Direct["100%x120"]=t(Ya.Context.Direct["1000x120"],1e3)}();var _;(function(){var t='<!DOCTYPE html><html><head><meta charset="utf-8"></head><body style="text-align:center;">${html}<script type="text/javascript">document.close();</script></body></html>',e='<iframe id="${id}" width="${width}" height="${height}" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" vspace="0" hspace="0"></iframe>';_=function(t,e,r){this.dataSource=t,this.renderTo=e,this.blockId=r;var a=this.dataSource.getSettings();this._name=a.name;var n=this._name.split("x");this._width=n[0],this._height=n[1],this._displayDelayed=a.displayDelayed},_.prototype={render:function(){var t=n.dom("#"+this.renderTo);if(t){var r=n.format(e,{id:"ya_partner_"+this.blockId,width:this._width,height:this._height});t.innerHTML=r,this._container=t,this._displayDelayed?this._createContainerChecker(t,this._render,this):this._render(t)}},_render:function(e){var r=n.format(t,{html:this.dataSource.getHtml()}),a=e.getElementsByTagName("iframe")[0];a.contentWindow.name=r,a.contentWindow.location.replace("javascript:this.name"),this._createVisibilityChecker(a)},_createContainerChecker:function(t,e,r){this._containerChecker=new n.VisibilityChecker,this._containerChecker.on("visible",function(){e.call(r,t)},this,{once:!0}),this._containerChecker.listen(t)},_createVisibilityChecker:function(t){this._visibilityChecker=new n.VisibilityChecker({confirmDelay:Ya.Const.Limits.visibCheckDelay,visiblePortion:.5}),this._visibilityChecker.on("confirmed",function(){this.dataSource.onConfirmVisibility()},this),this._visibilityChecker.listen(t)},destructor:function(){clearTimeout(this._renderIframeTimeoutRef),this._containerChecker&&this._containerChecker.clear(),this._visibilityChecker&&this._visibilityChecker.clear(),this._container&&(this._container.innerHTML="")}}})()}})(this,this.document),Ya.Context._init();