!function(t,e,r){function a(){this.queue=new o.Queue,this.loader=a.loader,this._rtb=new i(this),this._direct=new n(this)}function i(t){this._advManager=t,this._adFilter="",this._managers={}}function n(t){this._advManager=t,this._managers={},this._settingsCache={}}if(!Ya.Context.AdvManager){var o={};o.genRnd=function(){return Math.abs(+new Date)+Math.round(1e4*Math.random())},o.augment=function(t,e){var r=e.constructor;e.hasOwnProperty("constructor")||(r=function(){r.superConstructor.apply(this,arguments)});var a=function(){};return a.prototype=t.prototype,r.prototype=new a,r.prototype.constructor=r,r.superclass=t.prototype,r.superConstructor=t,o.extend(r.prototype,e),r},o.extend=function(t){for(var e,r=1,a=arguments.length;a>r;r++)if(e=arguments[r])for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t};var s={}.toString;o.isArray=function(t){return"[object Array]"===s.call(t)},o.isFunction=function(t){return"[object Function]"===s.call(t)},o.inArray=function(t,e,a){(e===r||null===e)&&(e="");for(var i=0;i<t.length;i++)if(a&&a(e,t[i])||e===t[i])return i;return-1},o.each=function(t,e,r){for(var a=0,i=t.length;i>a;++a)e.call(r,t[a],a,t)},o.forOwn=function(t,e,r){for(var a in t)t.hasOwnProperty(a)&&e.call(r,t[a],a,t)},o.map=function(t,e,r){var a,i,n=new Array(t.length);for(a=0,i=t.length;i>a;a++)a in t&&(n[a]=e.call(r,t[a],a,t));return n},o.filter=function(t,e,r){for(var a=[],i=0,n=t.length;n>i;i++){var o=t[i];e.call(r,o,i,t)&&a.push(o)}return a},o.keys=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e},o.deepCopy=function(t,e){if(e&&"object"==typeof e)for(var r in e)e.hasOwnProperty(r)&&("object"!=typeof e[r]||o.isArray(e[r])?t[r]=e[r]:("object"!=typeof t[r]&&(t[r]={}),o.deepCopy(t[r],e[r])));return t},o.getNativeMethod=function(t,e){var r=t[e];if(!o.checkNativeCode(r)){var a=r;try{delete t[e],r=t[e],t[e]=a}catch(i){}}return r},o.checkNativeCode=function(t){if(!t||!t.toString)return!1;var e=t.toString();return/\[native code\]/.test(e)||/\/\* source code not available \*\//.test(e)},o.format=function(t,e){var r=Array.prototype.slice.call(arguments,1);return t.toString().replace(/(^|.|\r|\n)(\$\{(.*?)\})/g,function(t,a,i,n){return"\\"==a?i:/^[0-9]+$/.test(n)?a+[r[+n]].join(""):a+[e&&e[n]].join("")})},o.trim=function(t){return t.replace(/^\s+|\s+$/g,"")},o.camelize=function(t){return t.replace(/[-|_]([a-z])/g,function(){return arguments[1].toUpperCase()})},o.uncamelize=function(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})},o.capitalize=function(t){return t.charAt(0).toUpperCase()+t.substring(1,t.length)},o.toQueryParams=function(t){var e=[];return o.each(o.keys(t),function(a){t[a]!=r&&""!==t[a]&&e.push(a+"="+encodeURIComponent(t[a]))}),e.join("&")},o.prettify=function(t,e){if(e=e||{},e=o.extend({gluePrepositions:!0},e),/[\u0404\u0406\u0407\u0454\u0456\u0457\u0490\u0491]/.test(t))return t;t=t.replace(/&quot;/g,'"');var r="\u0430-\u043f\u0440-\u044f\u0410-\u042f\u0451\u0401",a="a-zA-Z"+r,i=new RegExp("(["+a+"]) - (["+a+"])","g"),n="[\u0410\u0430]|[\u0411\u0431]\u0435\u0437|[\u0412\u0432](?:|\u044b|\u0430\u0441|\u0430\u043c|\u0441\u0435|\u0441\u0451)|[\u0413\u0433]\u0434\u0435|[\u0414\u0434](?:\u043e|\u043b\u044f)|[\u0417\u0437]\u0430|[\u0418\u0438](?:|\u0437)|[\u041a\u043a](?:|\u043e|\u0430\u043a)|[\u041c\u043c]\u044b|[\u041d\u043d](?:\u0430|\u0430\u043c|\u0430\u0441|\u0435|\u0438|\u043e)|[\u041e\u043e](?:|\u0431|\u0442)|[\u041f\u043f](?:\u043e|\u0440\u043e)|[\u0421\u0441](?:|\u043e)|[\u0422\u0442](?:\u043e|\u0443\u0442|\u044b)|[\u0423\u0443]|[\u0427\u0447]\u0442\u043e|[\u042d\u044d]\u0442\u043e",s="\xa0",l="\u2013",p=t.match(/"/g),d=new RegExp('(^|\\s)"([.\\-\\s\\d'+a+']{3,})"',"g"),c=t.match(d);return p&&c&&p.length%2==0&&p.length/2==c.length&&(t=t.replace(d,function(t,e,r){return/^[\-\s]|[\-\s]$|^[\-\s\d]+$/.test(r)?t:e+"\xab"+r+"\xbb"})),e.gluePrepositions&&(t=t.replace(new RegExp("(^|\\(|\\s)("+n+')\\s([\xab"$\\d'+a+"])","g"),"$1$2"+s+"$3")),t=t.replace(i,"$1"+s+l+" $2").replace(/ \-(\d\d?)%/g," \u2212$1%").replace(/ ([^\s]{1,2})$/,s+"$1").replace(/(\d+ (\d{3} ){0,2})\u0440\u0443\u0431([.,?!:;\s]|$)/g,function(t){return t.replace(/ /g,s)}).replace(/ !/,s+"!")},o.isInRange=function(t,e,r){if("number"!=typeof t)throw new Error("util.isInRange: Number value is expected");return t>=e&&r>=t},o.camelizeKeys=function(t){var e={};return o.forOwn(t,function(t,r){e[o.camelize(r)]=t}),e},o.joinBitmasks=function(t){for(var e=0,r=0,a=0;r<t.length;r++)e|=t[r][1]<<a,a+=t[r][0];return e},o.Queue=function(){var t=[],e=!1,r=function(){t.length?t.shift()(r):e=!1};return{add:function(a){e?t.push(a):(e=!0,a(r))}}},function(){var a=navigator,i=e.documentMode,n=e.compatMode,s=a.userAgent.toLowerCase(),l=s.indexOf("opera")>-1,p=s.indexOf("opera mini")>-1,d=!l&&s.indexOf("msie 7")>-1||7==i,c=!l&&s.indexOf("msie 8")>-1&&7!=i&&9!=i||8==i,_=!l&&s.indexOf("msie 9")>-1&&7!=i&&8!=i||9==i,y=!l&&s.indexOf("msie 10")>-1,h=!l&&s.indexOf("msie 6")>-1,m=!l&&s.indexOf("msie")>-1||h||d||c||_||y,u=m&&(5==i||!y&&"BackCompat"==n),f=function(t){for(var e=new Image,r=0,a=t.length;a>r;r++)if(""===e.style[t[r]+"transform"])return t[r];return null}(" -webkit- -ms- -moz- -o-".split(" "));o.browser={support:{cssTransform:null!==f,cssTransformPrefix:f,canvas:function(t){return Boolean(t.getContext&&t.getContext("2d"))}(e.createElement("canvas"))},isIE:m,isIE6:h,isIE7:d,isIE8:c,isIE9:_,isIEQuirks:u,isOperaMini:p},o.browser.flashVer=function(){var e,i=a.plugins||{},n="object",o="Shockwave Flash",s="ShockwaveFlash.ShockwaveFlash",l="application/x-shockwave-flash",p=[0,0,0];if(typeof i[o]==n){if(e=i[o].description,e&&(a.mimeTypes!==r||!a.mimeTypes[l]||a.mimeTypes[l].enabledPlugin))return e=e.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),p[0]=parseInt(e.replace(/^(.*)\..*$/,"$1"),10),p[1]=parseInt(e.replace(/^.*\.(.*)\s.*$/,"$1"),10),p[2]=/[a-zA-Z]/.test(e)?parseInt(e.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0,p}else if(t.ActiveXObject!==r)try{var d=new ActiveXObject(s);if(d&&(e=d.GetVariable("$version")))return e=e.split(" ")[1].split(","),[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)]}catch(c){}return p}()}(),o.post=function(e,r){var a=o.toQueryParams(r);try{var i=new(t.XDomainRequest||t.XMLHttpRequest);i.open("post",e,!0),i.setRequestHeader&&i.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),i.send(a)}catch(n){var s=2083-location.protocol.length,l=e+"?"+a;if(l.length>s){var p=l.lastIndexOf("%",s-1);0>p&&(p=s-1),l=l.substring(0,p)}(new Image).src=l}},o.RGB=function(t,e,r){if(arguments.length<3){var a=o.RGB.normalizeColorHash(t)||"#000000";t=parseInt(a.substr(1,2),16),e=parseInt(a.substr(3,2),16),r=parseInt(a.substr(5,2),16)}this[0]=t,this[1]=e,this[2]=r},o.RGB.normalizeColorHash=function(t){return t=(t+"").toUpperCase().replace(/^#?/,"#"),/^#[0-9A-F]{6}$/i.test(t)?t:/^#[0-9A-F]{3}$/i.test(t)?t.replace(/([0-9A-F])([0-9A-F])([0-9A-F])/i,"$1$1$2$2$3$3"):r},o.RGB.prototype={_dec2hex:function(t){var e="0123456789ABCDEF";return e.charAt(t/16<<0)+e.charAt(t%16)},toString:function(){return"#"+this._dec2hex(this[0])+this._dec2hex(this[1])+this._dec2hex(this[2])},avg:function(){return(this[0]+this[1]+this[2])/3},luma:function(){return(299*this[0]+587*this[1]+114*this[2])/1e3},isLight:function(){return this.luma()>127}},o.base64=new function(){function t(t,e){t=t.replace(/\r\n/g,"\n");for(var r,i="",n=0;n<t.length;n++){var o=t.charCodeAt(n);if(128>o?r=a(o):o>127&&2048>o?(r=a(o>>6|192),r+=a(63&o|128)):(r=a(o>>12|224),r+=a(o>>6&63|128),r+=a(63&o|128)),i.length+r.length>e)break;i+=r}return i}function e(t){for(var e="",r=0,a=0,i=0;r<t.length;)if(a=t.charCodeAt(r),128>a)e+=String.fromCharCode(a),r++;else if(a>191&&224>a)i=t.charCodeAt(r+1),e+=String.fromCharCode((31&a)<<6|63&i),r+=2;else{i=t.charCodeAt(r+1);var n=t.charCodeAt(r+2);e+=String.fromCharCode((15&a)<<12|(63&i)<<6|63&n),r+=3}return e}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",a=String.fromCharCode;this.encode=function(e,a){a=a||1e6;var i,n,o,s,l,p,d,c="",_=0;for(e=t(e,3*a/4|0);_<e.length;)i=e.charCodeAt(_++),n=e.charCodeAt(_++),o=e.charCodeAt(_++),s=i>>2,l=(3&i)<<4|n>>4,p=(15&n)<<2|o>>6,d=63&o,isNaN(n)?p=d=64:isNaN(o)&&(d=64),c=c+r.charAt(s)+r.charAt(l)+r.charAt(p)+r.charAt(d);return c},this.decode=function(t){var a,i,n,o,s,l,p,d="",c=0;for(t=t.replace(/[^A-Za-z0-9\-\_\=]/g,"");c<t.length;)o=r.indexOf(t.charAt(c++)),s=r.indexOf(t.charAt(c++)),l=r.indexOf(t.charAt(c++)),p=r.indexOf(t.charAt(c++)),a=o<<2|s>>4,i=(15&s)<<4|l>>2,n=(3&l)<<6|p,d+=String.fromCharCode(a),64!=l&&(d+=String.fromCharCode(i)),64!=p&&(d+=String.fromCharCode(n));return e(d)}},e.createElement("YATAG"),o.dom=function(t,r){if("string"!=typeof t)return t;var a=t.slice(0,1),i=t.slice(1);switch(a){case"#":return e.getElementById(i);case".":return o.dom.getElementsByClassName(i,r)}},o.dom.getElementsByClassName=function(t,r){if(r=r||e,o.checkNativeCode(r.getElementsByClassName))return Array.prototype.slice.call(r.getElementsByClassName(t));var a=r.getElementsByTagName("*"),i=o.filter(a,function(e){return o.dom.hasClass(e,t)});return i},o.dom.css=function(t,e){o.each(o.keys(e),function(r){var a=o.dom.normalizeCSSProperty(r,e[r]),i=o.camelize(a[0]);t.style[i]=a[1]})},o.dom.hasClass=function(t,e){for(var r=t.className.split(" "),a=0,i=r.length;i>a;a++)if(r[a]==e)return!0;return!1},o.dom.addClass=function(t,e){o.dom.hasClass(t,e)||(t.className+=" "+e)},o.dom.removeClass=function(t,e){var r=t.className.split(" "),a=o.filter(r,function(t){return t!=e});a.length<r.length&&(t.className=a.join(" "))},o.dom.toggleClass=function(t,e,a){r===a&&(a=!o.dom.hasClass(t,e)),a?o.dom.addClass(t,e):o.dom.removeClass(t,e)},o.dom.getHead=function(){var t=e.getElementsByTagName("head")[0];return t||(t=e.createElement("head"),e.documentElement.appendChild(t)),t},o.dom.getStyle=function(t,a){return o.dom.getStyle=e.defaultView&&e.defaultView.getComputedStyle?function(t,a){return t&&t!=e?(a=o.dom.normalizeCSSProperty(a,r,t),e.defaultView.getComputedStyle(t,null)[a[0]]):null}:t.currentStyle?function(t,a){return t&&t!=e&&t.currentStyle?(a=o.dom.normalizeCSSProperty(a,r,t),t.currentStyle[a[0]]):null}:function(t,a){return t&&t!=e?(a=o.dom.normalizeCSSProperty(a,r,t),t.style[a[0]]):null},o.dom.getStyle(t,a)},o.dom.setImportantCssProperty=function(t,e,r){t.style.setProperty?t.style.setProperty(e,r,"important"):t.style.cssText+=";"+e+":"+r+" !important"},o.dom.normalizeCSSProperty=function(t,r,a){var i=a?a.style:e.documentElement.style;return t=o.camelize(t),"opacity"==t&&"string"!=typeof i.opacity?["filter",1==r?"":"Alpha(opacity="+100*r+")"]:/^(float|(style|css)Float)$/.test(t)?(t="float",a&&(t="string"==typeof i.cssFloat?"cssFloat":"styleFloat"),[t,r]):"boxShadow"==t?(o.each(["MozBoxShadow","WebkitBoxShadow","boxShadow"],function(e){"string"==typeof i[e]&&(t=e)}),[t,r]):[t,r]},o.dom.getWindowSize=function(){var r=e.documentElement,a=e.body;return{width:t.innerWidth||r&&r.clientWidth||a&&a.clientWidth||0,height:t.innerHeight||r&&r.clientHeight||a&&a.clientHeight||0}},o.dom.remove=function(t){var e=t.parentNode;e&&e.removeChild(t)},o.dom.appendStyle=function(t){var r=e.createElement("style");return r.setAttribute("type","text/css"),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(e.createTextNode(t)),o.dom.getHead().appendChild(r),r},o.dom.addScript=function(t,r){if(r)return void e.write('<script type="text/javascript" charset="utf-8" src="'+t+'"></script>');var a=e.createElement("script");return a.charset="utf-8",a.src=t,o.dom.getHead().appendChild(a),a},o.dom.getScroll=function(t){var e=t.scrollTop;t.scrollTop+=20;var r=t.scrollTop;return t.scrollTop=e,r},o.dom.isInViewport=function(t,e){try{var r=t.getBoundingClientRect()}catch(a){}if(!r||o.browser.isOperaMini)return t.offsetWidth>0&&t.offsetHeight>0;var i=r.right-r.left,n=r.bottom-r.top,s=0;if(i>0&&n>0){var l=function(t,e,r){return Math.max(Math.min(e,r)-Math.max(t,0),0)},p=o.dom.getWindowSize(),d=l(r.left,r.right,p.width),c=l(r.top,r.bottom,p.height);s=d*c/(i*n)}return s>=(e||Number.MIN_VALUE)},o.domEvent={},function(){function r(){if("complete"===e.readyState)setTimeout(a);else if(s)p(e,"DOMContentLoaded",i,!1),p(t,"load",i,!1);else{e.attachEvent("onreadystatechange",i),t.attachEvent("onload",i);var r=!1;try{r=null==t.frameElement&&e.documentElement}catch(o){}r&&r.doScroll&&!function l(){if(!c){try{r.doScroll("left")}catch(t){return setTimeout(l,50)}n(),a()}}()}}function a(){if(!c){if(!e.body)return setTimeout(a);c=!0;for(var t=0;t<_.length;t++)_[t]();_=null}}function i(t){(s||"load"===t.type||"complete"===e.readyState)&&(n(),a())}function n(){s?(d(e,"DOMContentLoaded",i,!1),d(t,"load",i,!1)):(e.detachEvent("onreadystatechange",i),t.detachEvent("onload",i))}var s=o.getNativeMethod(e,"addEventListener"),p=function(t,e,r){t.attachEvent("on"+e,r)},d=function(t,e,r){t.detachEvent("on"+e,r)};s&&(p=function(t,e,r){o.getNativeMethod(t,"addEventListener").call(t,e,r,!1)},d=function(t,e,r){o.getNativeMethod(t,"removeEventListener").call(t,e,r,!1)}),o.domEvent.on=function(t,e,r,a,i){if(!t||!r)return null;var n=l.protect(e+" handler",r,a),s={un:function(){d(t,e,n)}};return i&&i.once&&(n=function(t){return function(e){t(e),o.domEvent.un(s)}}(n)),p(t,e,n),s},o.domEvent.un=function(t){t&&t.un()},o.domEvent.ready=function(t,e){var a=l.protect("ready",t,e);c?a():(_.push(a),y||(r(),y=!0))};var c=!1,_=[],y=!1}(),o.warning=function(){var t=[255,247,240,231,221,210,194,174,144,112,80,35,0],e=[255,222,190,165,139,118,102,86,75,70,68,66,64],r=.85;return{getBgColor:function(r){for(var a=new o.RGB(r),i=a.avg(),n=1;i<t[n];)n++;var s=t[n],l=t[n-1],p=e[n],d=e[n-1],c=(p+1*(i-s)/(l-s)*(d-p))/255,_=1-c,y=255*c;return new o.RGB(a[0]*_+y,a[1]*_+y,a[2]*_+y).toString()},getBorderColor:function(t,e){var a=new o.RGB(t),i=new o.RGB(e);return new o.RGB(a[0]*r+i[0]*(1-r),a[1]*r+i[1]*(1-r),a[2]*r+i[2]*(1-r)).toString()}}}(),o.VisibilityChecker=o.augment(Object,{_checkDelay:300,constructor:function(t,e){this._confirmDelay=+t||0,this._visiblePortion=+e||Number.MIN_VALUE,this._confirmDelay=Math.max(this._confirmDelay-this._checkDelay,0)},onVisible:function(t){return this._onVisible=t,this},onConfirmed:function(t){return this._onConfirmed=t,this},listen:function(t){if(!t)throw new Error("util.VisibilityChecker#listen: No element");this._element=t,this._isListening=!0;var e=l.protect("util.VisibilityChecker#check",function(){this._isListening&&(this._check(),setTimeout(e,this._checkDelay))},this);return setTimeout(e,0),this},clear:function(){return this._isListening=!1,this._clearConfirmTimer(),this},_check:function(){return this._isConfirmed?void 0:this._element?void(o.dom.isInViewport(this._element,this._visiblePortion)?(this._onVisible&&this._onVisible(),this._setConfirmTimer()):this._clearConfirmTimer()):(l.remoteLog("Warning::util.VisibilityChecker#check: no element"),void this.clear())},_setConfirmTimer:function(){this._confirmTimer||(this._confirmTimer=l.setProtectedTimeout(this.confirm,this._confirmDelay,this))},_clearConfirmTimer:function(){this._confirmTimer&&(clearTimeout(this._confirmTimer),this._confirmTimer=null)},confirm:function(){return this._isConfirmed||(this._isConfirmed=!0,this._onConfirmed&&this._onConfirmed(),this.clear()),this}}),function(){function t(t){return r(t,0).replace(/\s+/," ")}function r(t,e){if(!t||e>a)return"";for(var i,n="",o=t.childNodes,s=0;s<o.length;){switch(i=o[s],i.nodeType){case 1:case 5:n+=r(i,e+1);break;case 3:case 2:case 4:n+=i.nodeValue+" "}s++}return n}o.grab=function(r,a){if(a){var i,n="yandex.ru yandex.com yandex.ua yandex.by yandex.kz yandex.com.tr".split(" "),s=e.location.host;for(i=0;i<n.length;i++)if(s.substr(s.length-n[i].length,s.length)==n[i])return a}for(var l,p,d=["t"+(e.title||"")],c=d[0].length,i=1;4>i&&r>c;){l=e.getElementsByTagName("h"+i);for(var _=0;_<l.length;_++)p=t(l[_]),c+=p.length,d.push(i+""+p);i++}var y=d.join("\n");return o.base64.encode(y,r)};var a=5}(),o.setVerticalText=function(){var t=function(t,e,i,n){if(o.browser.support.cssTransform){var s=o.browser.support.cssTransformPrefix;return o.dom.setImportantCssProperty(t,s+"transform","rotate(270deg) translate(0, 100%)"),o.dom.setImportantCssProperty(t,s+"transform-origin","left bottom"),o.dom.setImportantCssProperty(t,"font",i),o.dom.setImportantCssProperty(t,"color",e),void(n&&o.dom.setImportantCssProperty(t,"text-decoration","underline"))}o.browser.support.canvas?a(t,e,i):r(t,e,i),n&&o.dom.setImportantCssProperty(t,"border-right","1px solid "+e)},r=function(t,e,r){var a='<line from="0 0" to="1 0" xmlns="urn:schemas-microsoft-com:vml" style="rotation: 270; height: 1px; ${common_style}"><stroke on="False" xmlns="urn:schemas-microsoft-com:vml" style="${common_style}" /><fill on="True" color="${text_color}" xmlns="urn:schemas-microsoft-com:vml" style="${common_style}" /><path textpathok="True" xmlns="urn:schemas-microsoft-com:vml" style="${common_style}" /><textpath on="True" string="${text}" xmlns="urn:schemas-microsoft-com:vml" style="${common_style} ${font_style}" /></line>',i=o.format(a,{text:t.textContent||t.innerText,text_color:e,font_style:"font: "+r+" !important;",common_style:"behavior: url(#default#VML) !important; display: inline-block !important; zoom: 1 !important;"});t.innerHTML=i},a=function(t,r,a){var i=t.textContent||t.innerText,n=e.createElement("canvas");n.width=t.offsetHeight,n.height=t.offsetWidth,t.innerHTML="";var o=n.getContext("2d");o.fillText&&o.rotate&&(o.fillStyle=r,o.font=a,o.textBaseline="bottom",o.rotate(1.5*Math.PI),o.fillText(i,-n.height,n.width),t.appendChild(n))};return t}();var l={};!function(){var e=3;l.remoteLog=function(t){e-->0&&o.post("//an.yandex.ru/jserr/1",{errmsg:"v:"+Ya.codeVer+"::"+t})},l.protect=function(t,e,r){return function(){try{return e.apply(r||this,arguments)}catch(a){l.remoteLog("Error::"+t+"::"+a.message)}}},l.setProtectedTimeout=function(e,r,a){return t.setTimeout(l.protect("timeout",e,a),r)}}(),function(){Ya.Const={},Ya.Const.Products={},Ya.Const.BlockTypes={VERTICAL:"vertical",FLAT:"flat",HORIZONTAL:"horizontal",GRID:"grid",ROW:"row"},Ya.Const.ImageLayout={NONE:"none",FLOAT:"float",LEFT:"left",FULL:"full"},Ya.Const.ImageSize={M:"M",L:"L"},Ya.Const.ImageAxis={X:"X",Y:"Y"},Ya.Const.BorderTypes={NONE:"none",BLOCK:"block",AD:"ad"},Ya.Const.Limits={reloadTimeOut:3e4,visibCheckDelay:2e3,stripeVisibCheckDelay:2e3};var t="none",e="inherit",r="auto",a="normal";Ya.Const.cssReset={background:"transparent none no-repeat scroll 0 0",border:t,"border-radius":t,"border-spacing":0,"border-collapse":"collapse","-moz-box-sizing":"content-box","box-sizing":"content-box",clear:t,clip:r,color:e,cursor:r,"empty-cells":"show","float":t,font:e,"font-variant":a,"font-weight":a,height:r,"letter-spacing":a,"line-height":a,margin:0,"max-height":t,"max-width":t,"min-height":0,"min-width":0,outline:t,overflow:"visible",padding:0,position:"static","table-layout":r,"text-align":"left","text-decoration":t,"text-indent":0,"text-transform":t,"vertical-align":"baseline",visibility:"visible","white-space":a,width:r,"word-spacing":a,"z-index":r},Ya.Const.config={autoRenderStripeBlock:!0},Ya.Const.urls={adTune:"http://adtune.yandex.ru/"}}(),Ya.Context.configure=function(t){var e=o.extend(Ya.Const.config,t);Ya.HeadStripe.autoRender=!!e.autoRenderStripeBlock,e.autoRenderStripeBlock?delete Ya.Context.renderStripeBlock:Ya.Context.renderStripeBlock=function(t){Ya.HeadStripe.renderBlock(t)}},a.prototype={render:function(t,e){var r=/^(\w)\-(?:\w+\-)?(\d+)\-(\d+)$/.exec(t.blockId);if(t.pageId=r[2],t.blockImpId=r[3],t.statId=t.blockImpId,"R"==r[1])this._rtb.render(t,e);else{if("D"==r[1])t.product="direct";else if("S"==r[1])t.product="stripe";else{if("P"!=r[1])return;t.product="premium"}this._direct.render(t,null,e)}},renderDirect:function(t,e,r,a){var i={pageId:t,renderTo:e,data:r.data,grab:r.grab,searchText:r.search_text,searchPageNumber:r.search_page_number,lang:r.lang,product:r.ad_format};if("stripe"==r.type)i.product="stripe";else if("direct"!=i.product&&"premium"!=i.product)return;var n=parseInt(r.stat_id,10);isNaN(n)||(i.statId=n%Math.pow(2,24)+Math.pow(2,30)),r=o.camelizeKeys(r),r.name=r.type,this._direct.render(i,r,a)},checkStripe:function(t){t.stripe&&Ya.HeadStripe.loadStripeData(t)},callMetrikaHit:function(e){(t.yandex_metrika_callbacks||(t.yandex_metrika_callbacks=[])).push(l.protect("mc",function(){t["yaCounter"+e]=new Ya.Metrika({id:e,type:1,_exp:!0})})),o.dom.addScript("//mc.yandex.ru/metrika/watch.js"),this.callMetrikaHit=function(){}}},function(){function r(t,e){s(p(t),e)}function i(t,e){s(d(t),e)}function n(t,e){s(c(t),e)}function s(e,r){var a,i=o.genRnd(),n=l.setProtectedTimeout(function(){Ya[i]&&(Ya[i]("{}"),Ya[i]=function(){})},15e3);Ya[i]=function(e){t.clearTimeout(n);var s={};try{delete Ya[i],s=new Function("return "+e)()}catch(p){l.remoteLog("JSONP parse::"+p.message+"::"+e)}l.protect("JSONP callback",function(){r(s),a&&o.dom.remove(a)})()},a=o.dom.addScript(e+"&callback=Ya["+i+"]",!Ya.Context._asyncModeOn)}function p(t){var e="//bs-meta.yandex.ru/meta/"+t.pageId+"?",r=_(t);return r["flash-ver"]=o.browser.flashVer[0],t.skipToken&&(r["skip-token"]=t.skipToken),t.extParam&&(r["ext-param"]=t.extParam),e+=o.toQueryParams(r),e+=t.extParams||"","http:"==location.protocol&&(e+="&grab="+o.grab(2040-e.length)),e}function d(t){var e="//an.yandex.ru/page/"+t.pageId+"?",r=_(t);return t.statId&&(r["stat-id"]=t.statId),t.skipBanner&&(r["skip-banner"]=t.skipBanner),t.searchText&&(r.text=t.searchText,r["page-no"]=t.searchPageNumber),e+=o.toQueryParams(r),"http:"==location.protocol&&(e+="&grab="+o.grab(2040-e.length,t.grab)),e}function c(t){var e="//an.yandex.ru/blkset/"+t.pageId+"?",r=_(t);return e+=o.toQueryParams(r)}function _(r){var a,i;try{{t.top.document.location.host}a=t.top.document.referrer,i=t.top.document.location.href,o.browser.isIE6&&i===a&&(a="")}catch(n){i=e.referrer||t.location.href,a=""}var s={"target-ref":i.substr(0,512),"page-ref":a.substr(0,512),charset:"utf-8"};return r.blockImpId&&(s["imp-id"]=r.blockImpId),r.lang&&(s.lang=r.lang),s}a.loader={loadRtb:r,loadDirect:i,loadDirectSettings:n}}(),i.prototype={render:function(t,e){this._advManager.callMetrikaHit(t.pageId);var r=this._getManager("scope##",t.blockId);Ya.Context._asyncModeOn?this._renderAsync(r,t,e):this._renderSync(r,t)},_getManager:function(t,e){return e in this._managers||(this._managers[e]=new p(t,e)),this._managers[e]},_renderAsync:function(t,e,r){this._loadData(t,e,r||function(){},!1)},_renderSync:function(e,r){t.yandex_rtb_is_displayed=!0,this._loadData(e,r,function(){t.yandex_rtb_is_displayed=!1},!0)},_loadData:function(t,e,r,a){var i=this,n=function(a){a.settings&&(i._adFilter=a.settings[e.blockImpId].adFilter),t.setData(a),t.render(e,r)};if(e.data)return void n(e.data);if(!t.dataCanReload())return void t.render(e,r);var o=function(r){i._advManager.loader.loadRtb({pageId:e.pageId,blockImpId:e.blockImpId,extParams:e.extParams,extParam:e.extParam,skipToken:i._getSkipToken(t),lang:e.lang},function(t){i._advManager.checkStripe(t),n(t),r&&r()})};a?o():this._advManager.queue.add(function(t){o(t)})},_getSkipToken:function(t){var e=this._adFilter?this._adFilter.split(":"):[];e=o.filter(e,function(t){return!/^yabs\./.test(t)});var r=t.getSkipAds();return r.length&&e.push("yabs."+o.base64.encode(r.join("\n"))),e.join(":")}};var p;!function(){function e(e,r){function a(){return o.joinBitmasks([[3,Ya.codeVer%8],[3,Ya.loaderVer%8],[1,t.top!==t.self]])}var i;this.getSettings=function(){return r},this.hasOnRender=function(){return Boolean(e.common&&"1"==e.common.isYandexPage)},this.getSize=function(){return[0==e.rtb.width?"100%":e.rtb.width,e.rtb.height]},this.getHtml=function(){return i||(i=o.base64.decode(e.rtb.html)),i};var n;this.onConfirmVisibility=function(){n||(r.linkTail&&((new Image).src=r.linkTail+"?test-tag="+a()),r.viewNotice&&((new Image).src=r.viewNotice),n=!0)}}p=function(t,r){function a(t){var r=o.dom("#"+t.renderTo);return r?void((r!==y||_!==l)&&(y=r,_=l,p&&p.destructor(),d||(d=new e(s,s.settings[t.blockImpId])),p=new c(d,t.blockId),p.render(r),t.onRender&&d.hasOnRender()&&t.onRender({product:"rtb"}))):(y=null,_=null,void(p&&p.destructor()))}function i(t){p&&p.destructor();var e={onRender:t.onRender,renderTo:t.renderTo,product:"direct"},r=s.settings[t.blockImpId];t.imagesFirst&&(r.imagesFirst=!0),h.render(e,r),p={destructor:function(){s.direct||h.render(e,r)}}}var s,l,p,d,_=null,y=null,h=new n.Manager(t,r);this.setData=function(t){s=t,l=new Date,d=null,h.setData({}),s.direct&&h.setData(s)},this.dataCanReload=function(){return!l||new Date-l>Ya.Const.Limits.reloadTimeOut},this.getSkipAds=function(){return h.getSkipBanners()},this.render=function(t,e){s.rtb?a(t):s.direct?i(t):e()}}}(),n.prototype={render:function(t,e,r){this._logPartnerIds(t.pageId),this._advManager.callMetrikaHit(t.pageId);var a=[t.searchPageNumber||"",t.searchText||""].join("#"),i=this._getManager("scope#"+a,"common#"+a);Ya.Context._asyncModeOn?this._renderAsync(i,t,e,r):this._renderSync(i,t,e)},_getManager:function(t,e){return e in this._managers||(this._managers[e]=new n.Manager(t,e)),this._managers[e]},_renderAsync:function(t,e,r,a){var i=this;this._advManager.queue.add(function(n){i._loadData(t,e,r,a||function(){},n)})},_renderSync:function(e,r,a){t.yandex_ad_is_displayed=!0,this._loadData(e,r,a,function(){t.yandex_ad_is_displayed=!1},function(){})},_loadData:function(t,e,r,a,i){if(e.data)return void this._parseData(e.data,t,e,r,a,i);if(!t.dataCanReload()&&"stripe"!==e.product)return void this._render(t,e,r,a,i);var n=this;this._advManager.loader.loadDirect({pageId:e.pageId,blockImpId:e.blockImpId,skipBanner:t.getSkipBanners().join("\n"),statId:e.statId,grab:e.grab,searchText:e.searchText,searchPageNumber:e.searchPageNumber||1,lang:e.lang},function(o){n._parseData(o,t,e,r,a,i)})},_parseData:function(t,e,r,a,i,n){return e.setData(t),this._advManager.checkStripe(t),"stripe"==r.product?void n():(a||(a=t.settings[r.blockImpId]||{},this._settingsCache[r.blockId]=a),void this._render(e,r,a,i,n))},_render:function(t,e,r,a,i){this._getSettings(e,r,function(r){t.render(e,r,a),i()})},_getSettings:function(t,e,r){if(e)r(e);else if(this._settingsCache[t.blockId])r(this._settingsCache[t.blockId]);else{var a=this;this._advManager.loader.loadDirectSettings({pageId:t.pageId,blockImpId:t.blockImpId},function(e){var i=e[t.blockImpId];a._settingsCache[t.blockId]=i,r(i)})}},_logPartnerIds:function(t){this._logPartnerIds=function(e){t!=e&&(l.remoteLog("Warning: multiple partnerIds on page: "+t+", "+e),this._logPartnerIds=function(){})}}},function(){var t=Ya.Const.BlockTypes,e=Ya.Const.BorderTypes,r=[{name:t.VERTICAL,fixed:!1,type:t.VERTICAL,limit:9,border:[e.NONE,e.BLOCK,e.AD]},{name:t.FLAT,fixed:!1,type:t.FLAT,limit:4,border:[e.NONE,e.BLOCK,e.AD]},{name:t.HORIZONTAL,fixed:!1,type:t.HORIZONTAL,limit:4,border:[e.NONE,e.BLOCK,e.AD]},{name:"160x600",fixed:!0,type:t.VERTICAL,limit:5,border:[e.NONE,e.BLOCK]},{name:"240x400",fixed:!0,type:t.VERTICAL,limit:4,border:[e.NONE,e.BLOCK]},{name:"200x300",fixed:!0,type:t.VERTICAL,limit:3,border:[e.NONE,e.BLOCK]},{name:"300x300",fixed:!0,type:t.VERTICAL,limit:4,border:[e.NONE,e.BLOCK]},{name:"300x250",fixed:!0,type:t.VERTICAL,limit:3,border:[e.NONE,e.BLOCK]},{name:"250x250",fixed:!0,type:t.VERTICAL,limit:3,border:[e.NONE,e.BLOCK]},{name:"728x90",fixed:!0,type:t.FLAT,limit:3,border:[e.NONE,e.BLOCK]},{name:"1000x120",fixed:!0,type:t.FLAT,limit:4,border:[e.NONE,e.BLOCK]},{name:t.ROW,fixed:!1,type:t.ROW,limit:1,skipWarnings:!0,border:[e.NONE]},{name:"mobile",fixed:!1,type:t.VERTICAL,limit:1,border:[e.NONE,e.BLOCK]},{name:"100%x90",fixed:!0,type:t.FLAT,limit:3,border:[e.NONE,e.BLOCK]},{name:"100%x120",fixed:!0,type:t.FLAT,limit:4,border:[e.NONE,e.BLOCK]},{name:t.GRID,fixed:!1,type:t.GRID,limit:4,border:[e.NONE,e.BLOCK,e.AD]}],a={};o.each(r,function(t,e){t.index=e,a[t.name]=t}),n.formatManager={getFormatByName:function(t){return a[t]||null}}}(),function(){function t(t,e){e.linkTail=t.linkTail,e.favicon=Boolean(t.favicon),e.noSitelinks=Boolean(t.noSitelinks),e.c11n=t.c11n||{},e.imagesFirst=Boolean(t.imagesFirst);var r=e.format.limit;if(e.format.fixed)e.limit=r;else{var a=parseInt(t.limit,10);e.limit=o.isInRange(a,1,r)?a:r}}function e(t,e){var a=t.theme;"islands"==a?(e.theme=a,i(t,e)):(e.theme="standart",r(t,e))}function r(t,e){e.borderType=o.inArray(e.format.border,t.borderType)>-1?t.borderType:e.format.border[0],e.borderRadius=Boolean(t.borderRadius),o.each(["siteBgColor","bgColor","borderColor","headerBgColor","titleColor","textColor","urlColor","hoverColor","sitelinksColor"],function(r){var a=o.RGB.normalizeColorHash(t[r]);null!=a&&(e[r]=a)}),e.format.fixed||a(t,e)}function a(t,e){var r=parseFloat(t.fontSize);o.isInRange(r,.5,2.5)||(r=1),e.fontSize=r;var a=parseInt(t.titleFontSize,10);o.isInRange(a,1,3)||(a=3),e.titleFontSize=a;for(var i={1:[[0,107]],2:[[0,128],[.7,125],[.8,123],[1.1,116]],3:[[0,135],[.9,130],[1,128],[1.1,125]]},n=i[a],s=0;n[s]&&n[s][0]<r;s++)e.titleFontSizePercent=n[s][1]+"%";var l={arial:"sans-serif","courier new":"monospace",tahoma:"sans-serif","times new roman":"serif",verdana:"sans-serif"},p=String(t.fontFamily||"").toLowerCase();e.fontFamily=l[p]?p+","+l[p]:"inherit"}function i(t,e){o.extend(e,{fontFamily:"Arial,Helvetica,sans-serif",bgColor:"#ffffff",titleColor:"#2222cc",hoverColor:"#ff0000",textColor:"#000000",urlColor:"#007700",borderColor:"#dddcda",borderType:Ya.Const.BorderTypes.BLOCK,borderRadius:!1})}n.parseSettings=function(r){var a=r?n.formatManager.getFormatByName(r.name):null;if(!a)return null;var i={format:a};return t(r,i),e(r,i),i}}(),n.Manager=function(t,e){this._capturingManager=n.Manager.getCapturingManager(t),this._key=e,this._blocks={}},n.Manager.prototype={setData:function(t){this._data=t,this._visibilityManager=new n.Manager.VisibilityManager,this._timestamp=new Date},dataCanReload:function(){return!this._timestamp||new Date-this._timestamp>Ya.Const.Limits.reloadTimeOut},render:function(t,e,r){var a=n.parseSettings(e);if(a){var i=t.blockId||t.renderTo;this._blocks[i]&&this._blocks[i].destructor();var o=t.blockId;o||(o=(t.renderTo+"-"+a.format.name).replace(/[^-\w]/g,"-")),this._blocks[i]=this._createBlock(t,a,o),this._blocks[i]?(this._blocks[i].render(),t.onRender&&this._blocks[i].dataSource.hasOnRender()&&t.onRender({product:"direct"})):r&&r()}},_createBlock:function(t,e,r){var a=this._createDataSource(t,e);if(a.isEmpty())return null;var i=d[o.capitalize(e.format.name)];return new i(a,e,t.renderTo,r)},_createDataSource:function(t,e){var r;switch(t.product){case"direct":r=n.StandardDataSource;break;case"premium":r=n.PremiumDataSource}return r?new r(this._data,this._key,t.statId,e,this._capturingManager,this._visibilityManager):void 0},getSkipBanners:function(){return this._capturingManager.getCapturedAdIds(this._key)}},n.Manager.getCapturingManager=function(){function t(){this._capturedAdIdsIndex={}}t.prototype={constructor:t,capture:function(t,e){this._capturedAdIdsIndex[t]||(this._capturedAdIdsIndex[t]=[]),this._capturedAdIdsIndex[t].push(e)},release:function(t,e){var r=this._capturedAdIdsIndex[t];if(r){var a=o.inArray(r,e);-1!==a&&r.splice(a,1)}},getCapturedAdIds:function(t){var e=[];return o.forOwn(this._capturedAdIdsIndex,function(r,a){a!==t&&e.push.apply(e,r)}),e}};var e={};return function(r){return r in e||(e[r]=new t),e[r]}}(),n.Manager.VisibilityManager=function(){var t={};return{isRtbVisibilityConfirmed:function(){return this._rtbVisibilityConfirmed},setRtbVisibilityConfirmed:function(){this._rtbVisibilityConfirmed=!0},needConfirm:function(e){return!t[e]},confirm:function(e){t[e]=!0}}},n.CommonDataSource=o.augment(Object,{constructor:function(t,e,r,a,i,n){this._data=t,this._key=e,this._statId=r,this._settings=a,this._capturingManager=i,this._visibilityManager=n,this._ads=[];var s=this._getFromData("ads");s&&(this._ads=o.map(s,this._prepareAd,this))},getType:function(){},_getFromData:function(t){var e=this.getType();return this._data[e]&&this._data[e][t]},_prepareAd:function(t){var e=o.extend({},t),r=this._getLinkTailExt();return e.url+=r,e.vcardUrl&&(e.vcardUrl+=r),e.images&&(e.images=this._prepareImages(e.images)),e.site=e.domain?e.domain.replace(/^www\./,""):"",this._settings.favicon&&e.punyDomain&&(e.favicon="//favicon.yandex.net/favicon/"+e.punyDomain),e.sitelinks=this._settings.noSitelinks||!e.sitelinks?null:this._prepareSitelinks(e.sitelinks,r),e.body=o.prettify(e.body,{gluePrepositions:!e.images}),e.title=o.prettify(e.title),e
},_getLinkTailExt:function(){return"?"+o.toQueryParams({"test-tag":this._getTestTag(),"stat-id":this._statId})},_getTestTag:function(){return o.joinBitmasks([[4,1],[3,Ya.codeVer%8],[3,Ya.loaderVer%8],[5,this._settings.format.index],[1,t.top!==t.self],[1,!!this._settings.favicon]])},_prepareImages:function(t){var e={},r={M:80,L:90};return o.each(t,function(t){for(var a in r)e[a]=e[a]||{},t[1]==r[a]&&(e[a].X=t),t[2]==r[a]&&(e[a].Y=t)}),e},_prepareSitelinks:function(t,e){var r=[];return o.each(t,function(t){t.title&&t.url&&r.push({title:o.prettify(t.title),url:t.url+e})}),r.length?r:null},isEmpty:function(){return 0===this._ads.length},doSortByImages:function(){return Boolean(this._settings.imagesFirst)},getLinkHead:function(){return this._data.common.linkHead},getTitle:function(){return this._getFromData(this.getType()+"Title")},getFreeAds:function(){var t=this._capturingManager.getCapturedAdIds(),e=o.filter(this._ads,function(e){return-1===o.inArray(t,e.adId)});return e},hasOnRender:function(){return"1"==this._data.common.isYandexPage},releaseAd:function(t){this._capturingManager.release(this._key,t.adId)},captureAd:function(t){this._capturingManager.capture(this._key,t.adId)},onConfirmVisibility:function(t){var e=o.filter(t,function(t){return this._visibilityManager.needConfirm(t.linkTail)},this);if(e.length){var r=o.map(e,function(t){return t.linkTail}).join("");(new Image).src=this.getLinkHead()+r+this._getLinkTailExt()+"&wmode=0",o.each(e,function(t){this._visibilityManager.confirm(t.linkTail)},this)}}}),n.StandardDataSource=o.augment(n.CommonDataSource,{getType:function(){return"direct"},onConfirmVisibility:function(t){this._settings.linkTail&&!this._visibilityManager.isRtbVisibilityConfirmed()&&((new Image).src=this._settings.linkTail,this._visibilityManager.setRtbVisibilityConfirmed()),n.StandardDataSource.superclass.onConfirmVisibility.call(this,t)}}),n.PremiumDataSource=o.augment(n.CommonDataSource,{getType:function(){return"premium"}});var d={};d.Component=o.augment(Object,{classes:"",css:{},html:"",templData:null,constructor:function(t,e){d.Component.superConstructor.call(this),this.blockId=e,this.renderTo=t,this._mainContId="ya_partner_"+this.blockId},destructor:function(){this.clearEvents(),this.clearHTML(),this._privateStyle&&(o.dom.remove(this._privateStyle),this._privateStyle=null)},clearHTML:function(){var t=this.getMainCont();t&&o.dom.remove(t)},clearEvents:function(){},getMainCont:function(){return o.dom("#"+this._mainContId)},_grabCss:function(t){t=t||"css";var e,r,a=this._grabPrototypeChain(t,!0).reverse(),i={};for(r=0;r<a.length;r++)o.deepCopy(i,a[r]);if(o.browser.isIE6||o.browser.isIE7||o.browser.isIE8||o.browser.isIEQuirks)for(e=this._grabPrototypeChain(t+"Ie").reverse(),r=0;r<e.length;r++)o.deepCopy(i,e[r]);return i},_specifyCssStylesSheet:function(t,e){e=e||"#"+this._mainContId+" ";var r,a,i,n=[];for(a in t)t.hasOwnProperty(a)&&n.push(a);for(i=0;i<n.length;i++)r=e+n[i],t[r]=t[n[i]],delete t[n[i]];return t},decorateCss:function(t){return t},decorateHtml:function(t){this.templData={},this.decorateHtml=function(t){o.extend(this.templData,t)},this.decorateHtml(t)},_getCss:function(){var t=this._grabCss(),e={};return this.decorateCss(e),this._specifyCssStylesSheet(e),{publicCss:this._buildCss(t,!0),privateCss:this._buildCss(e,!0)}},_grabClasses:function(){var t=(this._grabPrototypeChain("classes").join(" ")+" "+(this.classes||"")).split(" "),e={};return o.each(t,function(t){e[t]=1}),o.keys(e).reverse().join(" ")},_getHtml:function(){return this.templData=this.templData||{},this.decorateHtml({classes:this._grabClasses(),mainContId:this._mainContId}),this.compiledHtml=this._xTempl(this.html,this.templData),this.compiledHtml},_xTempl:function(t,e){var r=new Function("data, browser","var platform=[];platform.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/\t=(.*?)%>/g,"',typeof data.$1 === 'string' || typeof data.$1 === 'number' ? data.$1 : 'data.$1','").split("	").join("');").split("%>").join("platform.push('")+"');return platform.join('');");return r(e,o.browser)},appendBlock:function(){var t=this._getCss(),e=this._getHtml();return this.insertCSS(t),this.insertHtml(e)},insertCSS:function(t){t.publicCss&&o.dom.appendStyle(t.publicCss),this._privateStyle=o.dom.appendStyle(t.privateCss)},insertHtml:function(t){var e=o.dom("#"+this.renderTo);return e?(e.innerHTML=t,!0):!1},_grabPrototypeChain:function(t,e){for(var r=this.constructor.prototype.hasOwnProperty(t)?[this.constructor.prototype[t]]:[],a=this.constructor.superclass;a;)a.hasOwnProperty(t)&&(r.push(a[t]),e&&delete a[t]),a=a.constructor.superclass;return e&&delete this.constructor.prototype[t],r},_buildCss:function(t,e){var r=this._compileCSSRule("",t,e);return o.trim(r.substring(2,r.length-2))},_compileCSSRule:function(t,r,a){var i=[];return o.format("${0} {\n${1}}\n",t,o.map(o.keys(r),function(n){var s,l,p,d=r[n];return"object"==typeof d?(/^[?^] /.test(n)?(s="string"==typeof e.documentElement.style[o.dom.normalizeCSSProperty(n.substr(2),"")[0]],l="?"==n.charAt(0)&&s||"^"==n.charAt(0)&&!s,l&&i.push(this._compileCSSRule(t,d,a))):i.push(this._compileCSSRule(t+" "+n,d,a)),""):(a&&!/!important$/.test(d)&&(d+=" !important"),p=o.dom.normalizeCSSProperty(n,o.format(d,this)),o.format("    ${0}: ${1};\n",o.uncamelize(p[0]),p[1]))},this).join("")+i.join(""))},addModificatorClass:function(t,e){(t||"string"==typeof t)&&(e?this.classes=o.trim(t)+" "+this.classes:this.classes+=" "+o.trim(t))},addCssStyle:function(t,e,r){"string"==typeof t&&(t=t.split(","));var a,i,n,s;for(s=0;s<t.length;s++)if(a=o.trim(t[s])){i=e[a]||(e[a]={});for(n in r)r.hasOwnProperty(n)&&(i[n]=r[n])}return e},addCssStyleBulk:function(t,e){e&&o.forOwn(e,function(e,r){this.addCssStyle(r,t,e)},this)}}),d.Adv=o.augment(d.Component,{css:{"body .ya-partner .ya-partner__hidden":{display:"none !important"}},constructor:function(t,e,r,a){d.Adv.superConstructor.call(this,r,a),this.dataSource=t,this.settings=e,this._visibilityChecker=null,this.advs=[]},destructor:function(){d.Adv.superclass.destructor.call(this),this.advs.length&&o.each(this.advs,function(t){this.dataSource.releaseAd(t)},this)},createVisibilityChecker:function(){this._visibilityChecker=new o.VisibilityChecker(2e3).onConfirmed(l.protect("AdvBlock: onConfirmed",this._onConfirmVisibility,this)).listen(this.getMainCont())},clearEvents:function(){d.Adv.superclass.clearEvents.call(this),this._visibilityChecker&&this._visibilityChecker.clear()},createTemplObj:function(t){var e=this.dataSource.getTitle();this.dataSource.doSortByImages()&&(t=t.slice().sort(function(t,e){return!t.images-!e.images}));var r={ads:t,yaUrl:e.url,yaTitle:e.title,settings:this.settings,format:this.settings.format};return r},render:function(){var t=this.dataSource.getFreeAds();if(this.settings.format.skipWarnings&&(t=o.filter(t,function(t){return!t.warning})),t.length){this.advs=t.slice(0,this.settings.limit);var e=this.createTemplObj(this.advs);this.decorateHtml(e),this.appendBlock()&&(o.each(this.advs,function(t){this.dataSource.captureAd(t)},this),this.createVisibilityChecker(),this.afterRender())}},afterRender:function(){},_onConfirmVisibility:function(){this.dataSource.onConfirmVisibility(this.advs)}}),function(){d.Direct=o.augment(d.Adv,{html:function(){var t='<yatag class="ya-partner__logo ya-partner__ads"><yatag class="ya-partner__logo-bg ya-partner__ads-l"><a href="<%=yaUrl%>" class="ya-partner__logo-link ya-partner__ads-link-l" target="_blank"><%=yaTitle%></a></yatag></yatag>',e='<yatag class="ya-partner__pic-container"><a href="<%=ads[i].url%>" class="ya-partner__pic" target="_blank" title="<%= ads[i].site %>" style="width:<%= ads[i].images[pic.size][pic.axis][1] %>px !important;height:<%= ads[i].images[pic.size][pic.axis][2] %>px !important;background-image:url(\\\'<%= ads[i].images[pic.size][pic.axis][0] %>\\\') !important;"></a></yatag>',r='<table cellpadding="0" cellspacing="0" class="ya-partner__l-table"><tr class="ya-partner__l-tr"><td class="ya-partner__l-td ya-partner__l-pic-td">'+e+'</td><td class="ya-partner__l-td">',a="</td></tr></table>",i='<% if (ads[i].warning) { %><yatag class="ya-partner__warn"><%= ads[i].warning %></yatag><% } %>',n=o.extend({},Ya.Const.cssReset,{display:"block"}),s=o.map(o.keys(n),function(t){return t+":"+n[t]+" !important;"}).join(""),l=["<% if (ads[i].sitelinks) { %>",'<yatag class="ya-partner__sitelinks">',"<% for (var j = 0; j < ads[i].sitelinks.length; j++) { %>","<% data.sitelink_index = j + 1; %>",'<yatag class="ya-partner__sitelink ya-partner__sitelink-<%=sitelink_index%>">','<a class="ya-partner__sitelinks-text"',' target="_blank"',' href="<%=ads[i].sitelinks[j].url%>">',"<%=ads[i].sitelinks[j].title%>","</a>","<% if (j < ads[i].sitelinks.length - 1) { %>",'<yatag class="ya-partner__sitelinks-inline-delim">&middot;</yatag>',"<% } %>","</yatag>","<wbr />","<% } %>","</yatag>","<% } %>"].join("");return'<%var pic = data.pic;var ImageLayout = Ya.Const.ImageLayout;var textClickable = data.settings.c11n.textClickable;var isRow = data.format.name == Ya.Const.BlockTypes.ROW;var isVert = data.format.type == Ya.Const.BlockTypes.VERTICAL;var isHor = data.format.type == Ya.Const.BlockTypes.HORIZONTAL;var isFixed = data.format.fixed;var is728x90 = data.format.name == "728x90" || data.format.name == "100%x90";var is728x90xIMG = (is728x90 && data.isQuasiFlat);var is1000x120 = data.format.name == "1000x120" || data.format.name == "100%x120";var is1000x120xIMG = (is1000x120 && data.isQuasiFlat);var isFlat = (data.format.type == Ya.Const.BlockTypes.FLAT) && !data.isQuasiFlat;var isGrid = (data.format.type == Ya.Const.BlockTypes.GRID);%><div id="<%=mainContId%>" style="'+s+'"><% if (data.isQuasiFlat) { data.classes = "ya-partner_is-quasi-flat_yes  " + data.classes.replace(/\\bya-partner_type_flat\\b/, "ya-partner_type_horiz")} %><yatag class="<%= classes %><% if (isFlat && !is728x90 && !is1000x120) { %> ya-partner_type_flat-simple<% } %><% if (is728x90xIMG) { %> ya-partner_type_728x90xIMG<% } %><% if (is1000x120xIMG) { %> ya-partner_type_1000x120xIMG<% } %><% if (textClickable) { %> ya-partner_text_clickable<% } %>"><% if (!isFixed && (isHor || isVert || isFlat) && (browser.isIE)) { %><yatag class="ya-partner__wrap-fit"><% } %><% if (data.yaUrl && data.yaTitle && !isRow) { %>'+t+'<% } %><% if (isHor || data.isQuasiFlat) { %><table cellpadding="0" cellspacing="0" class="ya-partner__list"><tr class="ya-partner__tr"><% } else { %><yatag class="ya-partner__list"><% if (isGrid) { %><yatag class="ya-partner__column ya-partner__column-1"><% } %><% } %><% for (var i = 0, ads = data.ads, ln = ads.length; i < data.ads.length; i++) { %><% if (isHor || data.isQuasiFlat) { %><td<% } else {%><yatag<% } %> class="ya-partner__item<% data.adIndex = i + 1; %> ya-partner__item-<%= adIndex %><% if (ads[i].images && pic.layout) { %> ya-partner__item_pic_yes ya-partner__item_piclayout_<%= pic.layout %><% } %><% if (ads[i].sitelinks) { %> ya-partner__item_sitelinks_yes<% } else { %> ya-partner__item_sitelinks_no<% } %><% if (i == 0) { %> ya-partner__item_pos_first<% } %><%  if (i == ln-1) { %> ya-partner__item_pos_last<% } %><%  if (ln == 1) { %> ya-partner__item_single<% } %>"><% if (isRow) { %>'+t+"<% } %><% if ( ads[i].images ) { %><% if ( pic.layout === ImageLayout.FLOAT || pic.layout === ImageLayout.FULL ) { %>"+e+"<% } %><% if ( pic.layout === ImageLayout.LEFT ) { %>"+r+'<% } %><% } %><a href="<%=ads[i].url%>" class="ya-partner__title-link" title="<%= ads[i].site %>" target="_blank"><% if (ads[i].favicon && (pic.layout === ImageLayout.NONE || !ads[i].images)) { %><img class="ya-partner__icon" src="<%=ads[i].favicon%>" alt=""/><% } %><yatag class="ya-partner__title-link-text"><%=ads[i].title%></yatag></a> <yatag class="ya-partner__text"><% if (textClickable) { %><a href="<%= ads[i].url %>" class="ya-partner__text-link" target="_blank"><%= ads[i].body %></a><% } else { %><%= ads[i].body %><% } %><% if (ads[i].age) { %> <yatag class="ya-partner__agewarn-cont"><yatag class="ya-partner__agewarn"><%= ads[i].age %></yatag></yatag><% } %><% if (ads[i].debug) { %><span><%=ads[i].debug%></span><% } %></yatag>'+l+'<yatag class="ya-partner__url"><% if (ads[i].vcardUrl) { %><a class="ya-partner__address" href="<%=ads[i].vcardUrl%>" target="_blank">\u0410\u0434\u0440\u0435\u0441&nbsp;\u0438&nbsp;\u0442\u0435\u043b\u0435\u0444\u043e\u043d</a><% if (isFlat) { %>&nbsp;<% } else {%> <% } %><% } %><yatag class="ya-partner__domain"><a class="ya-partner__domain-link" href="<%= ads[i].url %>" target="_blank"><%=ads[i].site%></a></yatag><% if (isFlat) { %>&nbsp;<% } else {%> <% } %><yatag class="ya-partner__region"><%=ads[i].region%></yatag></yatag><% if (ads[i].images && pic.layout === ImageLayout.FLOAT) { %><yatag class="ya-partner__clearfix"></yatag><% } %>'+i+"<% if (ads[i].images && pic.layout === ImageLayout.LEFT) { %>"+a+'<% } %><% if (isHor || data.isQuasiFlat) { %></td><%  if (i != ln-1) { %><td class="ya-partner__gap">&nbsp;</td><% } %><% } else {%></yatag><% if (isGrid && (i == 1 || ads.length == 2)) { %></yatag><yatag class="ya-partner__column ya-partner__column-2"><% } %><% } %><% } %><% if (isHor || data.isQuasiFlat) { %></tr></table><% } else {%><% if (isGrid) { %></yatag><% } %></yatag><% } %><% if (!isFixed && (isHor || isVert || isFlat) && (browser.isIE)) { %></yatag><% } %></yatag></div>'}(),classes:"ya-partner",css:{".ya-partner":{"font-size":"100%",position:"relative",display:"block",overflow:"hidden","text-align":"left","line-height":"normal","border-radius":"4px","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box","white-space":"normal"},".ya-partner_border-type_ad":{"border-radius":0},".ya-partner__l-table, .ya-partner__l-tr, .ya-partner__l-td":o.extend({},Ya.Const.cssReset,{"vertical-align":"middle"}),".ya-partner__domain-link":{"text-decoration":"none"},".ya-partner__domain-link:hover":{"text-decoration":"underline"},".ya-partner, .ya-partner__logo-link, .ya-partner__logo em, .ya-partner__item, .ya-partner__title-link-text, .ya-partner__text, .ya-partner__domain-link, .ya-partner__region, ya-partner__pic-container, ya-partner__pic, .ya-partner__list tbody, .ya-partner__list tr, .ya-partner__list td":{"font-size":"inherit","font-style":"normal","text-indent":0},".ya-partner_text_clickable a.ya-partner__text-link":{"text-decoration":"none",cursor:"pointer"},".ya-partner_text_clickable a.ya-partner__text-link:hover":{"text-decoration":"underline"},".ya-partner__pic-container":{display:"block",margin:"3px 0"},".ya-partner__item_piclayout_left .ya-partner__pic-container":{margin:"0 0.4em 0 0"},".ya-partner__item_piclayout_float .ya-partner__pic-container":{margin:"0.4em 0.4em 0 0","float":"left"},".ya-partner__item_piclayout_float .ya-partner__address, .ya-partner__item_piclayout_float .ya-partner__domain-link, .ya-partner__item_piclayout_float .ya-partner__region":{"white-space":"nowrap"},".ya-partner__clearfix":o.extend({},Ya.Const.cssReset,{"font-size":0,display:"block",width:"auto",height:0,clear:"both","line-height":0}),".ya-partner__pic, .ya-partner__pic:link, .ya-partner__pic:hover, .ya-partner__pic:visited":o.extend({},Ya.Const.cssReset,{display:"block",background:"transparent 0 0 no-repeat scroll",cursor:"pointer"}),".ya-partner yatag":{"text-align":"left","font-family":"inherit"},".ya-partner__list":{display:"block","line-height":"normal","font-size":"inherit","text-indent":0},".ya-partner__title-link, .ya-partner__address, .ya-partner__logo-link":o.extend({},Ya.Const.cssReset,{"font-size":"inherit","font-style":"normal",display:"inline",cursor:"pointer"}),"a.ya-partner__address:hover":{"text-decoration":"underline"},".ya-partner__address":{"margin-right":"0.3em"},".ya-partner__item":{"border-radius":"4px",border:"none",padding:".5em","line-height":"normal"},"body .ya-partner__item_pos_last":{"margin-bottom":0},".ya-partner__sitelinks":{display:"block",padding:"0 0 0.3em","margin-top":"-0.1em"},".ya-partner__sitelink":{padding:"0.08em 0 0.08em 0","vertical-align":"middle",display:"inline-block"},".ya-partner__sitelinks wbr":{display:"none"},".ya-partner__sitelinks-text":{"text-decoration":"underline"},".ya-partner_text_clickable a.ya-partner__sitelinks-text":{"text-decoration":"none"},".ya-partner_text_clickable a.ya-partner__sitelinks-text:hover":{"text-decoration":"underline"},".ya-partner__sitelinks-inline-delim":{display:"inline",padding:"0 0.8em"},".ya-partner__url":{"font-size":"87%",display:"block"},"body .ya-partner__hide-urls .ya-partner__url":{display:"none"},"body .ya-partner__overflow-hide-urls .ya-partner__url":{display:"none"},".ya-partner__warn":{"font-size":"70%","border-radius":"2px",padding:"0.25em 0.3em 0.25em","line-height":"1.1em"},".ya-partner__agewarn-cont":{display:"inline-block"},"yatag.ya-partner__agewarn":{font:"normal normal 11px Tahoma, Arial, sans-serif","border-radius":"4px",padding:"0 1px"},".ya-partner__icon":{font:"0/0 a",margin:"0 4px -2px 0","vertical-align":"baseline",border:0,display:"inline",width:"16px",height:"16px","float":"none"},".ya-partner__logo":{display:"block",position:"relative"},".ya-partner__logo-bg":{"vertical-align":"bottom","border-radius":"4px 0 0 0",display:"inline-block",position:"relative","z-index":1,background:"none repeat scroll 0 0 transparent",padding:"0 .75em 1px .5em"},".ya-partner_border .ya-partner__logo-bg":{"vertical-align":"top"},".ya-partner__logo-link":{display:"inline-block","white-space":"nowrap",font:"87%/1 Arial,Helvetica,sans-serif"},".ya-partner__logo em":{"font-weight":"normal",background:"none repeat scroll 0 0 transparent"},"a.ya-partner__logo-link:link, a.ya-partner__logo-link:hover, a.ya-partner__logo-link:visited":{"text-decoration":"none","font-weight":"normal"},"a.ya-partner__title-link,a.ya-partner__title-link:link,a.ya-partner__title-link:hover,a.ya-partner__title-link:visited,a.ya-partner__title-link:active,a.ya-partner__title-link:focus":{"font-weight":"normal","line-height":"normal","text-decoration":"none"},"a.ya-partner__title-link .ya-partner__title-link-text,a.ya-partner__title-link .ya-partner__title-link-text:link,a.ya-partner__title-link .ya-partner__title-link-text:hover,a.ya-partner__title-link .ya-partner__title-link-text:visited,a.ya-partner__title-link .ya-partner__title-link-text:active,a.ya-partner__title-link .ya-partner__title-link-text:focus":{display:"inline","text-decoration":"underline"},".ya-partner_text_clickable a.ya-partner__title-link .ya-partner__title-link-text":{"text-decoration":"none"},".ya-partner_text_clickable a.ya-partner__title-link:hover .ya-partner__title-link-text":{"text-decoration":"underline"},".ya-partner__wrap-fit":{display:"block",zoom:"1",position:"relative","padding-bottom":"1px","font-size":"inherit","border-radius":"4px 4px 4px 4px"}},cssIe:{".ya-partner":{"font-size":"100%",zoom:"1"},".ya-partner_type_horiz, .ya-partner_type_vert, .ya-partner_type_flat":{display:"table",width:"100%","border-spacing":0},".ya-partner__agewarn, .ya-partner__agewarn-cont":{position:"relative"},"* html .ya-partner__logo-bg, * html .ya-partner__logo-link":{display:"inline",zoom:"1"},"* html .ya-partner__item, * html .ya-partner__text":{_zoom:"1","*zoom":"auto"},"* html .ya-partner__text":{"margin-top":"-0.1em"}},afterRender:function(){d.Direct.superclass.afterRender.call(this),this._removeBrokenFavicons()},_removeBrokenFavicons:function(){o.each(o.dom(".ya-partner__icon",this.getMainCont()),this._removeBrokenFavicon)},_removeBrokenFavicon:function(t){var e=new Image;o.domEvent.on(e,"error",function(){o.dom.remove(t)}),o.domEvent.on(e,"load",function(){16!=e.width&&o.dom.remove(t)}),e.src=t.src},createTemplObj:function(t){var e=d.Direct.superclass.createTemplObj.call(this,t);switch(e.pic=this.getPicParams(t),this.settings.format.name){case"728x90":case"100%x90":this.prepareForHeight90(e);break;case"1000x120":case"100%x120":this.prepareForHeight120(e)}return e},prepareForHeight90:function(t){t.pic.layout=Ya.Const.ImageLayout.LEFT,t.pic.axis=Ya.Const.ImageAxis.Y;var e=t.pic.imgCount;if(0==e.rollingTo[1])return t;var r=t.ads;r[0].images&&r[0].warning||r[1]&&r[1].images&&r[1].warning?(r.length=1,t.isQuasiFlat=!0):(r[0].images||r[1]&&r[1].images)&&(r.length=2,t.isQuasiFlat=!0)},prepareForHeight120:function(t){t.pic.axis=Ya.Const.ImageAxis.Y;var e=t.pic.imgCount,r=t.ads;r[3]&&r[3].images&&1==e.rollingTo[3]?r.length=3:e.rollingTo[2]>0?(r.length=3,t.isQuasiFlat=!0):2==r.length&&e.total>0&&(t.isQuasiFlat=!0)},getPicParams:function(t){function e(t){var e=0,r=o.map(t,function(t){return t.images&&e++,e});return{total:e,rollingTo:r}}var r=this.settings.format,a=r.name,i=r.type,n=e(t),s=Ya.Const.ImageLayout.NONE,l=i==Ya.Const.BlockTypes.VERTICAL||i==Ya.Const.BlockTypes.HORIZONTAL||i==Ya.Const.BlockTypes.GRID||"240x400"==a||"200x300"==a||"300x300"==a||"300x250"==a||"250x250"==a;l&&(s=Ya.Const.ImageLayout.FLOAT),i==Ya.Const.BlockTypes.FLAT&&(s=Ya.Const.ImageLayout.LEFT),"160x600"==a&&(s=Ya.Const.ImageLayout.FULL),("1000x120"==a||"100%x120"==a)&&(s=Ya.Const.ImageLayout.FLOAT);var p=Ya.Const.ImageSize.M,d="240x400"==a&&1==n.total||"160x600"==a||"300x300"==a||"300x250"==a||a==Ya.Const.BlockTypes.VERTICAL||a==Ya.Const.BlockTypes.HORIZONTAL;d&&(p=Ya.Const.ImageSize.L);var c=Ya.Const.ImageAxis.X;return i==Ya.Const.BlockTypes.HORIZONTAL&&(c=Ya.Const.ImageAxis.Y),{imgCount:n,layout:s,size:p,axis:c}},addWarningCss:function(t){var e=this.settings,r=e.bgColor||e.siteBgColor||"#FFFFFF";this.addCssStyle(".ya-partner__warn, .ya-partner__agewarn",t,{border:"1px solid "+o.warning.getBorderColor(r,e.textColor),"background-color":o.warning.getBgColor(r)})},addHeaderBorderCss:function(t){var e=this.settings,r="ya-partner_theme_"+e.format.type,a="";this.addModificatorClass("ya-partner_border-type_"+e.borderType),e.borderType==Ya.Const.BorderTypes.AD?(r+="_inner",a=".ya-partner__item"):e.borderType==Ya.Const.BorderTypes.BLOCK&&(this.addModificatorClass("ya-partner_border"),a=".ya-partner_border"),this.addModificatorClass(r),this.addCssStyle(a||".ya-partner",t,{background:e.bgColor}),e.format.fixed||e.format.type!=Ya.Const.BlockTypes.HORIZONTAL&&e.format.type!=Ya.Const.BlockTypes.FLAT&&e.format.type!=Ya.Const.BlockTypes.VERTICAL||e.borderType!=Ya.Const.BorderTypes.BLOCK||!o.browser.isIE||(a=".ya-partner__wrap-fit"),this.addCssStyle(a,t,{border:"1px solid "+e.borderColor||"transparent"}),e.borderRadius||this.addCssStyle([".ya-partner",".ya-partner__wrap-fit",".ya-partner__item",".ya-partner__logo-bg"],t,{"border-radius":0})},setFontSize:function(t){this.settings.format.name==Ya.Const.BlockTypes.ROW?3==this.settings.titleFontSize&&this.addCssStyle(".ya-partner__title-link-text",t,{"font-weight":"bold"}):(this.addCssStyle(".ya-partner__title-link-text",t,{"font-size":this.settings.titleFontSizePercent}),"107%"==this.settings.titleFontSizePercent&&this.addCssStyle(".ya-partner__title-link-text",t,{"font-weight":"bold"})),this.addCssStyle(".ya-partner",t,{"font-size":this.settings.fontSize+"em"})},setFontFamily:function(t){var e=[".ya-partner",".ya-partner__text",".ya-partner__text-link"];this.addCssStyle(e,t,{"font-family":this.settings.fontFamily})},setFontColors:function(t){var e=this.settings,r=[".ya-partner__title-link-text:visited",".ya-partner__title-link-text:link",".ya-partner__title-link-text:hover",".ya-partner__sitelinks-text:visited",".ya-partner__sitelinks-text:link",".ya-partner__sitelinks-text:hover",".ya-partner__title-link-text"],a=[".ya-partner__title-link-text:hover",".ya-partner__sitelinks-text:hover"];o.browser.isIE&&(r=[".ya-partner__title-link:visited",".ya-partner__title-link:link",".ya-partner__title-link:hover",".ya-partner__sitelinks-text:visited",".ya-partner__sitelinks-text:link",".ya-partner__sitelinks-text:hover",".ya-partner__title-link"],a=[".ya-partner__title-link:hover",".ya-partner__sitelinks-text:hover"]),e.titleColor&&this.addCssStyle(r,t,{color:e.titleColor});var i=[".ya-partner__sitelinks-text:visited",".ya-partner__sitelinks-text:link",".ya-partner__sitelinks-text:hover"];e.sitelinksColor&&this.addCssStyle(i,t,{color:e.sitelinksColor}),e.hoverColor&&this.addCssStyle(a,t,{color:e.hoverColor});var n=[".ya-partner__region",".ya-partner__domain-link",".ya-partner__address"];e.urlColor&&this.addCssStyle(n,t,{color:e.urlColor});var s=[".ya-partner",".ya-partner__text",".ya-partner__text-link",".ya-partner__sitelinks"];e.textColor&&this.addCssStyle(s,t,{color:e.textColor})},getBlockBgColor:function(){var t=this.settings.siteBgColor||"#ffffff";return this.settings.bgColor&&this.settings.borderType==Ya.Const.BorderTypes.AD&&(t=this.settings.bgColor),new o.RGB(t)},setSeparators:function(t){this.addCssStyleBulk(t,{".ya-partner__item":{"border-top":"1px solid "+this.settings.borderColor,"padding-top":"10px"},".ya-partner__item_pos_first":{"border-top":0,"padding-top":0}})},setArrowColors:function(t){var e=this.settings,r=e.headerBgColor,a=r||"transparent",i=e.siteBgColor||"#FFFFFF",n=e.bgColor,s="",l='url("data:image/gif,GIF89a%C8%00)%00%80%01%00%',p="%FF%FF%FF!%F9%04%01%00%00%01%00%2C%00%00%00%00%C8%00)%00%00%02%AB%84%8F%A9%CB%ED%0F%A3%9C%B4%DA%1B%B2%DE%B7%FB%0F%86%E2%E8lf%40%A6%EA%CA%B6%D2%A9%B9%F2L%D7%14%9C%D9%FA%CE%CBx%0F%0C%0A-%BF%A1%F1%884%C0%92%CC%E6n%E9%8CJY%A7%A9%F5%0A%AAb%B7%DC%17%A7%0B%0E'L%E2%B2%F8kNc%D1%EA%B64%E6%8E%3B%E1%F2%3A2g%CF%0F%F1%FA~%0F%E5%17%A8%03(XhxhF%88%B8(%A2%C8%F8%88%E1%089%E9Ei%E9%25y%A9%89%40%B7%E9%A9%D4%F9%B9%C9%26zIV%3AJ%8A%0A%A9%B5J%D9%EA%FA%08%15%2B%0BK%7BXt%8B%98%AB%5B%88%93%D9%AB%F7%1B%EC%3BL%1C%F8%1BP%00%00%3B\")";o.browser.isIE6||o.browser.isIE7||o.browser.isIEQuirks?(this.addCssStyle(".ya-partner__logo",t,{"padding-right":"5px"}),this.addCssStyle(".ya-partner__logo-bg",t,{background:"none repeat scroll 0 0 "+a})):/^#?([A-F\d]{2})([A-F\d]{2})([A-F\d]{2})$/i.test(r)&&this.addCssStyle(".ya-partner__logo-bg",t,{background:l+[RegExp.$1,RegExp.$2,RegExp.$3].join("%")+p+" 100% 50% no-repeat scroll transparent"}),(!r||r==n&&e.borderType!==Ya.Const.BorderTypes.AD||(!n||e.borderType==Ya.Const.BorderTypes.AD)&&r==i)&&(s="underline"),e.borderType==Ya.Const.BorderTypes.AD&&(s="none",e.borderRadius&&r&&r!=(n||i)&&this.addCssStyle(".ya-partner__item_pos_first",t,{"border-radius":"0 4px 4px 4px"})),isWhite=new o.RGB(r||(e.borderType==Ya.Const.BorderTypes.AD?i:n||i)).isLight(),this.addCssStyle(["a.ya-partner__logo-link:link","a.ya-partner__logo-link:hover","a.ya-partner__logo-link:visited"],t,{"text-decoration":s,color:this.getLogoBg().isLight()?"#000":"#fff"})},getLogoBg:function(){if(!this._logoBg){var t=this.settings.siteBgColor||"#ffffff";this._logoBg=new o.RGB(this.settings.headerBgColor||(this.settings.borderType==Ya.Const.BorderTypes.AD?t:this.settings.bgColor||t))}return this._logoBg},setQuasiflatCellWidth:function(t){this.addCssStyle(".ya-partner_is-quasi-flat_yes .ya-partner__item",t,{width:Math.floor(100/this.advs.length)+"%"})},decorateCss:function(t){"islands"===this.settings.theme?this.setIslandsTheme(t):this.setMainTheme(t)},setMainTheme:function(t){this.settings.format.fixed||(this.setFontSize(t),this.setFontFamily(t)),this.setFontColors(t),this.addHeaderBorderCss(t),this.addWarningCss(t),this.setArrowColors(t),this.setQuasiflatCellWidth(t)},setIslandsTheme:function(t){this.addHeaderBorderCss(t),this.setFontColors(t),this.setQuasiflatCellWidth(t),this.addCssStyleBulk(t,{".ya-partner__title-link-text":{"text-decoration":"none","font-size":"16px",color:this.settings.titleColor},".ya-partner":{"font-size":"13px"},".ya-partner,.ya-partner__text,.ya-partner__text-link":{"font-family":"Arial,Helvetica,sans-serif"},".ya-partner__pic-container":{"margin-top":0,"margin-right":"7px"},".ya-partner__logo-bg":{margin:0,padding:"8px 0 8px 12px"},".ya-partner__logo-link":{"font-size":"13px",color:"#666666","text-decoration":"none"},".ya-partner__item":{"padding-top":"0","padding-right":"7px","padding-bottom":"10px","padding-left":"12px"},".ya-partner__warn, .ya-partner__agewarn":{"font-size":"11px",color:"#666666",background:"#faf7f2"},".ya-partner__sitelinks-text":{"font-size":"13px",color:"#2222cc","text-decoration":"none"},".ya-partner__sitelinks-inline-delim":{visibility:"hidden",padding:"0 0.4em"},".ya-partner__domain-link,.ya-partner__region,.ya-partner__address":{"text-decoration":"none",display:"inline-block","margin-right":"7px",color:this.settings.urlColor,"font-size":"13px"},".ya-partner__sitelinks-text:hover,.ya-partner__domain-link:hover,.ya-partner__address:hover":{"text-underline":"none",color:"#ff0000"},".ya-partner__region":{"margin-right":0}})}})}(),d.Vertical=o.augment(d.Direct,{classes:"ya-partner_type_vert",css:{".ya-partner_type_vert ":{"min-width":"50px",clear:"both"},":root .ya-partner_type_vert":{display:"table\\0/IE9",width:"100%\\0/IE9"},".ya-partner_type_vert .ya-partner__item,.ya-partner_type_vert .ya-partner__warn,.ya-partner_type_vert .ya-partner__text,.ya-partner_type_vert .ya-partner__url":{display:"block"},".ya-partner_type_vert .ya-partner__item":{margin:"0 0 0.5em 0",padding:"0.5em"},".ya-partner_theme_vertical_inner .ya-partner__url":{"padding-bottom":"1px"},".ya-partner_theme_vertical_inner .ya-partner__item_piclayout_float .ya-partner__pic-container":{"margin-bottom":"1px"},".ya-partner_type_vert .ya-partner__text,.ya-partner_type_vert .ya-partner__warn":{margin:"0.4em 0"},".ya-partner_type_vert .ya-partner__item_pic_yes":{padding:"3px .5em"},".ya-partner_type_vert .ya-partner__item_pos_last":{margin:0},".ya-partner_type_vert .ya-partner__list":{zoom:"1"}},setIslandsTheme:function(t){d.Vertical.superclass.setIslandsTheme.call(this,t),this.setSeparators(t)}}),d.Mobile=o.augment(d.Vertical,{}),d.Grid=o.augment(d.Direct,{classes:"ya-partner_type_grid",css:{".ya-partner_type_grid .ya-partner__item, .ya-partner_type_grid .ya-partner__warn, .ya-partner_type_grid .ya-partner__text, .ya-partner_type_grid .ya-partner__url":{display:"block"},".ya-partner_type_grid .ya-partner__item":{margin:0},".ya-partner_type_grid .ya-partner__text, .ya-partner_type_grid .ya-partner__warn":{margin:"0.4em 0"},".ya-partner_type_grid .ya-partner__item_pic_yes":{padding:"3px .5em"},".ya-partner_type_grid .ya-partner__list":{"min-width":"480px",overflow:"hidden"},".ya-partner_type_grid .ya-partner__column":{width:"50%","float":"left"},".ya-partner_type_grid .ya-partner__item-1, .ya-partner_type_grid .ya-partner__item-3":{"margin-bottom":"0.5em"},".ya-partner_type_grid .ya-partner__column-1 .ya-partner__item":{"margin-right":"3px"},".ya-partner_type_grid .ya-partner__column-2 .ya-partner__item":{"margin-left":"3px"}},cssIe:{".ya-partner_type_grid .ya-partner__column-2":{"margin-left":"-1px"}},constructor:function(){d.Grid.superConstructor.apply(this,arguments),this.settings.limit=this.settings.format.limit},createTemplObj:function(t){var e=d.Grid.superclass.createTemplObj.call(this,t),r=e.ads;if(r.length>2){var a=r[2];r[2]=r[1],r[1]=a}return e}}),(o.browser.isIE6||o.browser.isIEQuirks)&&(d.Grid.prototype.decorateCss=function(t){d.Grid.superclass.decorateCss.call(this,t),this.addCssStyle(".ya-partner_type_grid .ya-partner__column-1",t,{"margin-right":"-1px"})}),d.Horizontal=o.augment(d.Direct,{classes:"ya-partner_type_horiz",css:{".ya-partner_type_horiz":{display:"inline-block",width:"100%","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box","box-sizing":"border-box"},":root .ya-partner_type_horiz":{display:"table\\0/IE9",width:"100%\\0/IE9"},".ya-partner_type_horiz:before,.ya-partner_type_horiz:after":{content:'""',display:"table","border-spacing":"0",border:"0"},".ya-partner_type_horiz .ya-partner__list":{display:"table",width:"100%",margin:"0",padding:"0",border:"none","border-spacing":"0","font-size":"inherit"},"body .ya-partner_type_horiz .ya-partner__item":{position:"static"},".ya-partner_type_horiz .ya-partner__tr":{"font-size":"inherit"},".ya-partner_type_horiz .ya-partner__item":{"vertical-align":"top","border-spacing":"0","font-size":"inherit","border-collapse":"separate"},".ya-partner_type_horiz .ya-partner__gap":{"font-size":"10px",width:"0.5em",margin:"0",border:"none",background:"none"},".ya-partner_type_horiz table.ya-partner__list, .ya-partner_type_horiz td.ya-partner__item,.ya-partner_type_horiz td.ya-partner__gap":{"border-collapse":"separate"},".ya-partner_type_horiz .ya-partner__warn,.ya-partner_type_horiz .ya-partner__inner,.ya-partner_type_horiz .ya-partner__text,.ya-partner_type_horiz .ya-partner__url":{display:"block"},".ya-partner_type_horiz .ya-partner__item_pos_last":{"margin-right":"0"},".ya-partner_type_horiz .ya-partner__text, .ya-partner_type_horiz .ya-partner__warn":{margin:"0.4em 0"}},cssIe:{".ya-partner_type_horiz .ya-partner__item, .ya-partner_type_horiz .ya-partner__tr, .ya-partner_type_horiz .ya-partner__list":{"font-size":"100%"},".ya-partner_type_horiz:before,.ya-partner_type_horiz:after":{font:"0/0 a",content:"."}},decorateCss:function(t){d.Horizontal.superclass.decorateCss.call(this,t);
var e=1.2,r=1.1,a=0,i=0;o.each(this.advs,function(t){t.images?i+=1:t.sitelinks&&(a+=1)});var n=this.advs.length,s=100/n,l=s;if(a||i){var p=(n-(i+a))*s+i*e*s+a*r*s;l=s*(100/p);var c=l*e,_=l*r;this.addCssStyle("table td.ya-partner__item_pic_yes",t,{width:c.toFixed(4)+"%"}),this.addCssStyle("table .ya-partner__item_sitelinks_yes",t,{width:_.toFixed(4)+"%"})}this.addCssStyle(".ya-partner__item",t,{width:l.toFixed(4)+"%"})}}),d.Flat=o.augment(d.Direct,{classes:"ya-partner_type_flat",css:{".ya-partner_type_flat .ya-partner__title-link, .ya-partner_type_flat .ya-partner__text, .ya-partner_type_flat .ya-partner__url":{display:"inline","vertical-align":"baseline"},":root .ya-partner_type_flat":{display:"table\\0/IE9",width:"100%\\0/IE9"},".ya-partner_type_flat .ya-partner__item":{display:"block","line-height":"normal"},".ya-partner_type_flat .ya-partner__text":{"padding-left":"0.5em"},".ya-partner_type_flat .ya-partner__warn":{display:"block","margin-top":"0.3em"},".ya-partner_type_flat .ya-partner__text .ya-partner__clearfix":{display:"none"},".ya-partner_type_flat .ya-partner__l-td":{"vertical-align":"middle"},".ya-partner_type_flat .ya-partner__l-table":{width:"100%"},".ya-partner_type_flat .ya-partner__l-pic-td":{width:"1px"},".ya-partner_type_flat .ya-partner__item_pic_yes .ya-partner__text":{display:"block"},".ya-partner_theme_flat_inner .ya-partner__item":{"margin-bottom":"0.5em"},".ya-partner_theme_flat_inner .ya-partner__item_pos_last":{"margin-bottom":"0"},".ya-partner_type_flat-simple .ya-partner__url":{display:"block","margin-top":"0.3em"},".ya-partner_type_flat-simple .ya-partner__item_pic_yes":{"padding-top":".2em","padding-bottom":".2em"},".ya-partner_type_flat-simple .ya-partner__text":{"padding-left":"0"},".ya-partner_type_flat .ya-partner__sitelinks":{"margin-top":"0.3em","padding-bottom":"0.1em"}},cssIe:{".ya-partner_type_flat":{zoom:"1"},".ya-partner_theme_flat .ya-partner__icon":{"margin-bottom":"-2px"}},setIslandsTheme:function(t){d.Vertical.superclass.setIslandsTheme.call(this,t),this.setSeparators(t)}}),function(){var r=function(e,r){return this.clickListeners=[],t!=t.top?null:(this.prefs=this.validate(e),this.prefs?(this.ready=!0,void(r&&this.render())):null)};r.Types={FLOAT:"1",SHIFT:"2",BOTTOM:"3"},r.ANIMATION_TIME=500,r.prototype.canRender=function(){return this.ready},r.prototype.validate=function(t){var e=o.extend({},t.stripe.data);e.animation=!!parseInt(t.common.stripeAnimation,10),e.autoClose=parseInt(e.autoClose,10)||0,e.fontSize=parseInt(e.fontSize,10)||0,e.height=parseInt(e.height,10)||0,e.closeColor=e.closeColor||"#fff",e.closeDecoration=e.closeDecoration||"none",e.closeHoverColor=e.closeHoverColor||"#fff",e.closeLeft=parseInt(e.closeLeft,10)||0,e.closeUrl=e.closeUrl||"",e.text1Color=e.text1Color||"#fff",e.text1Decoration=e.text1Decoration||"none",e.text1Left=parseInt(e.text1Left,10)||0,e.text1Target=e.text1Target||"_blank",e.text1Url=e.text1Url||"",e.text2Color=e.text2Color||"#fff",e.text2Decoration=e.text2Decoration||"none",e.text2Left=parseInt(e.text2Left,10)||0,e.text2Target=e.text2Target||"_blank",e.text2Url=e.text2Url||"",e.backgroundColor=e.backgroundColor||"transparent",e.backgroundGradient=e.backgroundGradient||"",e.backgroundImage=e.backgroundImage||"",e.backgroundImageLeft=parseInt(e.backgroundImageLeft,10)||0,e.voidUrl=e.voidUrl||"",e.voidTarget=e.voidTarget||"_blank",e.stripeType=t.common.stripeType||r.Types.FLOAT,e.confirmVisibilityLink=e.linkNext?t.common.linkHead+e.linkNext:"",e.stripeType==r.Types.SHIFT&&(e.animation=!1);var a=o.browser;return(a.isIE6||a.isIE7||a.isIE8)&&(e.animation=!1),a.isIE9&&e.animation&&(this.toggleView=this.timedToggleView),e.stripeType==r.Types.BOTTOM&&(a.isIE6||a.isIEQuirks)?null:e},r.prototype.render=function(){this.iframe=e.createElement("iframe"),this.iframe.frameBorder=0,this.iframe.scrolling="no",this.iframe.seamless=!0,o.forOwn(this.getCss(),function(t,e){this.iframe.style[e]=t},this);var t=e.body||e.documentElement;t.insertBefore(this.iframe,t.firstChild);var a=o.format(r.Templates.DOCUMENT,this.getTmplData());this.iframe.contentWindow.name=a,this.iframe.contentWindow.location.replace("javascript:name"),o.domEvent.on(this.iframe,"load",this.afterRender,this,{once:!0})},r.prototype.getCss=function(){var t={display:"block",margin:0,padding:0,zIndex:2e4,border:"none",width:"100%",position:"absolute",left:0,height:this.prefs.height+"px"};return this.prefs.stripeType==r.Types.SHIFT&&(t.position="relative"),this.prefs.stripeType==r.Types.BOTTOM?(t.position="fixed",t.bottom=-this.prefs.height+"px"):t.top=-this.prefs.height+"px",this.prefs.animation&&(t.transition=t.WebkitTransition=t.MozTransition=t.OTransition="all "+r.ANIMATION_TIME+"ms"),t},r.prototype.getTmplData=function(){var t=function(t){return t.replace(/./g,function(t){return"&#"+t.charCodeAt(0)+";"})},e="";if(this.prefs.agreementText&&this.prefs.agreementUrl){var a=this.prefs.agreementText,i="",n="",s=this.prefs.agreementText.match(/(.*?)\[(.+)\](.*)/);s&&(i=s[1],a=s[2],n=s[3]),e=o.format(r.Templates.LINK,{preText:t(i),postText:t(n),linkText:t(a),linkUrl:this.prefs.agreementUrl})}var l=function(t){var e=[0,2,10,18,26,34,42,50,58,66,74,82,90,98,100];return e[t]+"%"};return o.extend({},this.prefs,{bgPosition:l(this.prefs.backgroundImageLeft),text1Position:l(this.prefs.text1Left),text2Position:l(this.prefs.text2Left),closePosition:l(14-this.prefs.closeLeft),text1:t(this.prefs.text1),text2:t(this.prefs.text2),close:t(this.prefs.close),closeBorder:"underline"==this.prefs.closeDecoration?"1px":"0",agreementLink:e})},r.prototype.afterRender=function(){this.toggleView(!0),this.prefs.autoClose&&(this.autoCloseTimer=l.setProtectedTimeout(this.close,1e3*this.prefs.autoClose,this));var t=function(){l.setProtectedTimeout(this.close,10,this)};this.addClickEvent("text1",t),this.addClickEvent("text2",t),this.addClickEvent("background",t),this.prefs.close&&this.addClickEvent("close",function(){this.onManualClose(),this.close()}),this.launchVisibilityChecker()},r.prototype.addClickEvent=function(t,e){var r=this.iframe.contentWindow.document.getElementById(t);this.clickListeners.push(o.domEvent.on(r,"click",e,this,{once:!0}))},r.prototype.removeClickEvents=function(){o.each(this.clickListeners,function(t){o.domEvent.un(t)}),this.clickListeners.length=0},r.prototype.toggleView=function(t,e){var a="top";this.prefs.stripeType==r.Types.BOTTOM&&(a="bottom"),this.iframe.style[a]=(t?0:-this.prefs.height)+"px",e&&(this.prefs.animation?this.addTransitionEndEvent(e):e())},r.prototype.addTransitionEndEvent=function(t){o.each(["transitionend","webkittransitionend","moztransitionend","otransitionend"],function(e){o.domEvent.on(this.iframe,e,t,this,{once:!0})},this)},r.prototype.close=function(){this.closed||(this.closed=!0,this.autoCloseTimer&&(clearTimeout(this.autoCloseTimer),this.autoCloseTimer=null),this.visibilityChecker.clear(),this.removeClickEvents(),this.toggleView(!1,l.protect("Stripe closed",this.destroy,this)))},r.prototype.destroy=function(){o.dom.remove(this.iframe),this.iframe=null},r.prototype.onManualClose=function(){this.prefs.closeUrl&&((new Image).src=this.prefs.closeUrl)},r.prototype.launchVisibilityChecker=function(){this.visibilityChecker=new o.VisibilityChecker(2e3).onConfirmed(l.protect("Stripe: onConfirmed",this.onConfirmVisibility,this)),this.prefs.confirmVisibilityLink&&(this.prefs.animation?l.setProtectedTimeout(function(){this.visibilityChecker.listen(this.iframe)},r.ANIMATION_TIME,this):this.visibilityChecker.listen(this.iframe))},r.prototype.onConfirmVisibility=function(){(new Image).src=this.prefs.confirmVisibilityLink},r.prototype.timedToggleView=function(t,e){function a(t,e,r,a){return r*t/a+e}function i(t,e){var r=new Date,a=function(){t(new Date-r)?setTimeout(a,17):e&&e()};a()}function n(t){i(function(e){var r=t.easing(e,t.start,t.end-t.start,t.duration),a=e<t.duration;return t.onFrame(a?r:t.end),a},t.onEnd)}n({duration:r.ANIMATION_TIME,easing:a,start:t?-this.prefs.height:0,end:t?0:-this.prefs.height,onEnd:e&&l.protect("Stripe animation end callback",e),onFrame:l.protect("Stripe animation frame",function(t){var e=this.prefs.stripeType==r.Types.BOTTOM?"bottom":"top";this.iframe.style[e]=Math.round(t)+"px"},this)})},r.Templates={},r.Templates.LINK='        ${preText}<a href="${linkUrl}" target="_blank">${linkText}</a>${postText}    ',r.Templates.DOCUMENT='        <!DOCTYPE html>        <html>            <body>                <style>                    html, body {                        border: none;                        margin: 0;                        padding: 0;                        background: transparent;                        overflow: hidden;                        font-size: ${fontSize}pt;                        font-family: Arial, sans-serif;                    }                    .container {                        overflow: hidden;                        background: ${backgroundColor} 0 0 repeat url("${backgroundGradient}");                        width: 100%;                        min-width: 1024px;                        height: ${height}px;                        position: absolute;                        right: 0;                        top: 0;                    }                    .col {                        position: absolute;                        z-index: 2;                        line-height: ${height}px;                    }                    .col-text1 {                        left: ${text1Position};                    }                    .col-text2 {                        left: ${text2Position};                    }                    .col-close {                        right: ${closePosition};                    }                    .bg {                        display: block;                        position: absolute;                        z-index: 1;                        width: 100%;                        height: 100%;                        background-image: url("${backgroundImage}");                        background-repeat: no-repeat;                        background-position: ${bgPosition} 0;                        border: none;                    }                    .text1 {                        color: ${text1Color};                        text-decoration: ${text1Decoration};                    }                    .text1:hover {                        color: ${text1HoverColor};                    }                    .text2 {                        color: ${text2Color};                        text-decoration: ${text2Decoration};                    }                    .text2:hover {                        color: ${text2HoverColor};                    }                    .agreement {                        color: ${text2Color};                        margin-left: 20px;                    }                    .agreement a {                        color: ${text2Color};                        text-decoration: underline;                    }                    .agreement a:hover {                        color: ${text2HoverColor};                    }                    .close {                        cursor: pointer;                        color: ${closeColor};                        text-decoration: none;                        line-height: 1em;                        margin-right: 5px;                    }                    .close:hover {                        color: ${closeHoverColor};                    }                    .close span {                        display: inline-block;                        border-color: ${closeColor};                        border-style: dotted;                        border-width: 0;                        border-bottom-width: ${closeBorder};                    }                    .close:hover span {                        border-color: ${closeHoverColor};                    }                    .col-age {                        right: 5px;                        color: ${text1Color};                    }                </style>                <div class="container">                    <a class="bg" id="background" href="${voidUrl}" target="${voidTarget}"></a>                    <div class="col col-text1">                        <a class="text1" id="text1" href="${text1Url}" target="${text1Target}">${text1}</a>                    </div>                    <div class="col col-text2">                        <a class="text2" id="text2" href="${text2Url}" target="${text2Target}">${text2}</a>                        <span class="agreement">${agreementLink}</span>                    </div>                    <div class="col col-close">                        <a class="close" id="close">&times;&nbsp;<span>${close}</span></a>                    </div>                    <div class="col col-age">${ageRestriction}</div>                </div>            </body>        </html>    ',Ya.HeadStripe={autoRender:!0,loadStripeData:function(t){if(!this._singleStripe){var e=new r(t,this.autoRender);e.canRender()&&(this._singleStripe=e)}},renderBlock:function(){return!this.autoRender&&this._singleStripe?(this._singleStripe.render(),!0):!1}}}(),d.Row=o.augment(d.Direct,{classes:"ya-partner_type_row ya-partner__hide-urls",css:{".ya-partner_type_row":{height:"2.2em",overflow:"hidden"},".ya-partner_type_row .ya-partner__item":{padding:"0.4em 0.5em",display:"block","border-radius":"",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"},".ya-partner_type_row .ya-partner":{"border-radius":""},".ya-partner_type_row .ya-partner__agewarn-cont":{display:"inline"},".ya-partner_type_row .ya-partner__address":{"margin-right":"0.5em"},".ya-partner_type_row .ya-partner__title-link, .ya-partner_type_row .ya-partner__title-link-text":{"vertical-align":"baseline","white-space":"nowrap"},".ya-partner_type_row .ya-partner__text":{"vertical-align":"baseline",margin:"0 0.4em","white-space":"nowrap","text-overflow":"ellipsis"},".ya-partner_type_row .ya-partner__text .ya-partner__agewarn-displacer":{display:"none"},".ya-partner_type_row .ya-partner__logo":{display:"inline-block","vertical-align":"baseline",margin:0},".ya-partner_type_row .ya-partner__logo-bg":{display:"inline-block","vertical-align":"baseline","margin-right":".3em","line-height":"1.57em"},".ya-partner_type_row .ya-partner__logo-link":{"vertical-align":"baseline"},".ya-partner_type_row .ya-partner__url":{display:"inline"},".ya-partner_type_row .ya-partner__sitelinks":{display:"none"}},addHeaderBorderCss:function(t){d.Row.superclass.addHeaderBorderCss.call(this,t),this.addCssStyle(".ya-partner",t,{background:this.settings.bgColor})},decorateCss:function(t){d.Row.superclass.decorateCss.call(this,t);var e=this.settings.c11n;"itemPadding"in e&&this.addCssStyle(".ya-partner__item",t,{padding:e.itemPadding}),o.isArray(e.arrowTextUnderline)&&(this.addCssStyle("a.ya-partner__logo-link:link,a.ya-partner__logo-link:visited",t,{"text-decoration":e.arrowTextUnderline[0]?"underline":"none"}),this.addCssStyle("a.ya-partner__logo-link:hover",t,{"text-decoration":e.arrowTextUnderline[1]?"underline":"none"}))},setIslandsTheme:function(t){d.Row.superclass.setIslandsTheme.call(this,t),this.addCssStyleBulk(t,{".ya-partner__logo-bg":{padding:"0 .5em 1px 0",margin:"0 .5em 0 0"},".ya-partner__item":{"margin-top":"4px","padding-top":0},".ya-partner__ads-link-l,.ya-partner__text,.ya-partner__title-link-text":{"font-size":"12px"}})}}),function(){function t(t,e,r){this._super=t,this._width=e,this._height=r,this._themeCSS={},this._proto=this.getCommonProto()}t.merge=function(e,r){return o.forOwn(r,function(r,a){"object"==typeof r&&"object"==typeof e[a]?t.merge(e[a],r):e[a]=r}),e},t.templateObjectKeys=function(t,e){var r={};return o.forOwn(t,function(t,a){r[o.format(a,e)]=t}),r},t.afterRender=function(){var t=this.getMainCont().getElementsByTagName("yatag")[0],e=function(e){return function(){return o.dom.getScroll(t)>e}};this.removeAds(t,e(4)),this.showMisc(t,e(4)),this.adjustItemIndents(t,e(0)),this.dataSource.doSortByImages()&&(this._sortByImages(),this.resetClasses(t)),o.dom.removeClass(t,"ya-partner__invisible")},t.removeAds=function(t,e){for(var r=o.dom.getElementsByClassName("ya-partner__item",t);r.length>1&&e();){var a=r.pop(),i=r.length;if("td"==a.tagName.toLowerCase()){var n=a.previousSibling;n&&o.dom.hasClass(n,"ya-partner__gap")&&o.dom.remove(n);var s=Math.floor(100/i)+"%";o.each(r,function(t){o.dom.setImportantCssProperty(t,"width",s)}),this.resetClasses(t)}o.dom.remove(a),this.dataSource.releaseAd(this.advs.pop())}},t.resetClasses=function(t){var e=o.dom.getElementsByClassName("ya-partner__item",t),r={first:"ya-partner__item_pos_first",last:"ya-partner__item_pos_last",single:"ya-partner__item_single"};o.each(e,function(t,e,a){o.dom.removeClass(t,r.first),o.dom.removeClass(t,r.last),0===e&&o.dom.addClass(t,r.first),e===a.length-1&&o.dom.addClass(t,r.last)}),1==e.length&&o.dom.addClass(e[0],r.single)},t.showMisc=function(t,e){var r=function(e){o.dom.removeClass(t,e)},a=function(e){o.dom.addClass(t,e)},i=function(t){return r(t),e()?(a(t),!1):!0},n="ya-partner__overflow-hide-all-sitelinks";if(!this.settings.noSitelinks){var s=!1;if(i(n))for(var l=1;4>=l&&i("ya-partner__overflow-hide-sitelink-"+l);l++)s=!0;s||a(n)}i("ya-partner__overflow-hide-urls")},t.adjustItemIndents=function(t,e){if(!e()){var r=function(t,e){var r=e+"px";o.each(t,function(t){o.dom.setImportantCssProperty(t,"padding-top",r),o.dom.setImportantCssProperty(t,"padding-bottom",r)})},a=o.dom(".ya-partner__item",t),i=parseInt(o.dom.getStyle(a[0],"padding-top"),10)||0;do r(a,++i);while(50>i&&!e());r(a,--i)}},t.classes=["ya-partner__invisible","ya-partner__overflow-hide-urls","ya-partner__overflow-hide-all-sitelinks","ya-partner__overflow-hide-sitelink-1","ya-partner__overflow-hide-sitelink-2","ya-partner__overflow-hide-sitelink-3","ya-partner__overflow-hide-sitelink-4"],t.prototype.getCommonProto=function(){var e=this._super;return{createTemplObj:function(t){var r=e.prototype.createTemplObj.call(this,t);return t.length=r.ads.length,r.ads=t,r},_sortByImages:function(){var t=this.getMainCont(),e=o.dom(".ya-partner__item",t),r=o.filter(e,function(t){return!o.dom.hasClass(t,"ya-partner__item_pic_yes")});if(r.length&&r.length<e.length){var a=r[0].parentNode;o.each(r,function(t){a.appendChild(t)})}},afterRender:function(){e.prototype.afterRender.call(this),t.afterRender.call(this)},resetClasses:t.resetClasses,removeAds:t.removeAds,showMisc:t.showMisc,markLastSitelink:t.markLastSitelink,adjustItemIndents:t.adjustItemIndents,css:{"body .ya-partner__invisible":{visibility:"hidden",opacity:0},"body .${root}":{width:this._width+"px",height:this._height+"px","font-size":"12px"},"body .${root} a.ya-partner__title-link:link,body .${root} a.ya-partner__title-link:visited,body .${root} a.ya-partner__title-link:hover":{"font-size":"16px","font-weight":"normal"},"body .${root} .ya-partner__text":{"font-size":"12px","font-weight":"normal",margin:"5px 0px 3px"},"body .${root} .ya-partner__warn":{"font-size":"8.4px"},":root body .${root}":{width:this._width+"px",display:"block"},"body .${root} .ya-partner__url":{"font-size":"11px","font-weight":"normal"},"body .${root}.ya-partner_type_flat.ya-partner__overflow-hide-urls .ya-partner__text":{"padding-right":0},"body .${root} *,body .${root} yatag":{"font-family":"Arial, sans-serif","word-spacing":"normal","letter-spacing":"normal"},"body .${root} .ya-partner__logo-link":{"line-height":"13px","font-size":"11px"},"body .${root} .ya-partner__item":{"line-height":"14px",margin:0,padding:"3px 6px"},".ya-partner__overflow-hide-urls .ya-partner__list .ya-partner__url":{display:"none"},"body .${root} .ya-partner__sitelinks":{padding:"0 0 1px","margin-top":"-1px"},"body .${root} .ya-partner__sitelink":{padding:"1px 0","font-size":"12px"},"body .${root} .ya-partner__sitelinks-inline-delim":{padding:"0 9px"},".ya-partner__overflow-hide-sitelink-1 .ya-partner__sitelink-1, .ya-partner__overflow-hide-sitelink-2 .ya-partner__sitelink-2, .ya-partner__overflow-hide-sitelink-3 .ya-partner__sitelink-3, .ya-partner__overflow-hide-sitelink-4 .ya-partner__sitelink-4":{display:"none"},".ya-partner__overflow-hide-sitelink-2 .ya-partner__sitelink-1 .ya-partner__sitelinks-inline-delim, .ya-partner__overflow-hide-sitelink-3 .ya-partner__sitelink-2 .ya-partner__sitelinks-inline-delim, .ya-partner__overflow-hide-sitelink-4 .ya-partner__sitelink-3 .ya-partner__sitelinks-inline-delim":{display:"none"},".ya-partner__overflow-hide-all-sitelinks yatag.ya-partner__sitelinks":{display:"none"}},cssIe:{"body .${root}":{display:"block"}}}},t.prototype.getFlatProto=function(){var e=this._super,r=this._themeCSS;return{adjustItemIndents:function(){},decorateCss:function(t){this._logoTextColor=this.getLogoBg().isLight()?"#000000":"#ffffff",this._isLogoUnderlined=!this.settings.headerBgColor||this.settings.headerBgColor===this.settings.bgColor,e.prototype.decorateCss.call(this,t),this.addCssStyle(".ya-partner__logo-bg",t,{padding:0,"background-color":this.settings.headerBgColor})},afterRender:function(){o.setVerticalText(o.dom.getElementsByClassName("ya-partner__ads-link-l",this.getMainCont())[0],this._logoTextColor,"11px/11px Arial,sans-serif",this._isLogoUnderlined),e.prototype.afterRender.call(this),t.afterRender.call(this)},setIslandsTheme:function(t){this._logoTextColor="#666666",this._isLogoUnderlined=!1,e.prototype.setIslandsTheme.call(this,t),this.addCssStyleBulk(t,{".ya-partner__ads-link-l":{left:"5px",bottom:"5px",margin:0,padding:0},".ya-partner__list":{"padding-top":"7px","padding-bottom":"7px"},".ya-partner_type_horiz .ya-partner__list":{"padding-top":"1px","padding-bottom":"1px"},".ya-partner__item":{margin:0,padding:"3px 6px","padding-top":"3px",border:"none"},".ya-partner__item_pos_first":{"padding-top":"3px"}}),r.islands&&this.addCssStyleBulk(t,r.islands)},css:{"body .${root} .ya-partner__item":{margin:"4px 0",padding:"0 3px"},"body .${root} .ya-partner__item_pic_yes":{margin:0},"body .${root} .ya-partner__item_pic_yes .ya-partner__pic-container":{margin:"4px 4px 0 0"},"body .${root} .ya-partner__text":{"margin-top":0},"body .${root}xIMG table.ya-partner__list":{"padding-bottom":0,"margin-bottom":0},"body .${root}xIMG .ya-partner__warn":{display:"block"},"body .${root}xIMG .ya-partner__title-link-text":{"line-height":"19px"},"body .${root}xIMG .ya-partner__text":{"line-height":"17px"},"body .${root}.ya-partner_type_flat .ya-partner__text":{"padding-right":"10px"},"body .${root}.ya-partner_type_flat .ya-partner__sitelinks":{padding:"2px 0 0"},"body .${root}.ya-partner_type_horiz .ya-partner__sitelinks":{"padding-top":"0"},"body .${root} .ya-partner__list":{width:this._width-22+"px","margin-left":"20px",padding:0},"body .${root} .ya-partner__logo":{"border-radius":0,position:"absolute",width:"17px",height:this._height+"px",bottom:0,left:0,"z-index":1},"body .${root} .ya-partner__logo-bg":{padding:0,width:"17px",height:this._height+"px"},"body .${root} .ya-partner__ads-link-l":{font:"11px/11px Arial,sans-serif",position:"absolute","margin-left":0,left:"2px",bottom:"4px","z-index":1,padding:0}},cssIe:{"* html body .${root} .ya-partner__text":{"margin-top":"2.4px"},"body .${root} .ya-partner__text":{"margin-top":"3px"}}}},t.prototype.extendCSS=function(e){return t.merge(this._proto.css,e),this},t.prototype.extendThemedCSS=function(e,r){return this._themeCSS[e]||(this._themeCSS[e]={}),t.merge(this._themeCSS[e],r),this},t.prototype.mergeFlatProto=function(){return t.merge(this._proto,this.getFlatProto()),this},t.prototype.registerBlock=function(){var e=this._width+"x"+this._height,r="ya-partner_type_"+e,a={root:r};return this._proto.classes=t.classes.concat([r]).join(" "),this._proto.css=t.templateObjectKeys(this._proto.css,a),this._proto.cssIe=t.templateObjectKeys(this._proto.cssIe,a),d[e]=o.augment(this._super,this._proto)},new t(d.Vertical,250,250).registerBlock(),new t(d.Vertical,300,300).registerBlock(),new t(d.Vertical,200,300).registerBlock(),new t(d.Vertical,240,400).extendCSS({"body .${root} .ya-partner__item":{padding:"5px 7px"}}).registerBlock(),new t(d.Vertical,300,250).extendCSS({"body .${root} .ya-partner__text":{"margin-bottom":0},"body .${root} .ya-partner__item":{padding:"7px 7px 3px 7px"}}).registerBlock(),new t(d.Vertical,160,600).registerBlock(),new t(d.Flat,728,90).mergeFlatProto().extendThemedCSS("islands",{".ya-partner__ads-link-l":{"font-size":"11px"}}).extendCSS({"body .${root} td.ya-partner__item":{margin:0,padding:"0 3px"},"body .${root}xIMG td.ya-partner__item":{"vertical-align":"middle"}}).registerBlock(),new t(d.Flat,1e3,120).mergeFlatProto().extendCSS({"body .${root} .ya-partner__warn":{"margin-top":"0.3em"},"body .${root} .ya-partner__url":{"font-size":"13px"},"body .${root}xIMG td.ya-partner__item":{"vertical-align":"top",padding:"3px"}}).registerBlock()}(),function(){function t(t,r){return o.augment(t,{insertHtml:function(a){return a=o.format(e,{width:r,html:a}),t.prototype.insertHtml.call(this,a)}})}var e='<yatag style="display:block;text-align:center;"><yatag style="display:block;text-align:left;width:${width}px;margin:0 auto;">${html}</yatag></yatag>';d["100%x90"]=t(d["728x90"],728),d["100%x120"]=t(d["1000x120"],1e3)}();var c;!function(){var e='<!DOCTYPE html><html><head><meta charset="utf-8"/><base href="${baseURL}" target="_blank"/></head><body style="text-align:center;">${html}<script type="text/javascript">document.close();</script></body></html>',r='<iframe id="${id}" width="${width}" height="${height}" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" vspace="0" hspace="0"></iframe>';c=function(t,e){this.dataSource=t,this.blockId=e},c.prototype={render:function(e){var a=this.dataSource.getSize(),i=o.format(r,{baseURL:t.location.href,id:"ya_partner_"+this.blockId,width:a[0],height:a[1]});e.innerHTML=i,this._container=e,this.dataSource.getSettings().displayDelayed?this._createContainerChecker(e,this._render,this):this._render(e)},_render:function(r){var a=o.format(e,{baseURL:t.location.href,html:this.dataSource.getHtml()}),i=r.getElementsByTagName("iframe")[0];i.contentWindow.name=a,i.contentWindow.location.replace("javascript:this.name"),this._createVisibilityChecker(i)},_createContainerChecker:function(t,e,r){this._containerChecker=new o.VisibilityChecker(0).onVisible(l.protect("RTB container visible",function(){e.call(r,t)},this)).listen(t)},_createVisibilityChecker:function(t){this._visibilityChecker=new o.VisibilityChecker(2e3,.5).onConfirmed(l.protect("confirmVisibility: rtb",function(){this.dataSource.onConfirmVisibility()},this)).listen(t)},destructor:function(){clearTimeout(this._renderIframeTimeoutRef),this._containerChecker&&this._containerChecker.clear(),this._visibilityChecker&&this._visibilityChecker.clear(),this._container&&(this._container.innerHTML="")}}}(),!function(){var t=new a;Ya.Context.AdvManager={render:l.protect("AdvManager.render",function(){t.render.apply(t,arguments)}),renderDirect:l.protect("AdvManager.renderDirect",function(){t.renderDirect.apply(t,arguments)})}}(),Ya.Context._init=l.protect("Ya.Context._callbacks",function(){for(var t=0;t<Ya.Context._callbacks.length;t++)Ya.Context._callbacks[t]();Ya.Context._callbacks=[]})}}(this,this.document),Ya.Context._init();