<!DOCTYPE html>

<html>
<head>
  <title>Маниакальный веблог » Раскладка в CSS: float</title>
  
  <link rel="stylesheet" href="Маниакальный%20веблог%20%BB%20Раскладка%20в%20CSS_%20float_files/style000.css">
  
  <link rel="icon" href="Маниакальный%20веблог%20%BB%20Раскладка%20в%20CSS_%20float_files/icon0000.png">
  <script src="Маниакальный%20веблог%20%BB%20Раскладка%20в%20CSS_%20float_files/jquery-1.js"></script>
  <link rel="openid.server" href="http://softwaremaniacs.org/openid/endpoint/"><link rel="openid.delegate" href="http://softwaremaniacs.org/about/">
  
  <script src="Маниакальный%20веблог%20%BB%20Раскладка%20в%20CSS_%20float_files/highligh.js"></script>
  <script src="Маниакальный%20веблог%20%BB%20Раскладка%20в%20CSS_%20float_files/core0000.js"></script>
  <script src="Маниакальный%20веблог%20%BB%20Раскладка%20в%20CSS_%20float_files/marcus00.js"></script>
  <link rel="pingback" href="http://softwaremaniacs.org/blog/pingback/">
  <link rel="me" type="text/html" href="http://www.google.com/profiles/isagalaev">

  <link rel="alternate" type="application/atom+xml" title=" » комментарии" href="/blog/2005/12/01/css-layout-float/feed/">


<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
</head>

<body id="post" class="blog">

<div id="header">
  <h1>Раскладка в CSS: float</h1>
  
<div id="meta" class="meta">
  <p>
    <a href="http://softwaremaniacs.org/blog/">Маниакальный веблог</a>,
    
    01.12.2005
    
    
  </p>
</div>

</div>


<div id="entry" class="usertext">
<p>Длинная эпопея с написанием статьи о свойстве "float" завершена. Пусть времени ушло много, но мне думается, что мне удалось максимально доходчиво свести все многообразие поведений этого мощного и несколько странного свойства в одну общую систему.</p>

<p>Кроме того, эта статья содержит рекордное количество иллюстраций среди всего "<a href=http://softwaremaniacs.org/blog/category/web/primer/ rel=nofollow>Учебника</a>" :-)</p>

<p><a name=more rel=nofollow></a></p>

<p id=float-hack>Судьба свойства "float" в CSS слегка похожа на судьбу тега "table" в HTML: ни то, ни другое вообще не задумывалось как средство создания колонок и вообще раскладки элементов. Однако из-за определенных несовершенств <a href=http://softwaremaniacs.org/blog/2005/08/03/css-layout-positioning/ rel=nofollow>механизма позиционирования</a> float используется для этой цели очень широко. А то, что придумывался он для другого, частенько проявляется разными неочевидными эффектами. Однако перед тем, как их показать, я все же расскажу, как float'ы <em>можно</em> применять для раскладки.</p>

<p>В самом начале — небольшое замечание о терминах. В русском языке не сложилось никакого известного термина для этого инструмента (пока, по крайней мере). Поэтому я предпочитаю писать его в исходном написании — "float". Читается это примерно как "флоут" (ломать скулы произношением "флоАт" не нужно). Заодно тут же прошу простить мне такие вольности как "заfloat'ить", "приfloat'нутый" и т.п. :-)</p>

<h2>Принцип работы</h2>

<p>Как и позиционирование, float используется для того, чтобы двигать боксы. Но в отличие от позиционирования, которым можно двигать боксы практически произвольно, все, что может float — это сдвинуть элемент к одной из сторон <a href=http://softwaremaniacs.org/blog/2005/08/27/css-layout-flow/ rel=nofollow>потока</a>, правой или левой.</p>

<p>При этом сам бокс и следующие за ним в потоке приобретают интересное поведение:</p>

<p class=right><img alt="" src="Маниакальный%20веблог%20%BB%20Раскладка%20в%20CSS_%20float_files/float-be.png"></p>

<ol>
<li>Float'нутый бокс смещается по горизонтали и прилипает к одной из сторон родителя.</li>
<li>Float'нутый бокс перестает раздаваться на всю ширину родительского бокса-контейнера (как это происходит с блоками в потоке). С его неприжатой к родителю свободной стороны появляется свободное место.</li>
<li>Следующие за ним <em>блочные</em> боксы подтягиваются вверх и занимают его место, как если бы float'нутого бокса в потоке не было.</li>
<li><em>Строчные</em> же боксы внутри подвинувшихся наверх блоков начинают обтекать float'нутый бокс со свободной стороны.</li>
</ol>

<p>Хочу еще раз подчеркнуть неочевидную сразу вещь: сама коробка блока, следующего за float'ом, подлезает под него и занимают всю ширину потока, а вот текст внутри этого блока смещается в сторону и обтекает float.</p>

<p>Дальше интересно, как себя ведут float'нутые в одну сторону боксы, которые идут один за другим. В этом случае следующий бокс будет пытаться уместиться сбоку от предыдущего, с его свободной стороны. И только если ему там не будет достаточно места, тогда он сместится ниже и будет пытаться уместиться уже там.</p>

<p class=note><small>Есть еще один маленький технический аспект, не обязательный для понимания всей "механики". Заfloat'ить можно как блочные боксы, так и строчные. При этом строчные тут же автоматически становятся блочными. То есть, писать <code>display:block;</code> для float'а излишне.</small></p>

<p>Из двух описанных особенностей float'ов — прижимание к краю и стыкование сбоку друг друга — вытекают два основных применения их в раскладке:</p>

<ul>
<li>разделение страницы на колонки</li>
<li>горизонтально расположенные меню</li>
</ul>

<h2>Колонки</h2>

<p>Колонки — это когда блоки текста расположены рядом друг с другом и имеют одинаковую высоту.</p>

<p>Все колоночные раскладки я буду рассматривать на вот таком простейшем HTML'ном коде с двумя блоками:</p>

<pre><code>&lt;body&gt;
  &lt;div id="sidebar"&gt;
    ...
  &lt;/div&gt;
  &lt;div id="content"&gt;
    ...
  &lt;/div&gt;
&lt;/body&gt;
</code></pre>

<p>Сразу стоит сказать, что делать колонки в растягивающемся по ширине контейнере сложнее, чем с заданной шириной. Тут есть два принципиально разных подхода, подходящих для разных случаев.</p>

<h3>Пропорциональная ширина</h3>

<p class=right><img src="Маниакальный%20веблог%20%BB%20Раскладка%20в%20CSS_%20float_files/float-pr.png"></p>

<p>Если нужно, чтобы ширина колонок менялась пропорционально, при изменении ширины страницы, то подход такой:</p>

<pre><code>#content {
  float:right; width:70%;
}

#sidebar {
  float:left; width:30%;
}
</code></pre>

<p>То есть два блока float'ятся рядом в разные стороны, а их ширина делится в нужном процентном соотношении. Этот способ позволяет легко поменять колонки местами — просто поменяв значения <code>right</code> и <code>left</code>.</p>

<h3 id=one-fixed>Растягивание только одной колонки</h3>

<p>Если нужно, чтобы менялась только ширина основной колонки, то предыдущий способ не подходит. Дело в том, что в CSS, к сожалению, нельзя <em>напрямую</em> сформулировать такую вещь как "вся доступная ширина минус конкретное число".</p>

<p>Теперь обратимся к одной из предыдущих статей <a href=http://softwaremaniacs.org/blog/2005/08/27/css-layout-flow/ rel=nofollow>про блоки в потоке</a>, где я упомянул об одной их <a href=http://softwaremaniacs.org/blog/2005/08/27/css-layout-flow/#block-adaptive-width rel=nofollow>полезной особенности</a> автоматически укладываться по ширине в размер родительского бокса. То есть, если блоку в прямом потоке задать, скажем, левый margin, то его ширина соответственно ужмется. А это именно то поведение, которого мы хотели добиться от одной из колонок.</p>

<p class=right><img src="Маниакальный%20веблог%20%BB%20Раскладка%20в%20CSS_%20float_files/float-ov.png"></p>

<p>Итак, для нужного нам эффекта мы дадим основному блоку левый margin, чтобы он ужался направо, а боковую панель заfloat'им на это место:</p>

<pre><code>#sidebar {
  float:left; width:200px;
}

#content {
  margin-left:200px;
}
</code></pre>

<p>Но у второго способа есть один очень серьезный недостаток. Обратите внимание, что в исходном HTML блок "sidebar" идет <em>до</em> блока "content" с основным содержимым. Не нужно думать, что так сделано случайно :-). Так сделано специально, потому что иначе этот самый второй способ с наложением колонки поверх margin'а не работал бы.</p>

<p class=right><img alt="" src="Маниакальный%20веблог%20%BB%20Раскладка%20в%20CSS_%20float_files/float-wr.png"></p>

<p>Как я написал в начале статьи, float'ы сдвигаются только в сторону и дают место следующим блоками, которые съезжают наверх. Поэтому принципиально, чтобы "sidebar" был уже наверху, и тогда основной блок подъедет к нему. Если "sidebar" идет после основного блока, то он так и останется ниже, и ни на какие колонки это похоже не будет.</p>

<p>Это действительно плохо, потому что перечеркивает одну из основных идей CSS: отделение оформления от содержания. Получается, что мы захотели изменить только дизайн, а если блоки расположены "не так", то придется лезть еще и в HTML-шаблоны. Кроме того, с точки зрения структуры могут быть свои веские основания располагать блоки так, а не иначе. Например чтобы пользователь мог начать читать основной текст страницы, не дожидаясь загрузки навигации.</p>

<h3>Фиксированная ширина</h3>

<p>Все резко упрощается, когда колонки помещаются в фиксированную ширину контейнера. В этом случае лучше всего использовать первый способ (float'ить все колонки),  и ширину уже можно задавать не только в процентах, но и в чем хотите, поскольку ее можно точно вычислить.</p>

<h3>Высота колонок</h3>

<p>Опять-таки, я далеко не случайно "отрезал" на картинках нижнюю часть блоков :-). Иначе бы они как колонки совсем не выглядели, потому что, как нетрудно убедиться, если применить те фрагменты CSS, что я привел, и раскрасить колонки разными цветами, то их высота оказывается разной. Она зависит от количества содержимого в этих блоках.</p>

<p>Этот некрасивый эффект можно обойти несколькими способами.</p>

<p>Первый способ называется "Ложные колонки" ("Faux columns"), опубликован в авторитетном веб-журнале <a href=http://alistapart.com/ rel=nofollow>A List Apart</a> в сентябре 2004 года и с тех пор пользуется большой популярностью. Всем рекомендую прочитать либо <a href=http://alistapart.com/articles/fauxcolumns rel=nofollow>оригинал</a>, либо <a href=http://www.goodline.spb.ru/information.html rel=nofollow>русский перевод</a>. Однако если вы сегодня не в настроении кликать, то вот кратко его суть.</p>

<p>Вместо того, чтобы назначать фон самим колонкам, они оставляются прозрачными, а вот их контейнеру назначается фоновая картинка шириной во весь контейнер и повторяющаяся по вертикали. Части этой картинки, находящиеся под разными колонками, красятся в разные цвета и при повторении вниз это дает нужный визуальный эффект.</p>

<p class=center><img alt="" src="Маниакальный%20веблог%20%BB%20Раскладка%20в%20CSS_%20float_files/float-fa.png"></p>

<p>Что в ложных колонках замечательно — так это то, что вы можете не ограничивать себя на фоновой картинке ровными цветами. На ней, например можно нарисовать эффект тени между колонками, повторяющиеся горизонтальные полоски в виде фона, орнамент по краям.</p>

<p>Недостаток же способа состоит в том, что поскольку у фоновой картинки есть только один размер, ее нельзя применять для пропорционально растягивающихся колонок, так как картинка тянуться не будет <ins>(тут я ошибся; все вполне применимо, читайте <a href= rel=nofollow>комментарий</a>)</ins>. А вот для случая, когда одна из колонок фиксирована по ширине, фон приспособить можно (этот случай, кстати, в "Faux columns" не рассмотрен).</p>

<p>Суть состоит в том, чтобы поместить фоновую картинку только под ту колонку, ширина которой известна. Остальное место будет занято фоновым <em>цветом</em> контейнера, а не картинкой.</p>

<p>Возьмем наш пример и сделаем колонку "sidebar" справа шириной 200 пикселов, а "content" пусть растягивается. Для "sidebar" подготовим картинку размерами 200х1 например ровного синего оттенка. А под "content" отведем желтоватый.</p>

<p class=center><img alt="" src="Маниакальный%20веблог%20%BB%20Раскладка%20в%20CSS_%20float_files/float-fb.png"></p>

<p>В стилях это выглядит так:</p>

<pre><code>#sidebar {
  float:right; width:200px;
}

#content {
  margin-right:200px;
}

body {
  background:url(bg.png) #FFD right top repeat-y;
}
</code></pre>

<p>Единственное правило для контейнера (body) задает все поведение фона:</p>

<ul>
<li>указывается URL картинки (bg.png)</li>
<li>цвет фона в тех местах, где ее не будет (#FFD)</li>
<li>положение картинки прижатой к правому краю (right top)</li>
<li>повторение картинки вниз (repeat-y)</li>
</ul>

<p>В реальном примере в CSS еще была пара правил для цвета букв и борьбы с границами, которые сейчас не существенны.</p>

<p><a name=long-columns rel=nofollow></a></p><a name=long-columns rel=nofollow>

</a><p><a name=long-columns rel=nofollow>Другой способ уравнивания колонок по высоте был </a><a href=http://www.positioniseverything.net/articles/onetruelayout/equalheight rel=nofollow>описан недавно</a> и уже сильно известен, поскольку удобен.</p>

<p class=right><img alt="" src="Маниакальный%20веблог%20%BB%20Раскладка%20в%20CSS_%20float_files/float-lo.png"></p>

<p>Идея его состоит в том, чтобы неравенство высот колонок спрятать, неимоверно удлинив их вниз, чтобы их концы были за пределами реального содержимого страницы. Добиваются этого тем, что сначала ставят колонкам очень большой отступ (padding) вниз, который закрашивается цветом фона. А чтобы все остальное содержимое тоже не сдвигалось туда далеко, колонкам назначается <em>отрицательная</em> граница (margin) такого же размера:</p>

<pre><code>#content,
#sidebar {
  padding-bottom:32767px;
  margin-bottom:-32767px;
}
</code></pre>

<p class=note><small>Странное число обусловлено тем, что это максимум, который может позволить браузер Safari. На самом деле оно не настолько странное. Кому интересно, это максимальное знаковое целое число, если представлять его 16 битами.</small></p>

<p>В итоге все, что идет за колонками смещается и находится прямо под содержимым самой длинной из них, а колонки удлиняются вниз. Некрасиво одно — из-за длинных колонок сама страница становится такой же длинной. Чтобы с этим бороться, надо их контейнеру проставить свойство <code>overflow:hidden</code>, которое заставляет контейнер просто отрезать и не показывать то, что выходит за его пределы.</p>

<p>У моего примера, который я взял в самом начале, есть, правда, одна загвоздка. Там колонки лежат прямо в <code>body</code>. А если <code>body</code> проставить <code>overflow:hidden</code>, то браузеры отменяют скроллинг у страницы начисто. Даже если реальное содержимое выше окна. Поэтому колонки надо завернуть в еще один элемент, например <code>div</code>. Но справедливости ради надо сказать, что на практике колонки и так бывают во что-нибудь уже завернуты.</p>

<h3>Засада</h3>

<p>Куда ж без нее :-). Как я не особенно прозрачно намекнул в самом начале, поскольку float'ы не придумывались как средство создания колонок, это обязательно вылезет чем-нибудь уродливым и аукнется увеличением расхода анальгина (некоторые предпочитают темпалгин или парацетамол).</p>

<p>Причем "вылезет" — в прямом смысле.  Давайте немного подвинем наш "голый" пример в сторону реальности, добавив над колонками шапку и внизу какой-нибудь тоже блок с текстом.</p>

<pre><code>&lt;body&gt;
  &lt;div id="header"&gt;...&lt;/div&gt;

  &lt;div id="main"&gt;
    &lt;div id="content"&gt;
    ...
    &lt;/div&gt;

    &lt;div id="sidebar"&gt;
    ...
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;div id="footer"&gt;...&lt;/div&gt;
&lt;/body&gt;
</code></pre>

<p class=center><img alt="" src="Маниакальный%20веблог%20%BB%20Раскладка%20в%20CSS_%20float_files/float-ni.png"></p>

<p>Для простоты выберем нехитрый колоночный дизайн с фиксированной шириной. Шапку и нижний блок сделаем синими с белыми буквами, основное содержимое белым, а дополнительную колонку тоже синей, но чуть светлее. Цвета колонкам зададим способом "Faux columns".</p>

<pre><code>/* Раскладка в колонки */

body {
  width:600px;
  margin:0 auto;
}

#content {
  float:left; width:450px;
}

#sidebar {
  float:right; width:150px;
}

/* Цвета */

#main {
  background:url(bg.png) right top repeat-y;
}

#header,
#footer {
  background:#238; color:white;
}
</code></pre>

<p>Всякие отступы и шрифты я снова опустил для простоты восприятия. Добавим тестового текста и запускаем:</p>

<p class=center><img alt="Колонки имеют темно-синий фон, как у заголовка и нижнего блока, причем фон обрывается, не дойдя до низа колонок, текст нижнего блока начинается под sidebar'ом." src="Маниакальный%20веблог%20%BB%20Раскладка%20в%20CSS_%20float_files/float-me.png"></p>

<p>Хм... Ну, колонки, в общем, даже можно разглядеть! Не придерешься! Однако как ни крути, но выглядит все не так, как задумано, а даже можно сказать, все превратилось в некую кашу из цветов и букв.</p>

<p>Чтобы понять, почему так происходит, надо вспомнить описание того, как работает float. А именно, что блоки, идущие за float'ами перестают эти float'ы замечать и подтягиваются вверх. Более того, сам контейнер, в котором float'ы находятся, тоже перестает их замечать и float'нутые блоки проваливаются через низ контейнера, если он заканичвается раньше.</p>

<p>Теперь посмотрим на наш код. Оба float'нутых блока "content" и "sidebar" находятся внутри блока "main". И больше ничего в "main" нет. А раз ему нечего больше содержать, то его высота схлопывается в нуль! Поэтому и не видно на картинке ни белого фона "content", ни светло-синего фона "sidebar", потому что эти цвета назначены в виде фона "main".</p>

<p>Дальше — "footer". Он, подчиняясь все тому же правилу, тоже не видит float'нутых блоков и подтягивается наверх прямо к самому заголовку (поскольку "main" — нулевой высоты). Но в "footer" есть текст. Текст этот уже должен обтекать float'ы: справа "content" и слева "sidebar". Между колонками места не осталось, поэтому текст может начаться только под одной из колонок, которая первая кончится. Там он и есть. Таким образом, "footer", подтянувшись под заголовок, продолжается вниз, пока не закончится весь его текст. И весь этот синий фон, что ниже заголовка — это "footer" и есть.</p>

<h4>Зачем такая сложность</h4>

<p>Описанное поведение должно внушать недоуменние. Зачем надо было придумывать такие сложности: разделить понятие блока так, чтобы цвета и рамки наверх, а текст — на месте? Но смысл, конечно, есть. Это, наряду со <a href=http://softwaremaniacs.org/blog/2005/09/05/css-layout-flow-margins/#collapsing-margins rel=nofollow>схлопыванием границ</a>, попытка заставить боксовую модель CSS нормально вести себя в условиях простого потока текста. 
Подробное классическое объяснение этому феномену есть все у того же Эрика Мейера в статье "<a href=http://www.complexspiral.com/publications/containing-floats/ rel=nofollow>Containing Floats</a>" (на английском). Постараюсь кратко передать суть.</p>

<p>Представьте себе обычный поток абзацев — блоков с текстом — без всякого позиционирования. В одном из абзацев встречается картинка, которую хочется сдвинуть, скажем, влево, чтобы текст ее обтекал. Такое раньше в HTML достигалось свойством <code>align="left"</code>, но в духе вынесения оформления из HTML в стили, <em>для этой функции как раз и придумали свойство float</em>. То есть вместо align этой картинке приписывается <code>float:left</code>.</p>

<p>Пусть сдвигаемая картинка занимает по высоте больше, чем текст абзаца. Если она будет растягивать свой абзац и отодвигать начало следующего ниже, то это будет выглядеть некрасиво из-за увеличенного расстояния между строками соседних абзацев. Поэтому она и проваливается через все границы блоков, сохраняя между ними красивые отступы, а текст ее обтекает.</p>

<p class=center><img alt="" src="Маниакальный%20веблог%20%BB%20Раскладка%20в%20CSS_%20float_files/float-im.png"></p>

<h4>Решения</h4>

<p>Итак, поведение с проваливанием понятно, но оно удобно для непозиционированного текста, а для раскладки — совсем неудобно. Существует два подхода устранящих оба проявления этого свойства: подтягивание следующих боксов наверх и проваливание через низ контейнера.</p>

<p class=right><img alt="" src="Маниакальный%20веблог%20%BB%20Раскладка%20в%20CSS_%20float_files/float-cl.png"></p>

<p>Для устранения подтягивания блоков существует специальное свойство — <code>clear</code>. Оно заставляет элемент сдвигаться вниз, пока сбоку от него не останется float'ов. Причем можно управлять, с какого именно бока не должно быть float'ов:</p>

<dl>
  <dt><code>clear:left</code></dt>
  <dd>следит, чтобы float'ов не было слева</dd>
  <dt><code>clear:right</code></dt>
  <dd>следит, чтобы float'ов не было справа</dd>
  <dt><code>clear:both</code></dt>
  <dd>следит, чтобы float'ов не было с обеих сторон</dd>
</dl>

<p>Таким образом, если мы скажем нашему "footer"у:</p>

<pre><code>#footer {
  clear:both;
}
</code></pre>

<p>... чтобы слева и справа от него не было float'нутых колонок, то он сдвинется вниз как раз туда, где они обе кончаются.</p>

<p>Но это не решает другой проблемы: того, что float'ы проваливаются через "main", и тот схлопывается, в результате чего не видно колоночного фона, который ему назначен. Проваливание можно победить двумя способами.</p>

<p>Можно явно спозиционировать контейнер каким-нибудь образом. Насколько я понимаю логику спецификации, поведение проваливания считается логичным только в простом потоке. В других случаях оно только мешает. И так оно и есть, как мы убедились.
  То есть достаточно назначить контейнеру например <code>position:absolute</code> или <code>float:left</code> и ничего не будет проваливается, контейнер будет полностью заключать в себя и текст, и float'ы. В нашем случае (и в большинстве случаев, кстати) это решение вполне подойдет.</p>

<p>Другой интересный способ связан с побочным эффектом свойства <code>overflow</code>. Само по себе оно предназначено для того, чтобы определять, как будет вести себя контейнер при переполнении, когда не может вместить свое содержимое. У  него есть четыре значения:</p>

<dl>
  <dt><code>visible</code></dt>
  <dd>содержимое переходит через край и его нормально видно (это поведение по умолчанию)</dd>
  <dt><code>hidden</code></dt>
  <dd>содержимое отсекается за границами контейнера и его там никак не видно</dd>
  <dt><code>auto</code></dt>
  <dd>если содержимое переполняет контейнер, у него появляется скроллбар, позволяющий проматывать содержимое, если нет — не появляется</dd>
  <dt><code>scroll</code></dt>
  <dd>похоже на <code>auto</code>, только скроллбар у контейнера есть всегда, даже когда содержимое его не переполняет</dd>
</dl>

<p>Так вот побочный эффект заключается в том, что если контейнеру поставить любой overflow, кроме обычного <code>visible</code>, он вдруг растягивается и заключает в себя float'ы, которые в нем сидят, устраняя проваливание.</p>

<p>Какой же <code>overflow</code> использовать? Сразу отпадает <code>scroll</code> — всегда висящие скроллбары явно не нужны. Остаются <code>auto</code> и <code>hidden</code>, которые отличаются только тем, появляется скроллбар при переполнении или нет. Но у нас никакого переполнения нет, наоборот, этим свойством мы заставили контейнер дополнительно растянуться, чтобы он охватывал все свои элементы. Поэтому использовать можно любое значение.</p>

<p class=note><small>Я суеверно стараюсь использовать <code>hidden</code>, чтобы не появлялось скроллбаров, если из-за каких-то глюков переполнение вдруг возникнет.</small></p>

<p class=center><img alt="" src="Маниакальный%20веблог%20%BB%20Раскладка%20в%20CSS_%20float_files/float-co.png"></p>

<p>У решения с <code>overflow</code> есть одна загвоздка, связанная с поведением Некоторого Браузера™. Оно работает только если контейнеру явно назначены ширина или высота. Из-за этого им иногда неудобно пользоваться, когда вам нужны автоматические размеры, а не жесткие.</p>

<p>Итак, в итоге, чтобы исправить наш пример с колонками, надо сделать так:</p>

<pre><code>#main {
  width:100%; overflow:hidden;
}
</code></pre>

<p class=note><small>Кстати! Если бы для рисования фона под колонками я использовал не faux columns, а способ с длинным padding'ом, то он бы <em>потребовал</em> использовать <code>overflow:hidden</code> для "main", что заодно решает и проблему с проваливанием. Но как бы тогда я про это рассказывал?</small></p>

<p class="left picture frame"><img alt="" src="Маниакальный%20веблог%20%BB%20Раскладка%20в%20CSS_%20float_files/cup-of-t.jpg"></p>

<p>Все на этом с колонками... Время сходить налить себе вкусного чаю (многие предпочитают кофе) и, прибавив к этому какую-нибудь вкусную булочку, сделать паузу для укладывания в голове всего этого месива. Дальше нас ждет маленькая добавка — про меню.</p>

<p><a name=hmenu rel=nofollow></a></p>

<h2>Меню</h2>

<p>Напомню, что если несколько идущих подряд блоков заfloat'ить в одну сторону, то каждый следующий будет пытаться разложиться со свободной стороны от предыдущего. Этот эффект широко используется для того, чтобы превращать списки разделов сайта в горизонтально расположенные меню.</p>

<p>Возьмем такой список:</p>

<pre><code>&lt;ul&gt;
  &lt;li&gt;&lt;a href="/"&gt;Начало&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="catalog/"&gt;Каталог&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="basket/"&gt;Корзина&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="help/"&gt;Справка&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</code></pre>

<p>Чтобы это было похоже на меню, надо заfloat'ить все <code>li</code> влево, убрать у них атрибутику списка (отступы и буллиты) и еще добавить для красоты отступы, фон и рамку:</p>

<pre><code>/* раскладка */

ul,
li {
  float:left;
  list-style:none;
  margin:0; padding:0;
}

/* вид */

li {
  padding:2px 10px;
  font:Bold Small Tahoma;
  background:#35C; color:white;
  border:solid 1px; border-color:#46F #238 #238 #46F;
}

a {
  color:white; text-decoration:none;
}
</code></pre>

<p class=center><img alt="" src="Маниакальный%20веблог%20%BB%20Раскладка%20в%20CSS_%20float_files/float-mf.png"></p>

<p>Обратите внимание, что для раскладки все свойства назначаются и для элементов <code>ul</code>, и для <code>li</code>. Это удобно свести в одно правило, потому что:</p>

<ul>
<li><code>float:left</code> нужен элементам списка, чтобы они разложились горизонтально, а самому списку — чтобы элементы через него не проваливались;</li>
<li>нулевые <code>margin</code> и <code>padding</code> устраняют отступы, которые браузеры делают для списков по умолчанию, но они это делают очень по-разному, поэтому проще сказать "всем всё по нулям", чем помнить что отдельно для какого элемента проставлять.</li>
</ul>

<h2>Мораль</h2>

<p>Механизм float — еще одно средство раскладки наряду с абсолютным позиционированием.</p>

<p>Он отличаются в лучшую сторону, позволяя оставить элемент в потоке, что очень удобно для колоночной раскладки.</p>

<p>Однако его минусами является меньшая гибкость из-за того, что элементы нельзя двигать произвольно, и потому что возможность его применять может зависеть от порядка элементов в HTML-разметке.</p>

<hr>

<p class=note><small>Эта статья - часть находящегося в процессе написания цикла под рабочим названием "Учебник". Я рекомендую ознакомиться и с другими статьями, которые можно найти в категории "<a href=http://softwaremaniacs.org/blog/category/web/primer/ rel=nofollow>Учебник</a>", где они сейчас собраны в обратном хронологическом порядке.</small></p>


</div>
<address id="author" class="meta hidden"><a href="http://softwaremaniacs.org/about/">Иван Сагалаев</a></address>



<div id="comments">
  <h2 id="commentsheader">
    Комментарии: 86
    (особо ценных: 1)
    <small><a href="http://softwaremaniacs.org/blog/2005/12/01/css-layout-float/feed/" class="feed"><img src="Маниакальный%20веблог%20%BB%20Раскладка%20в%20CSS_%20float_files/feed0000.png" alt="(feed)"></a></small>
  </h2>

  <ol id="commentslist">
    
    <li id="comment-1097" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Александр Шугард
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Спасибо! Ох, сейчас, почитаю!!! =)) <br>
Ещё не прочитал, но пролистав страницу заметил краем глаза, что вы описываете меню ... А вы в курсе что существует такой тэг как MENU =)) который технически равняется OL ... только семантически более уместен =) <br>
Я просто сам обнаружил наличие подобного тэга только недавно. Уже успел его применить. Вроде как осложнений не вызывает. <br>
Может я чего-то про него не знаю - что объясняет столь редкое его использование ... ?</p>

        
      </div>
    </li>
    
    <li id="comment-1098" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Иван Сагалаев
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>В курсе. Однако технически он не "равняется" OL. Хотя бы потому что у OL есть цифры. Если уж он и на что похож технически, то на UL.</p>

<p>А вот семантически MENU - устаревший (deprecated) элемент, поэтому он как раз не более уместен, а совсем неуместен :-). Так что сейчас единственный хорошо подходящий элемент для навигационных меню - это UL.</p>

<p>P.S. Кстати, в разрабатываемом <a href=http://whatwg.org/specs/web-apps/current-work/ rel=nofollow>HTML5</a> элемент MENU <a href=http://whatwg.org/specs/web-apps/current-work/#the-menu rel=nofollow>пересматривают</a>. Возможно он будет реализован в виде нативного для платформы меню.</p>

        
      </div>
    </li>
    
    <li id="comment-1099" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Иван Сагалаев
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Да... Хочу подчеркнуть, что это не вопрос вкуса или личных предпочтений:</p>

<p><a href=http://www.w3.org/TR/html401/struct/lists.html#edef-MENU rel=nofollow>http://www.w3.org/TR/html401/struct/lists.html#edef-MENU</a></p>

<p>Последняя строчка там все точно объясняет.</p>

        
      </div>
    </li>
    
    <li id="comment-1100" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Kildor
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Минус</p>

<pre><code>#content,
#sidebar {
  padding-bottom:32767px;
  margin-bottom:-32767px;
}
</code></pre>

<p>способа (уж незнаю как его назвать правильнее) в том, что нельзя повесить фоновый рисунок с background-position:bottom; если такой рисунок один, то его можно поместить фоном общего контейнера… но что делать, если он не один? <br>
PS: background-position: url('img1.png'), url('img2.png'), url('img3.png') <br>
Мечты, мечты…</p>

        
      </div>
    </li>
    
    <li id="comment-1101" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          StraNNicK
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Спасибо, отличная статья. <br>
Многое разъяснилось.</p>

        
      </div>
    </li>
    
    <li id="comment-1106" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          slaff
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Очень. Очень содержательно и читабельно!</p>

<p>Спасибо!</p>

        
      </div>
    </li>
    
    <li id="comment-1111" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Александр Шугард
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Рету: <br>
Спасибо. =) Был уверен, что что-то в этом роде и имеет место. Буду знать =)</p>

        
      </div>
    </li>
    
    <li id="comment-1112" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Иван Сагалаев
          
        
        
        </address>
        <p class="noteworthy_text">Особо ценный комментарий
        
      </div>

      <div class="usertext">
        
        <p>Только что вспомнил, что меня терзало, когда я писал, что faux columns неприменимы к нефиксированным колонкам с процентной шириной. Теперь я помню, что есть таки способ, и совершенно нормальный.</p>

<p>Итак, у нас есть колонки переменной ширины, левая 70% и правая 30%. Требуется положить под них фоновую двухцветную картинку так, чтобы левые 70% всегда закрывались одним цветом, а правые 30% - другим.</p>

<p>Оказывается, достаточно сделать эту картинку <em>очень длинной</em>. Пусть будет 3000 пикселов. Делим ее на то же самое отношение: 2100 пикселов одним цветом, 900 - другим. А теперь:</p>

<pre><code>div {
  background:url(bg.png) 70% 0 repeat-y;
}
</code></pre>

<p>Вот эти 70% - это позиция фоновой картинки по горизонтали. Но работает она просто гениально: берется точка в 70% слева <em>на картинке</em> и совмещается с точкой в 70% слева <em>ширины блока</em>.</p>

<p>А у нас как раз на картинке по 70% идет граница цветов, а по 70% блока - граница колонок. Вот так и получается, что эти границы всегда совпадают. А лишняя ширина картинки просто вылезает с обеих сторон за пределы блока, ее там не видно.</p>

<p>P.S. Кстати, если подумать чуть дальше, то становится понятно, что позиционирование фона только так и может работать: <br>
- если поставить 0, то нулевая точка картинки совмещается с нулевой точкой блока - левое выравнивание <br>
- если поставить 50%, то середина картинки совмещается с серединой блока <br>
- если поставить 100%, то самая правая точка картинки (это и есть 100% от левого края) совмещается тоже с правой точкой блока</p>

        
      </div>
    </li>
    
    <li id="comment-1137" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Кирилл
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Супер. Вы не хотите издаться в виде книжки?м Я Вас умоляю, продолжайте "учебник", а?</p>

        
      </div>
    </li>
    
    <li id="comment-1139" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Иван Сагалаев
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Спасибо!</p>

<p>Обязательно продолжу, затягивание этой статьи мне тоже не понравилось. И действительно думаю превратить это потом в книжку. Но сначала надо дописать, а там еще много...</p>

        
      </div>
    </li>
    
    <li id="comment-1142" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Kaspian
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Спасибо, очень хорошие уроки - доступным языком :) <br>
А не моглибы Вы в одном из следующих уроков пояснить разницу между id и class, хотелось бы ещё узнать как "правильно" составлять стили.</p>

        
      </div>
    </li>
    
    <li id="comment-1158" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          uncle.f
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Хочу добавить несколько линков по поводу обхода глючной поддержки float в Internet Explorer.</p>

<p><a href=http://positioniseverything.net/explorer/peekaboo.html rel=nofollow>http://positioniseverything.net/explorer/peekaboo.html</a> <br>
<a href=http://positioniseverything.net/explorer/doubled-margin.html rel=nofollow>http://positioniseverything.net/explorer/doubled-margin.html</a> <br>
<a href=http://positioniseverything.net/explorer/escape-floats.html rel=nofollow>http://positioniseverything.net/explorer/escape-floats.html</a> <br>
<a href=http://positioniseverything.net/explorer/guillotine.html rel=nofollow>http://positioniseverything.net/explorer/guillotine.html</a></p>

        
      </div>
    </li>
    
    <li id="comment-1164" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          uncle.f
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Kaspian,</p>

<p>Грубо говоря, на отдельно взятой HTML странице должен быть только ОДИН элемент с определенным id, в то время как тот же самый class может быть применен к множеству элементов.  Или, другими словами, id уникально идентифицирует конкретный элемент, чтобы можно было потом обратиться к свойствам этого элемента (например через JavaScript) используя его id, а class - это удобный способ применить один и тот же стиль ко многим (не обязательно одинаковым) элементам.</p>

        
      </div>
    </li>
    
    <li id="comment-1165" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Kaspian
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>uncle.f, спасибо за разъяснение :)</p>

        
      </div>
    </li>
    
    <li id="comment-1168" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Nik33
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Вау, отлично, просто нет слов, нашел для себя несколько интересных моментов! <br>
вопрос - сколько уровней вложенности допускается в блоках (div'ах обычно). <br>
Сейчас "закапываюсь" в 5-6 уровней вложенности, а дальше - 10 допускается, а 20?</p>

        
      </div>
    </li>
    
    <li id="comment-1169" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Иван Сагалаев
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Синтаксически можно, конечно, сколько угодно div'ов. На практике же для раскладки редко когда действительно нужно больше 3 уровней вложенности. И, кстати, это не обязательно дожны быть div'ы.</p>

<p>Большое количество div'ов - это обычно следствие традиционного HTML'ного подхода к верстке, просто с заменой table -&gt; div. Это исключительно неверно, и буквально через пару статей я напишу об этом подробно.</p>

        
      </div>
    </li>
    
    <li id="comment-1195" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Кадрен
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>С удовольствием читаю ваши статьи.  Вы один из немногих, кто пишет доходчивым языком о ЦСС.  У меня маленький бизнес.  Интернет я использую как дополнительную рекламу.  С сайтом приходится работать самой. Спасибо, без таких энтузиастов как вы, Иван, в интернете было бы нечего делать.  Но, почему вы не делаете версию для печати. <br>
С уважением , Кадрен.</p>

        
      </div>
    </li>
    
    <li id="comment-1321" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          DenD
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Недавно возникла проблема, <em>самизнаетекакой браузер</em> наотрез отказался воспринимать <code>overflow: hidden;</code> по прямому назначению. <br>
Параллельно случайно решил перечитать эту статью учебника и, как оказалось, не зря:</p>

<blockquote>
  <p>У решения с overflow есть одна загвоздка, связанная с поведением Некоторого Браузера™. Оно работает только если контейнеру явно назначены ширина или высота. Из-за этого им иногда неудобно пользоваться, когда вам нужны автоматические размеры, а не жесткие.</p>
</blockquote>

<p>И действительно, помогло. Но загвоздка в том, что у этого блока ширина не определена, т.е. по сути она считается как 100% - 2px (однопиксельный бордер). <br>
Увы, так в css сказать нельзя. <br>
Как выход вижу только добавление еще одного когтейнера, семантика летит к чертям. Не хочется так. <br>
Возможно есть какой еще рычаг потайной или педали чтобы включить overflow в чудобраузере?</p>

        
      </div>
    </li>
    
    <li id="comment-1324" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Иван Сагалаев
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Перенес обсуждение в <a href="http://softwaremaniacs.org/forum/viewtopic.php?id=39" rel=nofollow>форум</a>.</p>

        
      </div>
    </li>
    
    <li id="comment-1439" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          .grin!
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>по поводу порушенной семантики и необходимости ставидь сайдбар выше контента: <br>
в силу оптимизационных причин необходимо контент (с h1 и текстом) ставить в самом-самом верху. делаем так:</p>

<pre><code>&lt;div class="container"&gt;
  &lt;div class="content"&gt;
        &lt;h1&gt;Заголовок&lt;/h1&gt;
        текст
  &lt;/div&gt;
  &lt;div id="sidebar"&gt;
          &lt;h2&gt;Заголовок&lt;/h2&gt;
          текст
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>

<p>ксс:</p>

<pre><code>.container{float:left;width:100%;}
.content{float:right;width:70%;margin-left:-70%;}
sidebar{float:left;width:30%;margin-left:-30%;}&lt;/p&gt;
</code></pre>

<p>ну далее можно и faux columns или что там по вкусу...</p>

        
      </div>
    </li>
    
    <li id="comment-1442" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Иван Сагалаев
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Посмотрите внимательней, я написал, что проблема с порядком следования колонок возникает только в случае, когда ширина одной из колонок не задана. Из-за этого их невозможно двигать margin'ами.</p>

<p>Кстати, margin'ы в случае двух колонок лишние, тут вполне можно обойтись разными float'ами (left и right). А пример для трех колонок, как раз с margin'ами, можно посмотреть в одной из следующих статей "<a href=http://softwaremaniacs.org/blog/2006/01/17/css-layout-example/ rel=nofollow>Пример верстки CSS</a>"</p>

        
      </div>
    </li>
    
    <li id="comment-1444" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Максим
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>По поводу нескольких фоновых картинок и цветов. <br>
Я не проверял, но кажется, что ничего не мешает сделать так: <br>
<code>&lt;div class="bg1" &gt; &lt;div class="bg2" &gt; &lt;div class="bg3" &gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;</code></p>

<p>И стили типа: <br>
<code>.bg1 { background-image: url(bg1.png); background-position: 0 100% }</code></p>

<p>.bg1 { <br>
background-image: url(bg2.png); <br>
background-position: 100% 20px <br>
}</p>

<p>Громоздко, но, думаю, действейнно.</p>

        
      </div>
    </li>
    
    <li id="comment-1445" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Иван Сагалаев
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Речь шла о нескольких картинок на одном элементе :-).</p>

<p>Вообще, идея дописывания произвольного количества дополнительных элементов в HTML исключительно для дизайна противоречит основному принципу CSS, поэтому тут дело не в громоздкости, а в целесообразности.</p>

<p>Я обязательно напишу в "Учебнике" отдельную статью о том, почему вот это явление под названием "дивная верстка" — кошмар :-).</p>

        
      </div>
    </li>
    
    <li id="comment-1455" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Victor Gr.
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Гм, <br>
можно использовать такой способ:</p>

<p>Получить JavaScript-ом видимую высоту экрана, и назначить её как height всем колонкам, чтобы они были одного размера. А?</p>

        
      </div>
    </li>
    
    <li id="comment-1464" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Николай
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>&lt;p&gt;Некоторый Браузер не даёт скучать.&lt;/p&gt;
&lt;p&gt;1.&lt;br /&gt;
способ&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;</p>

<h1>content,&lt;br /&gt;</h1>

<h1>sidebar {&lt;br /&gt;</h1>

<p>padding-bottom:32767px;&lt;br /&gt;
  margin-bottom:-32767px;&lt;br /&gt;
}
&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;отказывается в нём корректно работать. В случае если содержимого больше в "незаfoloat-нутой" колонке - всё нормально, но вот если наоборот - float-колонка беззастенчиво обрезается.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
Может быть вы проясните ситуацию: в вышеозначенном браузере при попытке сделать две колонки - одну float, а другую с margin, у той что с margin со стороны float-колонки появляется какой-то совершенно глупый padding в 4 пиксела. При применении лекарства (Holly Hack) этот padding пропадает, но появляется не менее глупый margin на этот раз уже шириной в 3 пиксела...&lt;br /&gt;
Устраняется это недоразумение двумя css правилами:&lt;p /&gt;
&lt;ul&gt;
&lt;li&gt;html #float<em>left  {&lt;br /&gt;
margin-right: -3px;&lt;br /&gt;
}&lt;/li&gt;
&lt;li&gt;html #right {&lt;br /&gt;
margin-left: [ширина #float</em>left - 3]&lt;br /&gt;
}&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Как обьясняется это своеобразное поведение IE? И можно ли это обойти как-то более проще, чем я описал выше?&lt;/p&gt;</p>

        
      </div>
    </li>
    
    <li id="comment-1465" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Николай
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <blockquote>
  <p>У решения с overflow есть одна загвоздка, связанная с поведением Некоторого Браузера™. Оно работает только если контейнеру явно назначены ширина или высота. Из-за этого им иногда неудобно пользоваться, когда вам нужны автоматические размеры, а не жесткие.</p>
  
  <p>Итак, в итоге, чтобы исправить наш пример с колонками, надо сделать так:</p>
  
  <p>#main { <br>
  width:100%; overflow:hidden; <br>
  }</p>
</blockquote>

<p>По моим наблюдениям в Некотором Браузере побочный эффект от ovrflow вообще не проявляется. Ему главное - width: 100%; Поэтому если быть точным, то я бы сказал так: <br>
width: 100%; - для IE, <br>
overflow - для всех остальных.</p>

        
      </div>
    </li>
    
    <li id="comment-1466" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          sam
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <ol>
<li>в сафари схлопываетса <br>
padding-bottom:32767px; <br>
margin-bottom:-32767px;</li>
<li>float имеет by default width:100%; <br>
например в</li>
</ol>

        
      </div>
    </li>
    
    <li id="comment-1543" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Sherlock
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Отличный материал, жаль только нет единого архива для работы офф-лайн, поскольку эту информацию очень удачно можно использовать в качестве справочника.</p>

        
      </div>
    </li>
    
    <li id="comment-1841" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Николай
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>А как реализовать способ</p>

<p>padding-bottom:32767px; <br>
margin-bottom:-32767px;</p>

<p>в опере? Опера совсем не солидарна здесь с Мозиллой и ИЕ.</p>

        
      </div>
    </li>
    
    <li id="comment-2024" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          NewBay
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Я раньше не знал такое свойство как "clear:", поэтому подвал <br>
опускал вниз указанием width:ширина по главному контейнеру, <br>
, так он опускался под сайдбар и контент, но <br>
возникала проблема того что основной контейнер <br>
проваливался под все блоки раскладки. "Натянуть" его до низа <br>
было возможно применяя специальный класс /* Clearfix */ - <br>
это известный хак, который частоприменим. Как я понимаю, <br>
смысл его - поставить символ после следования всех блоков <br>
внутри главного контейнера, тогда контейнер будет вынужден <br>
растянуться до этого символа и вберет в себя все внутренние <br>
блоки.</p>

<p>Вопрос: Знаете ли вы о таком хаке? Если да, то я не совсем <br>
понимаю расклад - ваш clear гораздо проще и чище чем этот <br>
хак. Значит либо люди не в курсе про clear, либо я не совсем <br>
понимаю значение данного хака и применял его однобоко - без <br>
понимания вопроса.</p>

<p>Прокомментируете?</p>

        
      </div>
    </li>
    
    <li id="comment-2025" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Иван Сагалаев
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>По поводу чистоты. Когда я описываю в этих статьях какие-то подходы, я не ставлю целью сделать максимально практичное легкоиспользуемое решение. Напротив, я стараюсь освободить его от частностей, чтобы лучше была понятна суть. Чтобы человек мог понять, и применять в нужных ему частных случаев сам. Вот поэтому оно и "чище".</p>

<p>По поводу дополнительного символа в <a href=http://positioniseverything.net/easyclearing.html rel=nofollow>clearfix</a>. Если подвалу назначить clear, то он опустится вниз под float'ы, но не потянет за сабой фон контейнера, потому что сам в нем не находится. Clearfix использует тот факт, что :after находится как раз внутри контйнера, и поэтому тянет его за собой, когда опускается вниз. А символ этот, насколько я понимаю, нужен, чтобы элемент :after вообще сгенерировался, иначе его просто не будет.</p>

<p>Я не упомянул его вообще в статье, потому что :after не работает в IE6. А значит в нем раскладка скорее всего будет сильно покорежена, и это не мелкое неудобство, на которое можно закрыть глаза. Вместо него я как раз рекомендую более практичное решение с overflow, которое в IE работает и тоже не требует дополнительных элементов в HTML.</p>

        
      </div>
    </li>
    
    <li id="comment-2415" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Алексей
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Если</p>

<pre><code>&lt;div class="container"&gt;
  &lt;div class="main"&gt;
    &lt;h1&gt;Заголовок&lt;/h1&gt;
    текст
  &lt;/div&gt;
  &lt;div id="sidebar"&gt;
    &lt;h2&gt;Заголовок&lt;/h2&gt;
    текст
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>

<p>нужно разложить в 2 колонки, скажем sidebar = 200px, а остальное для main, и не хочется sidebar писать до main, то у меня это получилось с помощью след. css</p>

<pre><code>sidebar {float:right; width:200px;margin-left:-200px;}

main {float:left;margin-right:200px;}
</code></pre>

<p>просто все float'ить не получается ибо ширина main не известна. <br>
Проверено в Safari, FireFox и Opera (IE под рукой нет, да и шаблон не доделан пока... может в итоге это и не получится...)</p>

        
      </div>
    </li>
    
    <li id="comment-2803" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          mich
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Алексей, хорошо бы, чтобы main ещё занимал 100% - 200px, а в этом случае этого врядли можно добиться :(</p>

        
      </div>
    </li>
    
    <li id="comment-2992" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Murkt
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <blockquote>
  <p>Итак, для нужного нам эффекта мы дадим основному блоку левый margin, чтобы он ужался направо, а боковую панель заfloat’им на это место:</p>
</blockquote>

<pre><code>#sidebar {
  float:left; width:200px;
}

content {
  margin-left:200px;
}
</code></pre>

<p>Только что был изучен ещё один способ. Можно вместо левого отступа выставить любой overflow (кроме visible, естественно). А вдобавок к отступу - ещё и растянется на всю доступную ширину, совсем хорошо :)</p>

        
      </div>
    </li>
    
    <li id="comment-3597" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          PVasili
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Варианты с подложкой из графики,imho есть кривоватые. <br>
Во первых графику иногда отключают(кпк например),во вторых при отключенной графике(черный фон,белая подложка,черный текст) прочитать совсем ничего не получиться...</p>

        
      </div>
    </li>
    
    <li id="comment-3653" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Вадим Беседин
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Супер! <br>
Актуальная информация понятным и доступным языком. <br>
Огромное спасибо!</p>

        
      </div>
    </li>
    
    <li id="comment-5051" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Yuri
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <blockquote>
  <p>PVasili: Варианты с подложкой из графики,imho есть кривоватые</p>
</blockquote>

<ul>
<li>не подойдут для 3+колоночной вёрстки, в случае если средние колонки по высоте меньше 100%</li>
</ul>

        
      </div>
    </li>
    
    <li id="comment-5456" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          PuzZzo
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Нашел еще один способ заставить растягиваться div до размера float'ов.</p>

<pre><code>#container {
  width: 100%;
  border: 1px solid green;
}
#right {
  float: right;
  background-color: #0099FF;
}
#left {
  float: left;
  background-color: #FF9999;
}
#blank {
  overflow: hidden;
  width: 100%;
  height: 0px;
  clear: both;
}

&lt;div id="container"&gt;
  &lt;div id="left"&gt;left&lt;br /&gt;block&lt;br /&gt;here&lt;/div&gt;
  &lt;div id="right"&gt;right&lt;br /&gt;block&lt;/div&gt;
  &lt;div id="blank"&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre>

<p>Плюс в том, что не надо указывать overflow: hidden, когда делаем выподающие меню и создаем наш pop-up в контейнер</p>

<p>Работает в IE, FF. Не проверял в Опере.</p>

        
      </div>
    </li>
    
    <li id="comment-5479" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          smb
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>а зачем вообще float? <br>
чем не нравится, например: <br>
h1{display:block;height:100px;...}</p>

<p>left,#right{position:absolute;top:100px;overflow:hidden;}</p>

<p>left{left:0;width:20%;}</p>

<p>right{left:20%;width:80%;}</p>

        
      </div>
    </li>
    
    <li id="comment-5493" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Иван Сагалаев
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Потому что эта статья — про float. В "<a href=http://softwaremaniacs.org/blog/category/web/primer/ rel=nofollow>Учебнике</a>" есть и другие статьи, есть и про <a href=http://softwaremaniacs.org/blog/2005/08/03/css-layout-positioning/ rel=nofollow>абсолютное позиционирование</a> и есть его <a href=http://softwaremaniacs.org/blog/2006/11/18/positioned-layout/ rel=nofollow>пример</a>.</p>

        
      </div>
    </li>
    
    <li id="comment-5498" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          smb
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>а зачем использовать float там, где можно без него обойтись? имхо. <br>
это довольно проблемное свойство.</p>

        
      </div>
    </li>
    
    <li id="comment-5587" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Salik
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Я вот долго мучался, не знал как же сделать тянущиеся элементы, потом подсказали ваш блог:) Прочитал, сделал, получилось в FireFox 2, IE7, Opera 9 все так надо но, потом решил тестить поставил в виртуалке ещё одну винду с 6 ИЕ и там увидел старх...во-первых он откуда-то 3 пикселы дорисовал, ну ладно не смертельно хотя очень хотелось бы знать откуда?! Ну и главное там не работает overflow:hidden, почему? сайт sirena.com.ua можете зайти сами на главной єто хорошо видно...</p>

        
      </div>
    </li>
    
    <li id="comment-5588" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Иван Сагалаев
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Довольно трудно понять, какой именно overflow не работает (в принципе-то IE6 его знает). Не могли бы вы обрезать сайт до пример, где была бы видна суть неработы и задать вопрос у меня в форуме: <a href="http://softwaremaniacs.org/forum/viewforum.php?id=4" rel=nofollow>http://softwaremaniacs.org/forum/viewforum.php?id=4</a> (там удобней).</p>

        
      </div>
    </li>
    
    <li id="comment-5590" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          FX Poster
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p><strong>Salik</strong> <br>
У меня все работает нормально в 6-ом ослике...</p>

        
      </div>
    </li>
    
    <li id="comment-6143" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Илья
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Выше давали ссылки про overflow. <br>
Вместо выставления контейнеру <br>
width: 100%; <br>
можно делать <br>
zoom: 1; <br>
Если интересно почему и как, поищите в msdn свойство hasLayout</p>

        
      </div>
    </li>
    
    <li id="comment-10649" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Сергей
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Комментарий относительно колонок, когда одна колонка фиксированной длины, а другая остальная ширина (margin-left: 200px)</p>

<p>Так вот в эксплоере есть баг, из-за которого я зря прожил 2 часа жизни :) <br>
Если одному из контейнеров добавить высоту (например height:200px;) то между ними образуется расстояние этак в пикселов 5 - у меня просто в обоих дивах фон, который должен соединяться.</p>

<p>Так что опасайтесь height если нужно чтобы дивы прилипали друг к другу.</p>

<p>ЗЫ А гуру могут объяснить почему так height влияет???</p>

        
      </div>
    </li>
    
    <li id="comment-14103" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Регина
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>По поводу создания горизонтального меню из списка: по-моему, проще задать <code>&lt;li&gt;</code> display: inline; margin-right: 20px; <br>
В самом списке убрать маркировку, как обычно.</p>

        
      </div>
    </li>
    
    <li id="comment-17320" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Alex Efros
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Ссылка на перевод статьи "Faux columns" испортилась (теперь по этому адресу живёт нечто иное). Вот ссылка на единственный перевод, который удалось найти: <a href=http://designformasters.info/posts/fauxcolumns/ rel=nofollow>http://designformasters.info/posts/fauxcolumns/</a></p>

        
      </div>
    </li>
    
    <li id="comment-22228" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Леша
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>очень интересный сайт, написано все здорово, и проиллюстрировано тоже здорово</p>

<p>но, есть одно неприятное но... <br>
когда скроллишь этот сайт в файерфоксе, скроллится рывками, что очень мешает читать.</p>

<p>как читатель, буду премного благодарен, если автор этот баг пофиксит (если это баг, а не проблемы с моим компом)</p>

        
      </div>
    </li>
    
    <li id="comment-22281" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Alexander Solovyov
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <blockquote>
  <p>как читатель, буду премного благодарен, если автор этот баг пофиксит (если это баг, а не проблемы с моим компом)</p>
</blockquote>

<p>Вообще это проблемы с ФФ. Он во второй версии не слишком хорошо работает с прозрачными PNG'шками, в альфах третьего уже всё починили.</p>

<p>Плюс автор работает под линухом, где эта проблема намного меньше видна, чем в винде. По крайней мере на моём компе. :)</p>

        
      </div>
    </li>
    
    <li id="comment-23632" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Strike
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Огромное спасибо за статью!!! Очень много вопросов выяснил для себя, прочитав ее. Автор все крайне доступно, и интересно изложил. Респект!</p>

        
      </div>
    </li>
    
    <li id="comment-25274" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          LXj
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <blockquote>
  <p>А как реализовать способ</p>
  
  <p>padding-bottom:32767px;</p>
  
  <p>margin-bottom:-32767px;</p>
  
  <p>в опере? Опера совсем не солидарна здесь с Мозиллой и ИЕ.</p>
</blockquote>

<p>Да, я тоже с этим столкнулся: при использовании overflow: hidden появляется огромное "белое" пространство под основным содержимым</p>

        
      </div>
    </li>
    
    <li id="comment-25275" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          LXj
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>...при дальнейшей правке эта пустота может сама собой исчезнуть... мда 8)</p>

        
      </div>
    </li>
    
    <li id="comment-28885" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Александр Овчинников
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Огромное спасибо, без вас бы не разобрался, особенно с Известным Браузером.</p>

        
      </div>
    </li>
    
    <li id="comment-28960" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Максим
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Мегареспект и уважушища! Только что проваливались флоаты. Думал за бубном идти. Если под известным браузером понимается ИЕ, то как раз с ним опчему-то проблем не было.</p>

        
      </div>
    </li>
    
    <li id="comment-30109" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Ы
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Maniac, читаю тебя не отрываясь :) Зачот! Памятник конный за этот учебник :)</p>

        
      </div>
    </li>
    
    <li id="comment-30129" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          anonymous
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Если все так круто, то как вы объясните, что на этой странице 163 ошибки в html? Может сначало научимся сайты верстать, а потом других учить будем?</p>

        
      </div>
    </li>
    
    <li id="comment-30130" class="comment ">
      <div class="meta">
        <address class="author">
        
          <a href="http://softwaremaniacs.org/" rel="nofollow" class="openid_link url">Иван Сагалаев</a>
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p><a href=http://softwaremaniacs.org/blog/2005/10/02/well-formed-valid-conformant/ rel=nofollow>Вы, должно быть, тут новенький...</a></p>

        
      </div>
    </li>
    
    <li id="comment-30161" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Александр
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Не ребят в самом деле тема классная... очень много умного узнал для себя.. но на Вашем cайте вот это:</p>

<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="ru"&gt;
</code></pre>

<p>конечно похоже на лень наверное!</p>

<p>В целом сайту респект.</p>

        
      </div>
    </li>
    
    <li id="comment-30181" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Nikita
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>padding-bottom:32767px; <br>
margin-bottom:-32767px;</p>

<p>Этот вариант у меня везде работает, кроме IE8 Beta1. Не исследовали?</p>

        
      </div>
    </li>
    
    <li id="comment-30306" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Сабико
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>А есть ли возможность задать блоку с заданным clear отступ от флоатов? Или только margin-bottom самим флоатам? <br>
Неужели clear:both и margin-top:Npx — вещи вообще несовместимые?</p>

        
      </div>
    </li>
    
    <li id="comment-30307" class="comment ">
      <div class="meta">
        <address class="author">
        
          <a href="http://softwaremaniacs.org/" rel="nofollow" class="openid_link url">Иван Сагалаев</a>
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>clear тут не самый удачный вариант. Margin clear'нутого бокса будет проваливаться вверх, под float'ы, пока не достигнет границ контейнера, в котором float'ы лежат. Поэтому, вместо clear'а чаще используют <code>overflow: hidden</code> на контейнер float'ов, чтобы они из него не вываливались, он, соответственно, заканчивался после них, и тогда уже margin'ы следующих элементов нормально работают.</p>

        
      </div>
    </li>
    
    <li id="comment-30383" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Дмитрий
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>А вот такой пример "из жизни". Надо сделать трехколоночный сайт. Разумеется с шапкой и подвалом. Только вот если использовать float для колонок, то внутри колонок его использовать уже не удасться (точнее, не удасться использовать clear).</p>

<p>Можно попытаться использовать абсолютное позиционирование для колонок. Да только беда в том, что высота ни одной из колонок заранее не известна, т.е. min-height не прокатит. Можно было бы привлечь JavaScript или вообще вычислять высоту одной из колонок в скрипте, но уж больно это неблагодарное дело. Хоть я и отвык от таблиц, но без них тут, на мой взгял, никуда. Только не надо говорить про display: table - это где-то работает, а где-то нет - сайт то для людей делается, в основном лохов, а не гиков. Есть какие соображения по этому поводу?</p>

        
      </div>
    </li>
    
    <li id="comment-30432" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Pon2er
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Статья действительно очень качественная и помогла мне в решении многих проблем с созданием вот такого вот макетика (<a href=http://pion.ru/zoo/float-layout.html rel=nofollow>http://pion.ru/zoo/float-layout.html)</a>), который я в будущем возможно придумаю как использовать, но увы как же быть с Оперой, про которую тут уже спрашивали.</p>

<p>При использовании такой конструкции</p>

<blockquote>
  <p>padding-bottom:32767px; <br>
  margin-bottom:-32767px;</p>
</blockquote>

<p>только в опере, а также как утверждают IE8 Beta, действительно появляется немеряно белого пространства от которого не понятно как избавляться.</p>

<p>Есть ли уже какое-нибудь решение? Без него как то сыровато выходит, на опере сидят многие.</p>

        
      </div>
    </li>
    
    <li id="comment-30434" class="comment ">
      <div class="meta">
        <address class="author">
        
          <a href="http://softwaremaniacs.org/" rel="nofollow" class="openid_link url">Иван Сагалаев</a>
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Можно наверное просто не пользоваться этими "хвостатыми" колонками, все таки хак довольно грязный :-). Всегда есть faux columns. А где не получается, что ж, есть пределы у CSSной раскладки в работе с колонками.</p>

        
      </div>
    </li>
    
    <li id="comment-30437" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Yu
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <blockquote>
  <p>только в опере, а также как утверждают IE8 Beta, действительно появляется немеряно белого пространства от которого не понятно как избавляться.</p>
</blockquote>

<p>Что самое интересное, в некоторых случаях появляется, в некоторых — нет. Как-то зависит от содержимого колонок, но вычислить, что именно влияет на это, у меня не получилось...</p>

        
      </div>
    </li>
    
    <li id="comment-30539" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Buki
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Очень долго блуждал по сети в поисках. <br>
и вот ура нашел одной статье больше нужной информации чем в целой книжке на 300 стр.</p>

<p><strong>Огромное спасибо за учебник.</strong></p>

        
      </div>
    </li>
    
    <li id="comment-30649" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Юлия
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Спасибо огромное за учебник!</p>

<p>Наконец-то становится понятно, как это работает! :) Не могу описать, как становится хорошо, когда после двух дней работы над одной страницей, огромного количества часов в интернете и написания всего одной-двух строчек кода в конце, страница наконец принимает благопристойный вид!</p>

<p>Огромная просьба - не оставляйте этот труд, продолжайте нас просвещать!</p>

        
      </div>
    </li>
    
    <li id="comment-31547" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          linche
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Спасибо большое за статью.</p>

<p>У вас вот здесь ошибка закралась:</p>

<blockquote>
  <p>похоже на auto, только скроллбар у контейнер<strong>а</strong> есть всегда, даже когда содержимое его не переполняет</p>
</blockquote>

        
      </div>
    </li>
    
    <li id="comment-31550" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Иван Сагалаев
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Спасибо, поправил.</p>

        
      </div>
    </li>
    
    <li id="comment-32005" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          vic
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Float-нутый бокс перестает раздаваться на всю ширину родительского бокса-контейнера. А вот если в такой бокс поместить другой блок и задать для него height:100%, то float-нутый бокс раздвигается на всю ширину (наблюдается только в IE). Это стандартоное поведение бокса или очередной глюк IE? Как лечить?</p>

        
      </div>
    </li>
    
    <li id="comment-32192" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          vic
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>А вот еще засада с IE. При реализации двух колонок с растягиванием только одой колонки</p>

<pre><code>#sidebar {
  float:left; width:200px;
}

#content {
  margin-left:200px;
}
</code></pre>

<p>в IE6 в колонке #content появляется непонятный левый отступ 2-3 пикселя. Причем, на том уровне, где левая колонка заканчивается, отступ также заканчивается. Может кто встречался с такой проблемой. Как устранить?</p>

        
      </div>
    </li>
    
    <li id="comment-32210" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          vic
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Решение вышеуказанной проблемы найдено:</p>

<pre><code>#sidebar {
float:left; width:200px; margin-right:-200px;
}

#content {
margin-left:200px;
}
</code></pre>

<p>Таким образом устраняем устраняем непонятные 3px у плавающего элемента</p>

        
      </div>
    </li>
    
    <li id="comment-33109" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Андрей
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <blockquote>
  <p>Оказывается, достаточно сделать эту картинку очень длинной. Пусть будет 3000 пикселов. Делим ее на то же самое отношение: 2100 пикселов одним цветом, 900 - другим. А теперь: <br>
  div { <br>
  background:url(bg.png) 70% 0 repeat-y; <br>
  }&gt;</p>
</blockquote>

<p>Только что обнаружил, что это не работает в IE7 и 8. Картинка у меня 4000 пикселов. Что делать не соображу, сайт рабочий, в подписи. Правило такое:</p>

<p>body{ <br>
width: 100%; <br>
font: 85% Verdana,Sans-serif; <br>
color: #E045CE; <br>
background: url(img/bg.gif) 75% 0 repeat-y; <br>
padding: 0; <br>
margin: 0; <br>
border: 6px solid #DAB88F; <br>
vertical-align: middle; <br>
} <br>
В других браузерах нормально.</p>

        
      </div>
    </li>
    
    <li id="comment-34013" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Роман
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>А кто мешает после content, sidebar и прочих флоатов, непосредственно перед закрывающим тэгом main, поставить пустой элемент со свойством clear:both? Тогда main растягивается по высоте и ничего не вываливается. Работает во всех актуальных версиях Опера, ФаирФокс, ГуглХром, Сафари, а также ИЕ7 и 8.</p>

        
      </div>
    </li>
    
    <li id="comment-34022" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Саша
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <blockquote>
  <p>Высота колонок</p>
  
  <p>Опять-таки, я далеко не случайно "отрезал" на картинках &gt;нижнюю часть блоков :-). Иначе бы они как колонки совсем &gt;не выглядели, потому что, как нетрудно убедиться, если &gt;применить те фрагменты CSS, что я привел, и раскрасить &gt;колонки разными цветами, то их высота оказывается разной. &gt;Она зависит от количества содержимого в этих блоках.</p>
</blockquote>

<p>Но ведь, если обе колонки находятся в одном контейнере, то можно у обоих колонок убрать отступ снизу и сверху.</p>

<p>** #sidebar { <br>
float:right; width:200px; margin-buttom:0; margin-top:0; <br>
}</p>

<p>content {</p>

<p>margin-right:200px; margin-buttom:0; margin-top:0; <br>
} <br>
** <br>
Тогда обе колонки будут растягиваться во всю ширину контейнера. (может я не прав, просто изучение CSS начал именно с этого учебника вчера))</p>

        
      </div>
    </li>
    
    <li id="comment-34627" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          KakTyC
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Огромное спасибо за статью. До этого долго мучился с позиционированием элементов.</p>

        
      </div>
    </li>
    
    <li id="comment-34684" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Геннадий
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Иван, большое спасибо за статью - Вы действительно собрали все в одном месте о Float.</p>

<p>Но вот ответа на свой вопрос о применении Float и его отмене в контенте, при использовании Float-колоночной раскладки сайта я к сожалению не нашел.</p>

<p>Вот тестовая страничка (<a href=http://lrimi.ru/simple.html rel=nofollow>http://lrimi.ru/simple.html)</a>), где требуется отменить Float для абзаца и заголовка. Если применить Clear:left или Clear:both, то абзац и заголовок "провалятся" ниже нижней границы левой колонки. <br>
Ведь Clear Float применяется не к последнему элементу со свойством Float, а жаль - как все было бы просто.</p>

        
      </div>
    </li>
    
    <li id="comment-34713" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          rvnikita
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Спасибо за статью.</p>

        
      </div>
    </li>
    
    <li id="comment-39455" class="comment ">
      <div class="meta">
        <address class="author">
        
        
        <a href="http://softm.org.ua/borba-s-css/" rel="nofollow" class="url">Softm: фриланс как стиль жизни  » Архив блога   » Борьба с CSS</a>
        
        </address>
        
        
      </div>

      <div class="usertext">
        <blockquote>
        <p>Наткнулся в итоге на статью, про флоаты. Не дочитал – так как монументально писано. Ложу себе ссылку на память.</p>

        </blockquote>
      </div>
    </li>
    
    <li id="comment-40921" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          ivankin
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Может кому поможет)) ещё 1 вариант пофиксить баг IE (а именно 6ая версия).
Если у Вас ситуация допустим, что в одном блоке размещается, несколько других блоков с float'ом... Допустим вы делаете фотогаллерею, где в блок галлереи будет вмещаться по 3 картинки вряд, а таких рядов у нас великое множество... </p>

<p>Вот пример, где образуется сетка 2х2.</p>

<pre><code>/* html */
&lt;div id="box"&gt;
    &lt;div class="image"&gt; ... &lt;/div&gt;
    &lt;div class="image"&gt; ... &lt;/div&gt;
    &lt;div class="image"&gt; ... &lt;/div&gt;
    &lt;div class="image"&gt; ... &lt;/div&gt;
&lt;/div&gt;

/* css */
#box { width: 200px; }
.image { width: 100px; height: 100px; float: left; }
</code></pre>

<p>Во всех браузерах будет отображаться всё без отступов и корректно. 2 картинки вместились в ряд, 3ья картинка пошла на следующий, ну итд...</p>

<p>А вот IE6 будет рисовать отступы между каждым рядом. Нашёл как победить это, чем и делюсь с Вами. Нужно добавить font-size: 0pt; в #box.
Получится следующее:</p>

<pre><code>...
#box { width: 200px; font-size: 0pt; }
</code></pre>

<p>Буду рад если кому-нибудь это поможет)</p>

        
      </div>
    </li>
    
    <li id="comment-42602" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          a
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Я начинающий. И лично мне кажеться, что начинающему это не поможет, а знающему уже известно. Если Вы пишите для начинающих, то пишите завершенные примеры, как в хороших книгах. Чтобы не надо было читать весь сайт, чтобы понять 1 фразу. Да и балагурить поменьше, это отвлекает и сжирает время. Не обижайтесь.  </p>

        
      </div>
    </li>
    
    <li id="comment-43723" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Фдуч
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Действительно, просто великолепные статьи пишите!!! Я в общем достаточно давно верстаю, но ваши статьи пролили свет на кучу моментов, используемых раньше интуитивно. Большое вам за это спасибо!!!
Кстати, как там насчет книжки? ))Еще не дозрела идея до реализации? ))</p>

        
      </div>
    </li>
    
    <li id="comment-47578" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          kleincard
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Спасибо огромное! Я учусь на курсах, и, как на зло, пропустила супер-важную тему позиционирования в css. C вашей помощью, наконец-то, поняла что к чему. Очень рада такому обстоятельству.
Тем более, что все доступно написано. Еще раз спасибо.</p>

        
      </div>
    </li>
    
    <li id="comment-63520" class="comment ">
      <div class="meta">
        <address class="author">
        
        
        <a href="http://flack.ru/2008/02/08/semantic-coding-howto-5/" rel="nofollow" class="url">Семантическая верстка — советы и решения. Часть V. Навигация по сайту или укрощение списков</a>
        
        </address>
        
        
      </div>

      <div class="usertext">
        <blockquote>
        <p>Я не буду здесь останавливаться на механизмах работы правила float, так о нем можно писать целые книги. Подробное объяснение на русском можно почепнуть в статье Ивана Сагалаева «Раскладка в CSS: float».</p>

        </blockquote>
      </div>
    </li>
    
    <li id="comment-81107" class="comment ">
      <div class="meta">
        <address class="author">
        
          
          Олег
          
        
        
        </address>
        
        
      </div>

      <div class="usertext">
        
        <p>Отличная статья!</p>

<p>Недавно на alist apart была статья CSS Floats 101. Нашел ее руский перевод здесь: <a href=http://www.clearboth.ru/article/css-floats-101.html rel=nofollow>Плавающие элементы и CSS</a>. Мне кажется это прекрасное дополнения к вашей статье.</p>

        
      </div>
    </li>
    

    

  </ol>
</div>



<div id="add_comment">
  <h2>Добавить комментарий</h2>
  
  <form action="" method="post" id="commentform">
    
    <p>
      <label for="id_name">Имя или OpenID</label>
      <input type="text" name="name" id="id_name" />
      
    
    
      <input type="hidden" name="language" value="ru" id="id_language" />
    
    <div id="preview">
      <p><label>Предпросмотр</label>
      <div class="usertext"></div>
    </div>
    <p id="legend"><img src="Маниакальный%20веблог%20%BB%20Раскладка%20в%20CSS_%20float_files/markdown.png" alt="Текст через пустую строку превращается в отдельные абзацы, цитата отделяется символами &gt; слева, список состоит из пунктов с дефисом слева, курсив выделяется * с каждой стороны, жирный - двойными **, блоки кода отступают слева на 4 пробела"></p>
    <p>
      <label for="id_text">Текст</label>
      <textarea id="id_text" rows="20" cols="80" name="text"></textarea>
      
    <p style="position: absolute; left: -1000px;">
      <label>Это поле — ловушка для роботов, оставьте его пустым</label>
      <input type="text" name="email" value="" tabindex="-1" autocomplete="off">

    <div class="buttons"><button type="submit">Отправить</button></div>
  </form>
</div>




<!-- Yandex.Metrika -->
<script src="Маниакальный%20веблог%20%BB%20Раскладка%20в%20CSS_%20float_files/watch000.js" type="text/javascript"></script>
<div style="display:none;"><script type="text/javascript">
try { var yaCounter1199159 = new Ya.Metrika(1199159); } catch(e){}
</script></div>
<noscript><div style="position:absolute"><img src="//mc.yandex.ru/watch/1199159" alt="" /></div></noscript>
<!-- /Yandex.Metrika -->


<!-- This document saved from http://softwaremaniacs.org/blog/2005/12/01/css-layout-float/ -->
