Комментарии Disqus в Django по новому
категория: Django


Нужно было заново прикручивать disqus, и оказалось еще все проще чем было раньше. Не нужно теперь никакие django-disqus модули использовать.

Просто берем код отсюда disqus.com/admin/universalcode/, копипастим себе на сайт - и все работает.

1. Зарегистрируйте свой сайт с доменом на disqus.
2. Исправьте в коде ваш шортнейм сайта:

var disqus_shortname = 'mysite';
3. Вставьте первый кусок кода туда где будут у вас находиться комментарии. У меня в конце шаблона статьи article_detail.html. Все комментарии магическим образом уже работают и привязываются к статье.

Если хотите подсчитывать комментарии для каждой статьи:

1. Берем второй кусок кода и вставляем его перед </body>
2. В том месте, где будет выводиться число комментариев - пишем ссылку на статью и добавляем в конец #disqus_thread.

<a href="{{ article.get_absolute_url }}/#disqus_thread">link</a>
И магическим образом вместо link появляется число комментариев в каждой статье.

Просто берите и пользуйтесь и не нужно выдумывать и писать свой велосипед - он все равно будет трехколесным по сравнению с disqus





http://www.acman.ru/blog/119