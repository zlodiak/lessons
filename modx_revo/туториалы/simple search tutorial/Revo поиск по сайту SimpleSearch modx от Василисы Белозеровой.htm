<!DOCTYPE html>
<html>
<head>
<title>Revo поиск по сайту SimpleSearch modx  от Василисы Белозеровой</title>
<base href="http://www.yotadom.com/" />
<link href="/styles.css" rel="stylesheet" type="text/css" media="all">
<link   rel="stylesheet"   type="text/css"   media="screen and (max-device-width: 799px)"   href="/mobile-tablet.css" />
<meta name="keywords" content="">
<meta name="description" content="">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width">
<!--[if lt IE 9]>
<script src="assets/templates/html/js/html5.js"></script>
<script src="assets/templates/html/js/IE9.js"></script>
<![endif]-->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38340980-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
	<script type="text/javascript" src="http://www.yotadom.com/manager//media/script/mootools/mootools.js"></script>
	<script type="text/javascript" src="assets/snippets/ajaxSearch/js/ajaxSearch1/ajaxSearch.js"></script>
<!-- start AjaxSearch header -->
<script type="text/javascript">
//<![CDATA[
asvar=new Array();asvar[0]='{"vsn":"1.9.3","adv":"oneword","sub":"","bxt":"Запрос для поиска...","cfg":"&showIntro=`0` &parents=`15` "}';
//]]>
</script>
<!-- end AjaxSearch header -->
</head>
<!-- контакт  -->
<!-- Put this script tag to the <head> of your page -->
<script type="text/javascript" src="http://userapi.com/js/api/openapi.js?24"></script>
<!--контакт -->
	<script type="text/javascript" src="http://www.yotadom.com/manager//media/script/mootools/mootools.js"></script>
	<script type="text/javascript" src="assets/snippets/ajaxSearch/js/ajaxSearch1/ajaxSearch.js"></script>
<!-- start AjaxSearch header -->
<script type="text/javascript">
//<![CDATA[
asvar=new Array();asvar[0]='{"vsn":"1.9.3","adv":"oneword","sub":"","bxt":"Запрос для поиска...","cfg":"&showIntro=`0` &parents=`15` "}';
//]]>
</script>
<!-- end AjaxSearch header -->
</head>
<body>
<!--контакт -->
<script type="text/javascript">
  VK.init({apiId: 2304909, onlyWidgets: true});
</script>
<!-- контакт -->
<div id="headerwrap">
  <header id="mainheader" class="bodywidth clear"> <img src="assets/templates/html/img/logo.png" alt="" class="logo">
    <div style="height: 81px;">
<div id="websitetitle">Василиса<br/> Белозерова</div>
<div class="titul"><!--<p>8-926-402-04-95<br/> Телефон только для Москвы</p>--></div>
     <div class="nadpis"><p>Я работаю по всей России </p><p><a href="mailto:vasilisa1210@mail.ru">vas<!--gfgfdgh-->ilisa1<!--gfgfdgh-->210@ma<!--gfgfdgh-->il.ru</a></p></div>
</div>
<ul><li><a href="http://www.yotadom.com/" >
<span class="text-top">Главная</span>
<span class="text-bottom">Главная страница</span>
</a></li>
<li><a href="/portpholio.html" >
<span class="text-top">Портфолио</span>
<span class="text-bottom">Мое портфолио</span>
</a></li>
<li><a href="/prodvizhenie-sajtov.html" >
<span class="text-top">SEO</span>
<span class="text-bottom">Продвижение сайта</span>
</a></li>
<li><a href="/nactrojka-vps-i-vds-servera.html" >
<span class="text-top">Настройка VPS/VDS</span>
<span class="text-bottom">Администратор сервера</span>
</a></li>
<li><a href="http://www.yotadom.com/modx-evo-uroki.html"  class="active">
<span class="text-top">Уроки</span>
<span class="text-bottom">Для вебмастеров</span>
</a></li>
<li><a href="http://www.yotadom.com/dlya-klienta.html"  class="last">
<span class="text-top">Статьи</span>
<span class="text-bottom">Для клиента</span>
</a></li>
</ul>
  </header>
</div>
<!-- контент основной -->
<div id="maincontent" class="bodywidth clear">
<div>
<h1>Revo поиск по сайту SimpleSearch modx</h1>
<div style="float: left;
padding: 5px;
color: #FFF;
width: 627px;
text-align: center;background: #C44534;">Ищу разработчиков у которых есть свои полезные сниппеты, модули, плагины на Mod Evo для создания общего репозитория. Писать на почту.</div>
     
<div class="seach">
<form id="ajaxSearch_form" action="revo-poisk-po-sajtu-simplesearch-modx.html" method="post">
    <fieldset>
    <input type="hidden" name="advsearch" value="oneword" />
    <label>
      <input id="ajaxSearch_input" class="cleardefault" type="text" name="search" value="Запрос для поиска..." onfocus="this.value=(this.value=='Запрос для поиска...')? '' : this.value ;" />
    </label>
    
        <label>
            <input id="ajaxSearch_submit" type="submit" name="sub" value="Найти!" />
        </label>
    
    </fieldset>
</form>


<div id="ajaxSearch_output" class="init"></div></div>
</div>
<div style="clear:both;"></div>
<div class="breadc"><span class="B_crumbBox"><span class="B_firstCrumb"><a class="B_homeCrumb" href="/" title="Главная страница">Главная</a></span>  &raquo;  <a class="B_crumb" href="/st.html" title="Для вебмастеров">Уроки</a>  &raquo;  <a class="B_crumb" href="/modx-revo-uroki.html" title="ModX Revo уроки">ModX Revo уроки</a>  &raquo;  <span class="B_lastCrumb"><span class="B_currentCrumb">Revo поиск по сайту SimpleSearch modx</span></span></span></div>
<p>Для создания поиска по сайту необходимо установить пакет&nbsp;SimpleSearch.</p>
<p>Затем в ресурсах создаем ресурс ПОИСК и вписываем туда</p>
<p class="code">[<!---->[<!---->!SimpleSearch<!---->]<!---->]</p>
<p>Запоминаем id этого ресурса, это страница вывода результатов поиска.
В шаблон где находится сама форма поиска вставляем следующий код:</p>
<p class="code">[<!---->[<!---->!SimpleSearchForm? &amp;landing=`1` &amp;tpl=`MySForm`<!---->]<!---->]</p>
<p>где вместо 1 вставляем ID страницы вывода результатов поиска</p>
<p>Затем копируем содержимое файла&nbsp;core/components/simplesearch/elements/chunks/searchform.chunk.tpl в новый чанк с названием&nbsp;MySForm и создаем тот шаблон отображения окна поиска, который нам необходим</p>
<p>Все, поиск на сайте под управлением Revo Modx готов.</p>
<p>Далее решаем проблемы с кодировкой.</p>
<p>Находим файл&nbsp;core/components/simplesearch/model/simplesearch/simplesearch.class.php&nbsp;в нем заменяем строку</p>
<p class="code">$text = trim(preg_replace('/\s+/', ' ', $this-&gt;sanitize($text)));</p>
<p>на</p>
<p class="code">
$text = trim(preg_replace('/\s+/u', ' ', $this-&gt;sanitize($text)));</p>
<p>&nbsp;</p>
<p>Затем заменяем строку&nbsp;</p>
<p class="code">$string = preg_replace('/' . $quoteValue . '/i', '&lt;'.$tag.' class="'.$cls.'"&gt;$0&lt;/'.$tag.'&gt;', $string);</p>
<p>на</p>
<p class="code">$string = preg_replace('/' . $quoteValue . '/iu', '&lt;'.$tag.' class="'.$cls.'"&gt;$0&lt;/'.$tag.'&gt;', $string);</p>
<p>&nbsp;</p>
<p>А так же заменяем строку</p>
<p class="code">$text = preg_replace('/(\[\[\+.*?\]\])/i', '', $text);</p>
<p>на</p>
<p class="code">$text = preg_replace('/(\[\[\+.*?\]\])/iu', '', $text);</p>
<p>&nbsp;</p>
<p>И последнее, надо закомментировать строчку&nbsp;</p>
<p class="code">if (!empty($str)) $this-&gt;searchString = strip_tags($this-&gt;modx-&gt;sanitizeString($str));</p>
<p>&nbsp;</p>
<p>за решение проблем с кодировкой спасибо&nbsp;valikras</p>
<!-- Put this div tag to the place, where the Comments block will be -->
<div id="vk_comments"></div>
<script type="text/javascript">
VK.Widgets.Comments("vk_comments", {limit: 10, width: "950", attach: false});
</script>
</div>
<!-- end контент основной -->
<!-- низ блок -->
<aside id="introduction" class="bodywidth clear">
<div id="introleft">
<h5>Помогите сайту стать удобнее для Вас!</h5>
Оставьте свои пожелания и комментарии <a href="chto-delat-po-sajtu.html">тут</a>
<br/><br/>
<a href="http://www.yotadom.com/">Сайт под ключ</a>
</div>
<div id="introleft1">
<ul>
<li><a href="stati-dlya-klienta.html">Статьи для клиента</a></li>
<li><a href="dokumentacziya-modx.html">Документация по Modx</a></li>
<li><a href="modx-evo-uroki.html">Уроки ModX Evo</a></li>
<li><a href="modx-revo-uroki.html">Уроки Modx Revo</a></li>
<li><a href="shopkeeper-for-modx-internet-magazin.html">Уроки Shopkeeper ModX</a></li>
<li><a href="simpla-cms-internet-magazin.html">Уроки Simpla</a></li>
</ul>
</div>
<blockquote id="introquote">QR-code этой<br/> страницы:<br/><br/>
<img src="http://api.qrserver.com/v1/create-qr-code/?size=100x100&amp;color=333&amp;data=http://www.yotadom.com/revo-poisk-po-sajtu-simplesearch-modx.html" alt="" />
</blockquote>
</aside>
<!-- end низ блок -->
<div id="footerwrap">
  <footer id="mainfooter" class="bodywidth clear">
    <nav class="clear">
      <ul><li><a href="http://www.yotadom.com/" title="Заказать сайт под ключ и продвинуть его в ТОП" >Главная</a></li>
<li><a href="/portpholio.html" title="Портфолио" >Портфолио</a></li>
<li><a href="/prodvizhenie-sajtov.html" title="SEO продвижение сайта" >SEO</a></li>
<li><a href="/nactrojka-vps-i-vds-servera.html" title="Наcтройка VPS и VDS сервера" >Настройка VPS/VDS</a></li>
<li class="active"><a href="http://www.yotadom.com/modx-evo-uroki.html" title="Уроки для вебмастеров" >Уроки</a></li>
<li class="last"><a href="http://www.yotadom.com/dlya-klienta.html" title="Статьи для клиента" >Статьи</a></li>
</ul>
    </nav>

    <div class="copyright"><!--noindex-->
<!-- Yandex.Metrika informer -->
<a href="http://metrika.yandex.ru/stat/?id=970835&amp;from=informer"
target="_blank" rel="nofollow"><img src="//bs.yandex.ru/informer/970835/1_0_FFFFFFFF_EFEFEFFF_0_visits"
style="width:80px; height:15px; border:0;" alt="Яндекс.Метрика" title="Яндекс.Метрика: данные за сегодня (визиты)" onclick="try{Ya.Metrika.informer({i:this,id:970835,type:0,lang:'ru'});return false}catch(e){}"/></a>
<!-- /Yandex.Metrika informer -->

<!-- Yandex.Metrika counter -->
<div style="display:none;"><script type="text/javascript">
(function(w, c) {
    (w[c] = w[c] || []).push(function() {
        try {
            w.yaCounter970835 = new Ya.Metrika({id:970835, enableAll: true, webvisor:true});
        }
        catch(e) { }
    });
})(window, "yandex_metrika_callbacks");
</script></div>
<script src="//mc.yandex.ru/metrika/watch.js" type="text/javascript" defer="defer"></script>
<noscript><div><img src="//mc.yandex.ru/watch/970835" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
<!--/noindex--></div>
  </footer>  
</div> 
    
</body>
</html>