<!DOCTYPE html>
<html lang="ru" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>primer._sozdat_bd_polzovatelja_tablicu_ustanovit_prava [IT рабочие заметки]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="primer._sozdat_bd_polzovatelja_tablicu_ustanovit_prava"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="IT рабочие заметки"/>
<link rel="start" href="/"/>
<link rel="alternate" type="application/rss+xml" title="Недавние изменения" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Текущее пространство имён" href="/feed.php?mode=list&amp;ns="/>
<link rel="alternate" type="text/html" title="Простой HTML" href="/_export/xhtml/primer._sozdat_bd_polzovatelja_tablicu_ustanovit_prava"/>
<link rel="alternate" type="text/plain" title="вики-разметка" href="/_export/raw/primer._sozdat_bd_polzovatelja_tablicu_ustanovit_prava"/>
<link rel="canonical" href="http://wiki.dieg.info/primer._sozdat_bd_polzovatelja_tablicu_ustanovit_prava"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=dokuwiki&amp;tseed=688a8aee49584d7896451f3814f27576"/>
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"id":"primer._sozdat_bd_polzovatelja_tablicu_ustanovit_prava","namespace":""};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?tseed=688a8aee49584d7896451f3814f27576"></script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="/lib/tpl/dokuwiki/images/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/dokuwiki/images/apple-touch-icon.png" />
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-24277728-1', 'auto');
  ga('send', 'pageview');

</script>
</head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_dokuwiki     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="#dokuwiki__content">Перейти к содержанию</a></li>
        </ul>

        <h1><a href="/start"  accesskey="h" title="[H]"><img src="/lib/tpl/dokuwiki/images/logo.png" width="64" height="64" alt="" /> <span>IT рабочие заметки</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">Инструменты пользователя</h3>
                <ul>
                    <li><a href="/primer._sozdat_bd_polzovatelja_tablicu_ustanovit_prava?do=login&amp;sectok=718dec0dc1005cc2eff2c85c14f80984"  class="action login" rel="nofollow" title="Войти">Войти</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Инструменты сайта</h3>
            <form action="/start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Поиск" class="button" title="Поиск" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="/doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="primer._sozdat_bd_polzovatelja_tablicu_ustanovit_prava" /><select name="do" class="edit quickselect" title="Инструменты"><option value="">Инструменты</option><optgroup label="Инструменты страницы"><option value="edit">Показать исходный текст</option><option value="backlink">Ссылки сюда</option></optgroup><optgroup label="Инструменты сайта"><option value="media">Управление медиафайлами</option></optgroup><optgroup label="Инструменты пользователя"><option value="login">Войти</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="/primer._sozdat_bd_polzovatelja_tablicu_ustanovit_prava?do=media&amp;ns="  class="action media" rel="nofollow" title="Управление медиафайлами">Управление медиафайлами</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                                        <div class="trace"><span class="bchead">Вы посетили:</span> <span class="bcsep">•</span> <span class="curid"><bdi><a href="/primer._sozdat_bd_polzovatelja_tablicu_ustanovit_prava"  class="breadcrumbs" title="primer._sozdat_bd_polzovatelja_tablicu_ustanovit_prava">primer._sozdat_bd_polzovatelja_tablicu_ustanovit_prava</a></bdi></span></div>
                    </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>primer._sozdat_bd_polzovatelja_tablicu_ustanovit_prava</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    
<h1 class="sectionedit1" id="primer_sozdat_bd_polzovatelja_tablicu_ustanovit_prava">Пример. Создать БД, пользователя, таблицу, установить права.</h1>
<div class="level1">
<ul>
<li class="level1"><div class="li"> Применим к себе права суперпользователя postgres (от которого запущен сервер <a href="/postgresql" class="wikilink1" title="postgresql">PostgreSQL</a>).<pre class="file"># su - postgres
$ pwd
/var/lib/postgresql</pre>
</div>
</li>
<li class="level1"><div class="li"> <strong>Создать базу данных wandb</strong>. PostgreSQL позволяет создавать любое количество баз данных на одном сервере. Имена баз данных должны состоять из букв и цифр (вначале всегда должна быть буква) и быть не более 63 символов длиной. Можно рекомендовать создавать базу данных с таким же именем как у пользователя.<pre class="file">$ createdb wandb
или из консоли psql
postgres=# create database wandb;</pre>
</div>
</li>
<li class="level1"><div class="li"> <strong>Создать пользователя wanuser для БД wandb</strong>. Имена пользователей в PostgreSQL существуют отдельно от имен пользователей в операционной системе. Если вы подключаетесь к какой-либо базе данных, вы можете выбрать для подключения какое-нибудь имя пользователя PostgreSQL; если вы это не сделаете, то по умолчанию будет установлено такое же имя, какое у вас в операционной системе (в нашем случае пользователь postgres). Добавление(<strong>createuser</strong>) и удаление(<strong>dropuser</strong>) пользователей.<pre class="file">$ createuser wanuser
Shall the new role be a superuser? (y/n) n
Shall the new role be allowed to create databases? (y/n) n
Shall the new role be allowed to create more new roles? (y/n) n

или из консоли psql
postgres=# create user wanuser;</pre>

<p>
Мы создали пользователя wanuser с ограниченными правами, для их изменения используйте команды
</p>
<pre class="file">Расширить пользователю права:
# alter user wanuser superuser createrole createdb;
Ограничить:
 alter user wanuser nosuperuser nocreaterole nocreatedb;</pre>
</div>
</li>
<li class="level1"><div class="li"> <strong>Установим пользователя wanuser владельцем БД wandb</strong>.<pre class="file">postgres=# alter database wandb owner to wanuser;</pre>

<p>
Если нужно стать владельцем не всей БД, а только таблицы countries
</p>
<pre class="file">wandb=# alter table countries owner to wanuser;</pre>
</div>
</li>
<li class="level1"><div class="li"> <strong>Установим пароль для пользователя wanuser</strong>. В этом случае в качестве метода аутентификации должен использоваться md5 (настраивается в файле pg_hba.conf).<pre class="file"># ALTER USER wanuser WITH ENCRYPTED PASSWORD &#039;test1234&#039;;</pre>
</div>
</li>
<li class="level1"><div class="li"> <strong>Создадим таблицу суперпользователем postgres</strong>.<pre class="file">$ psql wandb
wandb=# CREATE TABLE weather (city varchar(80), temp_hi int, prcp real, date date);</pre>
</div>
</li>
<li class="level1"><div class="li"> <strong>Создадим таблицу владельцем БД wandb пользователем wanuser</strong>.<pre class="file">$ psql wandb -U wanuser
Password for user wanuser:

wandb=&gt; CREATE TABLE weatheuser (city varchar(80), temp_hi int, prcp real, date date);

wandb=&gt; \dt
           List of relations
 Schema |    Name    | Type  |  Owner   
--------+------------+-------+----------
 public | weather    | table | postgres
 public | weatheuser | table | wanuser
(2 rows)</pre>
</div>
</li>
<li class="level1"><div class="li"> <strong>Сменим владельца для таблицы</strong> weather (нужны права суперпользователя). Prompt со знаком # означает, что подключение произошло с правами суперпользователя.<pre class="file">wandb=# ALTER TABLE weather OWNER TO wanuser;</pre>
</div>
</li>
</ul>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>primer._sozdat_bd_polzovatelja_tablicu_ustanovit_prava.txt</bdi> · Последние изменения: 2013/01/01 13:17 (внешнее изменение)</div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Инструменты страницы</h3>
                <div class="tools">
                    <ul>
                        <li><a href="/primer._sozdat_bd_polzovatelja_tablicu_ustanovit_prava?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Показать исходный текст [V]"><span>Показать исходный текст</span></a></li><li><a href="/primer._sozdat_bd_polzovatelja_tablicu_ustanovit_prava?do=backlink"  class="action backlink" rel="nofollow" title="Ссылки сюда"><span>Ссылки сюда</span></a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Наверх [T]"><span>Наверх</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">За исключением случаев, когда указано иное, содержимое этой вики предоставляется на условиях следующей лицензии: <bdi><a href="http://www.gnu.org/licenses/fdl-1.3.html" rel="license" class="urlextern">GNU Free Documentation License 1.3</a></bdi></div>
    <div class="buttons">
        <a href="http://www.gnu.org/licenses/fdl-1.3.html" rel="license"><img src="/lib/images/license/button/gnufdl.png" alt="GNU Free Documentation License 1.3" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="/lib/tpl/dokuwiki/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="/lib/tpl/dokuwiki/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="/lib/tpl/dokuwiki/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="/lib/tpl/dokuwiki/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="/lib/tpl/dokuwiki/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

<div id='footer2d' class="footerinc">
<div style="text-align: center; margin: 5px auto;">

<!-- Yandex.Metrika informer -->
<a href="http://metrika.yandex.ru/stat/?id=11796286&amp;from=informer"
target="_blank" rel="nofollow"><img src="//bs.yandex.ru/informer/11796286/3_1_FFFFFFFF_EFEFEFFF_0_pageviews"
style="width:88px; height:31px; border:0;" alt="Яндекс.Метрика" title="Яндекс.Метрика: данные за сегодня (просмотры, визиты и уникальные посетители)" onclick="try{Ya.Metrika.informer({i:this,id:11796286,type:0,lang:'ru'});return false}catch(e){}"/></a>
<!-- /Yandex.Metrika informer -->

<!-- Yandex.Metrika counter -->
<div style="display:none;"><script type="text/javascript">
(function(w, c) {
    (w[c] = w[c] || []).push(function() {
        try {
            w.yaCounter11796286 = new Ya.Metrika({id:11796286, enableAll: true});
        }
        catch(e) { }
    });
})(window, "yandex_metrika_callbacks");
</script></div>
<script src="//mc.yandex.ru/metrika/watch.js" type="text/javascript" defer="defer"></script>
<noscript><div><img src="//mc.yandex.ru/watch/11796286" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->

<!--LiveInternet counter--><script type="text/javascript"><!--
document.write("<a href='http://www.liveinternet.ru/click' "+
"target=_blank><img src='//counter.yadro.ru/hit?t53.11;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";"+Math.random()+
"' alt='' title='LiveInternet: показано число просмотров и"+
" посетителей за 24 часа' "+
"border='0' width='88' height='31'><\/a>")
//--></script><!--/LiveInternet-->


<!--bigmir)net TOP 100 Part 1-->
<script type="text/javascript" language="javascript"><!--
bmN=navigator,bmD=document,bmD.cookie='b=b',i=0,bs=[],bm={o:1,v:16890706,s:16890706,t:6,c:bmD.cookie?1:0,n:Math.round((Math.random()* 1000000)),w:0};
for(var f=self;f!=f.parent;f=f.parent)bm.w++;
try{if(bmN.plugins&&bmN.mimeTypes.length&&(x=bmN.plugins['Shockwave Flash']))bm.m=parseInt(x.description.replace(/([a-zA-Z]|\s)+/,''));
else for(var f=3;f<20;f++)if(eval('new ActiveXObject("ShockwaveFlash.ShockwaveFlash.'+f+'")'))bm.m=f}catch(e){;}
try{bm.y=bmN.javaEnabled()?1:0}catch(e){;}
try{bmS=screen;bm.v^=bm.d=bmS.colorDepth||bmS.pixelDepth;bm.v^=bm.r=bmS.width}catch(e){;}
r=bmD.referrer.slice(7);if(r&&r.split('/')[0]!=window.location.host){bm.f=escape(r);bm.v^=r.length}
bm.v^=window.location.href.length;for(var x in bm) if(/^[ovstcnwmydrf]$/.test(x)) bs[i++]=x+bm[x];
bmD.write('<sc'+'ript type="text/javascript" language="javascript" src="http://c.bigmir.net/?'+bs.join('&')+'"></sc'+'ript>');
//-->
</script>
<noscript><img src="http://c.bigmir.net/?v16890706&s16890706&t6" width="0" height="0" alt="" title="" border="0" /></noscript>
<!--bigmir)net TOP 100 Part 1-->

<!--bigmir)net TOP 100 Part 2-->

<script type="text/javascript" language="javascript"><!--
//function BM_Draw(oBM_STAT){
//document.write('<table cellpadding="0" cellspacing="0" border="0" style="display:inline;margin-right:4px;"><tr><td><div style="margin:0px;padding:0px;font-size:1px;width:88px;"><div style="background:url(\'http://i.bigmir.net/cnt/samples/diagonal/b58_top.gif\') no-repeat bottom;"> </div><div style="font:10px Tahoma;background:url(\'http://i.bigmir.net/cnt/samples/diagonal/b58_center.gif\');"><div style="text-align:center;"><a href="http://www.bigmir.net/" target="_blank" style="color:#0000ab;text-decoration:none;font:10px Tahoma;">bigmir<span style="color:#ff0000;">)</span>net</a></div><div style="margin-top:3px;padding: 0px 6px 0px 6px;color:#003596;"><div style="float:left;font:10px Tahoma;">'+oBM_STAT.hosts+'</div><div style="float:right;font:10px Tahoma;">'+oBM_STAT.hits+'</div></div><br clear="all"/></div><div style="background:url(\'http://i.bigmir.net/cnt/samples/diagonal/b58_bottom.gif\') no-repeat top;"> </div></div></td></tr></table>');
//}
//-->

</script>
<script type="text/javascript" language="javascript" src="http://c.bigmir.net/?s16890706&t0&l1&o1"></script>
<noscript>
<a href="http://www.bigmir.net/" target="_blank"><img src="http://c.bigmir.net/?v16890706&s16890706&t2&l1" width="88" height="31" alt="bigmir)net TOP 100" title="bigmir)net TOP 100" border="0" /></a>
</noscript>

<!--bigmir)net TOP 100 Part 2-->

<!-- Поместите этот тег туда, где должна отображаться кнопка +1. -->
<g:plusone annotation="inline"></g:plusone>

<!-- Поместите этот вызов функции отображения в соответствующее место. -->
<script type="text/javascript">
  window.___gcfg = {lang: 'ru'};

  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>

</div>
</div>
    </div></div><!-- /site -->

    <div class="no"><img src="/lib/exe/indexer.php?id=primer._sozdat_bd_polzovatelja_tablicu_ustanovit_prava&amp;1442130043" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
