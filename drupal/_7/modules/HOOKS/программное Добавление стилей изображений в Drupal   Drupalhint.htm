<!DOCTYPE html>
<html lang="ru-RU">
    <head>
        <meta charset="UTF-8">
        <title>Добавление стилей изображений в Drupal | Drupalhint</title>

        <link rel="stylesheet" href="http://drupalhint.ru/wp-content/themes/drupalhint/style.css" type="text/css" media="screen" />
        <link rel="shortcut icon" href="http://drupalhint.ru/favicon.ico">
        <link rel="alternate" type="application/rss+xml" title="Drupalhint &raquo; Лента комментариев к &laquo;Добавление стилей изображений в Drupal&raquo;" href="http://drupalhint.ru/snippetyi/dobavlenie-stiley-izobrazheniy-v-drupal/feed" />
<link rel='stylesheet' id='jquery.fancybox-css'  href='http://drupalhint.ru/wp-content/plugins/fancy-box/jquery.fancybox.css?ver=1.2.6' type='text/css' media='all' />
<link rel='stylesheet' id='google-code-prettify-css'  href='http://drupalhint.ru/wp-content/plugins/cpsh/google-code-prettify/prettify.css?ver=3.6.1' type='text/css' media='all' />
<script type='text/javascript' src='http://drupalhint.ru/wp-includes/js/jquery/jquery.js?ver=1.10.2'></script>
<script type='text/javascript' src='http://drupalhint.ru/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='http://drupalhint.ru/wp-content/plugins/fancy-box/jquery.fancybox.js?ver=1.2.6'></script>
<script type='text/javascript' src='http://drupalhint.ru/wp-content/plugins/fancy-box/jquery.easing.js?ver=1.3'></script>
<script type='text/javascript' src='http://drupalhint.ru/wp-includes/js/comment-reply.min.js?ver=3.6.1'></script>
<script type='text/javascript' src='http://drupalhint.ru/wp-content/plugins/cpsh/google-code-prettify/prettify.js?ver=3.6.1'></script>
<script type='text/javascript' src='http://drupalhint.ru/wp-content/plugins/cpsh/google-code-prettify/prettify.init.js?ver=3.6.1'></script>
<script type='text/javascript' src='http://drupalhint.ru/wp-content/themes/drupalhint/js/bootstrap.min.js?ver=3.6.1'></script>
<script type='text/javascript' src='http://drupalhint.ru/wp-content/themes/drupalhint/js/theme.js?ver=3.6.1'></script>

<meta name="description" content="Итак, что такое стили изображений и для чего они имеются в Drupal мы с вами рассмотрели в одной из моих предыдущих статей (кто не знает о чем здесь идет речь, обязательно прочтите). А далее вниманию посетителей сайта http://drupalhint.ru будет представлен программный код, который позволяет веб-разработчикам прямо из модуля добавлять новые стили картинок." />
<meta name="keywords" content="drupal 7, изображения, стили" />

<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://drupalhint.ru/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://drupalhint.ru/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Удалить homepage из форм комментирования Drupal' href='http://drupalhint.ru/snippetyi/udalit-homepage-iz-form-kommentirovaniya-drupal' />
<link rel='next' title='Drupal: удалить разметку у поля' href='http://drupalhint.ru/snippetyi/drupal-udalit-razmetku-u-polya' />
<meta name="generator" content="WordPress 3.6.1" />
<link rel='canonical' href='http://drupalhint.ru/snippetyi/dobavlenie-stiley-izobrazheniy-v-drupal' />
<link rel='shortlink' href='http://drupalhint.ru/?p=564' />
<script type="text/javascript">
	jQuery(document).ready(function($){
		var select = $('a[href$=".bmp"],a[href$=".gif"],a[href$=".jpg"],a[href$=".jpeg"],a[href$=".png"],a[href$=".BMP"],a[href$=".GIF"],a[href$=".JPG"],a[href$=".JPEG"],a[href$=".PNG"]');
		select.attr('rel', 'fancybox');
		select.fancybox();
	});
</script>


<!--WP Paste Analytics-->

<!--/WP Paste Analytics-->

	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
    </head>
    <body>
        <!-- start header -->
        <div id="header">
            <div id="logo">
                                    <strong><a href="http://drupalhint.ru">Drupalhint<sup>ru</sup></a></strong>
                                <h2>&lt;Cоздание веб сайта на Drupal /&gt;</h2>
            </div>
            <div id="menu">
<div class="menu-glavnoe-menyu-container"><ul id="menu-glavnoe-menyu" class=""><li id="menu-item-12" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-12"><a href="http://drupalhint.ru">Главная</a></li>
<li id="menu-item-6" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6"><a href="http://drupalhint.ru/topics/instruktsii">Инструкции</a></li>
<li id="menu-item-7" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-7"><a href="http://drupalhint.ru/topics/moduli">Модули</a></li>
<li id="menu-item-9" class="menu-item menu-item-type-taxonomy menu-item-object-category active current-menu-parent current-post-parent menu-item-9"><a href="http://drupalhint.ru/topics/snippetyi">Сниппеты</a></li>
<li id="menu-item-10" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-10"><a href="http://drupalhint.ru/topics/stati">Статьи</a></li>
<li id="menu-item-11" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-11"><a href="http://drupalhint.ru/topics/temyi">Темизация</a></li>
</ul></div>            </div>
        </div>
        <!-- end header -->
        <!-- start page -->
        <div id="page">
            <!-- start content -->
            <div id="content">
        <div id="post-564" class="post-564 post type-post status-publish format-standard hentry category-snippetyi tag-drupal-7 tag-izobrazheniya tag-stili">
            <h1 class="title">Добавление стилей изображений в Drupal</h1>
            <div class="entry">
                <p>Итак, что такое стили изображений и для чего они имеются в Drupal мы с вами рассмотрели в одной из моих <a title="Стили изображений в Drupal" href="http://drupalhint.ru/instruktsii/stili-izobrazheniy-v-drupal" target="_blank">предыдущих</a> статей (кто не знает о чем здесь идет речь, обязательно прочтите). А далее вниманию посетителей сайта http://drupalhint.ru будет представлен программный код, который позволяет веб-разработчикам прямо из модуля добавлять новые стили картинок.<span id="more-564"></span></p>
<h3>Программный код:</h3>
<pre class="prettyprint linenums">&lt;?php
/*
 * Реализация HOOK_image_default_styles().
 */
function MODULENAME_image_default_styles() {
  $styles = array();
  # 1:
  $styles['MODULENAME_slide'] = array(
    'effects' =&gt; array( // - массив эффектов.
      array(
        'name' =&gt; 'image_scale_and_crop', // - имя эффекта.
        'data' =&gt; array('width' =&gt; 1000, 'height' =&gt; 300), // - размеры изображения.
        'weight' =&gt; '0', // - приоритет.
      ),
    ),
  );
  # 2:
  $styles['MODULENAME_thumb'] = array(
    'effects' =&gt; array(
      array(
        'name' =&gt; 'image_scale_and_crop',
        'data' =&gt; array('width' =&gt; 75, 'height' =&gt; 75),
        'weight' =&gt; '0',
      ),
    ),
  );
  return $styles;
}
?&gt;</pre>
<h3>Дополнительная информация:</h3>
<p>Для решения описанной задачи нужно использовать крючок под названием <code>HOOK_image_default_styles()</code>.</p>
<p>В частности я таким способом добавлю сразу два новых стиля, в первом случае ( <code>MODULENAME_slide</code>) исходное изображение будет отмасштабировано и обрезано к размерам 1000 на 300 пикселей. А во втором ( <code>MODULENAME_thumb</code>) &#8212; к размерам 75 на 75 пикселей с тем же эффектом.</p>
<p>Значение <code>weight</code> задает приоритет применения эффектов, если применяются несколько действий сразу на 1 стиль.</p>
<p>Ну а ниже представлены некоторые допустимые значения для элемента <code>name</code> массива эффектов:</p>
<ul>
<li>image_scale_and_crop &#8212; картинка будет отмасштабирована и обрезана.</li>
<li>image_crop &#8212; картинка будет обрезана.</li>
<li>image_scale &#8212; картинка будет отмасштабирована.</li>
</ul>
<p>Остальные параметры можно посмотреть на страницах с официальной документацией.</p>
                    </div>

            <div class="meta">
                <p class="byline">Опубликовано 25 Апр, 2013</p>
                <p class="links"><span class="more">Метки: <a href="http://drupalhint.ru/tags/drupal-7" rel="tag">drupal 7</a>, <a href="http://drupalhint.ru/tags/izobrazheniya" rel="tag">изображения</a>, <a href="http://drupalhint.ru/tags/stili" rel="tag">стили</a></span></p>
            </div>

            <div class="entry"><p>
            Вы можете следить за комментариями к этой странице с помощью <a href="http://drupalhint.ru/snippetyi/dobavlenie-stiley-izobrazheniy-v-drupal/feed">RSS 2.0</a>. Вы можете пропустить чтение записи и оставить комментарий. Размещение ссылок запрещено.            </p></div>
        </div>

        	<div id="comments">
	
	
	
									<div id="respond" class="comment-respond">
				<h3 id="reply-title" class="comment-reply-title">Добавить комментарий <small><a rel="nofollow" id="cancel-comment-reply-link" href="/snippetyi/dobavlenie-stiley-izobrazheniy-v-drupal#respond" style="display:none;">Отменить ответ</a></small></h3>
									<p class="must-log-in">Для отправки комментария вы должны <a href="http://drupalhint.ru/wp-login.php?redirect_to=http%3A%2F%2Fdrupalhint.ru%2Fsnippetyi%2Fdobavlenie-stiley-izobrazheniy-v-drupal">авторизоваться</a>.</p>												</div><!-- #respond -->
						
</div><!-- #comments -->
	</div>
	<!-- end content -->
	<!-- start sidebar -->
	<div id="sidebar">
    <ul><li id="search-2" class="widget widget_search"><h2>Поиск</h2><form method="get" action="http://drupalhint.ru">
    <fieldset>
        <input type="text" id="s" name="s" value="" />
        <input type="submit" value="Найти" class="btn" />
    </fieldset>
</form></li><li id="categories-2" class="widget widget_categories"><h2>Рубрики</h2>		<ul>
	<li class="cat-item cat-item-4"><a href="http://drupalhint.ru/topics/instruktsii" title="Просмотреть все записи в рубрике &laquo;Инструкции&raquo;">Инструкции</a> (12)
</li>
	<li class="cat-item cat-item-3"><a href="http://drupalhint.ru/topics/moduli" title="Просмотреть все записи в рубрике &laquo;Модули&raquo;">Модули</a> (5)
</li>
	<li class="cat-item cat-item-1"><a href="http://drupalhint.ru/topics/snippetyi" title="Просмотреть все записи в рубрике &laquo;Сниппеты&raquo;">Сниппеты</a> (29)
</li>
	<li class="cat-item cat-item-7"><a href="http://drupalhint.ru/topics/stati" title="Просмотреть все записи в рубрике &laquo;Статьи&raquo;">Статьи</a> (7)
</li>
	<li class="cat-item cat-item-2"><a href="http://drupalhint.ru/topics/temyi" title="Просмотреть все записи в рубрике &laquo;Темизация&raquo;">Темизация</a> (18)
</li>
		</ul>
</li><li id="archives-3" class="widget widget_archive"><h2>Архивы</h2>		<ul>
			<li><a href='http://drupalhint.ru/2013/10' title='Октябрь 2013'>Октябрь 2013</a>&nbsp;(1)</li>
	<li><a href='http://drupalhint.ru/2013/09' title='Сентябрь 2013'>Сентябрь 2013</a>&nbsp;(3)</li>
	<li><a href='http://drupalhint.ru/2013/08' title='Август 2013'>Август 2013</a>&nbsp;(16)</li>
	<li><a href='http://drupalhint.ru/2013/05' title='Май 2013'>Май 2013</a>&nbsp;(1)</li>
	<li><a href='http://drupalhint.ru/2013/04' title='Апрель 2013'>Апрель 2013</a>&nbsp;(35)</li>
	<li><a href='http://drupalhint.ru/2013/03' title='Март 2013'>Март 2013</a>&nbsp;(15)</li>
		</ul>
</li><li id="meta-3" class="widget widget_meta"><h2>Мета</h2>			<ul>
						<li><a href="http://drupalhint.ru/wp-login.php">Войти</a></li>
			<li><a href="http://drupalhint.ru/feed" title="Подпишитесь на RSS-ленту этого сайта"><abbr title="Really Simple Syndication">RSS</abbr> записей</a></li>
			<li><a href="http://drupalhint.ru/comments/feed" title="Последние комментарии ко всем записям в RSS"><abbr title="Really Simple Syndication">RSS</abbr> комментариев</a></li>
			<li><a href="http://ru.wordpress.org/" title="Сайт работает на WordPress &#8212; современной персональной платформе для публикаций.">WordPress.org</a></li>						</ul>
</li></ul>
	</div>
	<!-- end sidebar -->
	<div style="clear: both;">&nbsp;</div>
</div>
<!-- end page -->
<!-- start footer -->
<div id="footer">
	<div class="wrap">
		<div id="fbox1" class="box2">
      <h2>Метки</h2><div class="tagcloud"><a href='http://drupalhint.ru/tags/breadcrumb' class='tag-link-28' title='1 запись' style='font-size: 8pt;'>breadcrumb</a>
<a href='http://drupalhint.ru/tags/ckeditor' class='tag-link-46' title='1 запись' style='font-size: 8pt;'>CKEditor</a>
<a href='http://drupalhint.ru/tags/drupal-6' class='tag-link-20' title='6 записей' style='font-size: 12.967741935484pt;'>drupal 6</a>
<a href='http://drupalhint.ru/tags/drupal-7' class='tag-link-10' title='69 записей' style='font-size: 22pt;'>drupal 7</a>
<a href='http://drupalhint.ru/tags/javascript' class='tag-link-41' title='5 записей' style='font-size: 12.335483870968pt;'>javascript</a>
<a href='http://drupalhint.ru/tags/jquery-ui' class='tag-link-42' title='2 записи' style='font-size: 9.6258064516129pt;'>JQuery UI</a>
<a href='http://drupalhint.ru/tags/pager' class='tag-link-24' title='1 запись' style='font-size: 8pt;'>pager</a>
<a href='http://drupalhint.ru/tags/wysiwyg' class='tag-link-45' title='1 запись' style='font-size: 8pt;'>WYSIWYG</a>
<a href='http://drupalhint.ru/tags/administrirovanie' class='tag-link-17' title='3 записи' style='font-size: 10.709677419355pt;'>админка</a>
<a href='http://drupalhint.ru/tags/baza-dannyih' class='tag-link-44' title='2 записи' style='font-size: 9.6258064516129pt;'>база данных</a>
<a href='http://drupalhint.ru/tags/bloki' class='tag-link-18' title='4 записи' style='font-size: 11.612903225806pt;'>блоки</a>
<a href='http://drupalhint.ru/tags/vkladki' class='tag-link-23' title='2 записи' style='font-size: 9.6258064516129pt;'>вкладки</a>
<a href='http://drupalhint.ru/tags/galereya' class='tag-link-34' title='1 запись' style='font-size: 8pt;'>галерея</a>
<a href='http://drupalhint.ru/tags/golosovaniya' class='tag-link-36' title='1 запись' style='font-size: 8pt;'>голосования</a>
<a href='http://drupalhint.ru/tags/izobrazheniya' class='tag-link-33' title='4 записи' style='font-size: 11.612903225806pt;'>изображения</a>
<a href='http://drupalhint.ru/tags/knopki' class='tag-link-22' title='1 запись' style='font-size: 8pt;'>кнопки</a>
<a href='http://drupalhint.ru/tags/kommentarii' class='tag-link-37' title='3 записи' style='font-size: 10.709677419355pt;'>комментарии</a>
<a href='http://drupalhint.ru/tags/keshirovanie' class='tag-link-40' title='1 запись' style='font-size: 8pt;'>кэширование</a>
<a href='http://drupalhint.ru/tags/lokalizatsiya' class='tag-link-35' title='1 запись' style='font-size: 8pt;'>локализация</a>
<a href='http://drupalhint.ru/tags/menyu' class='tag-link-30' title='5 записей' style='font-size: 12.335483870968pt;'>меню</a>
<a href='http://drupalhint.ru/tags/nodyi' class='tag-link-31' title='5 записей' style='font-size: 12.335483870968pt;'>ноды</a>
<a href='http://drupalhint.ru/tags/otladka' class='tag-link-26' title='1 запись' style='font-size: 8pt;'>отладка</a>
<a href='http://drupalhint.ru/tags/pole' class='tag-link-39' title='1 запись' style='font-size: 8pt;'>поле</a>
<a href='http://drupalhint.ru/tags/poleznoe' class='tag-link-11' title='6 записей' style='font-size: 12.967741935484pt;'>полезное</a>
<a href='http://drupalhint.ru/tags/polzovateli' class='tag-link-14' title='2 записи' style='font-size: 9.6258064516129pt;'>пользователи</a>
<a href='http://drupalhint.ru/tags/roli' class='tag-link-47' title='1 запись' style='font-size: 8pt;'>роли</a>
<a href='http://drupalhint.ru/tags/soobshheniya' class='tag-link-25' title='1 запись' style='font-size: 8pt;'>сообщения</a>
<a href='http://drupalhint.ru/tags/spiski' class='tag-link-27' title='1 запись' style='font-size: 8pt;'>списки</a>
<a href='http://drupalhint.ru/tags/statistika' class='tag-link-15' title='1 запись' style='font-size: 8pt;'>статистика</a>
<a href='http://drupalhint.ru/tags/stili' class='tag-link-38' title='3 записи' style='font-size: 10.709677419355pt;'>стили</a>
<a href='http://drupalhint.ru/tags/stranitsyi' class='tag-link-43' title='2 записи' style='font-size: 9.6258064516129pt;'>страницы</a>
<a href='http://drupalhint.ru/tags/taksonomiya' class='tag-link-32' title='1 запись' style='font-size: 8pt;'>таксономия</a>
<a href='http://drupalhint.ru/tags/temizatsiya' class='tag-link-21' title='24 записи' style='font-size: 17.935483870968pt;'>темизация</a>
<a href='http://drupalhint.ru/tags/faylyi' class='tag-link-19' title='3 записи' style='font-size: 10.709677419355pt;'>файлы</a>
<a href='http://drupalhint.ru/tags/format-vvoda' class='tag-link-48' title='1 запись' style='font-size: 8pt;'>формат ввода</a>
<a href='http://drupalhint.ru/tags/formyi' class='tag-link-13' title='15 записей' style='font-size: 16.129032258065pt;'>формы</a>
<a href='http://drupalhint.ru/tags/shablonyi' class='tag-link-29' title='5 записей' style='font-size: 12.335483870968pt;'>шаблоны</a>
<a href='http://drupalhint.ru/tags/yarlyiki' class='tag-link-9' title='1 запись' style='font-size: 8pt;'>ярлыки</a></div>
		</div>
		<div id="fbox2" class="box2">
      <div id="calendar-2" class="widget widget_calendar"><h2>Календарь</h2><div id="calendar_wrap"><table id="wp-calendar">
	<caption>Ноябрь 2013</caption>
	<thead>
	<tr>
		<th scope="col" title="Понедельник">Пн</th>
		<th scope="col" title="Вторник">Вт</th>
		<th scope="col" title="Среда">Ср</th>
		<th scope="col" title="Четверг">Чт</th>
		<th scope="col" title="Пятница">Пт</th>
		<th scope="col" title="Суббота">Сб</th>
		<th scope="col" title="Воскресенье">Вс</th>
	</tr>
	</thead>

	<tfoot>
	<tr>
		<td colspan="3" id="prev"><a href="http://drupalhint.ru/2013/10" title="Посмотреть записи за Октябрь 2013">&laquo; Окт</a></td>
		<td class="pad">&nbsp;</td>
		<td colspan="3" id="next" class="pad">&nbsp;</td>
	</tr>
	</tfoot>

	<tbody>
	<tr>
		<td colspan="4" class="pad">&nbsp;</td><td>1</td><td>2</td><td>3</td>
	</tr>
	<tr>
		<td>4</td><td>5</td><td>6</td><td>7</td><td>8</td><td id="today">9</td><td>10</td>
	</tr>
	<tr>
		<td>11</td><td>12</td><td>13</td><td>14</td><td>15</td><td>16</td><td>17</td>
	</tr>
	<tr>
		<td>18</td><td>19</td><td>20</td><td>21</td><td>22</td><td>23</td><td>24</td>
	</tr>
	<tr>
		<td>25</td><td>26</td><td>27</td><td>28</td><td>29</td><td>30</td>
		<td class="pad" colspan="1">&nbsp;</td>
	</tr>
	</tbody>
	</table></div></div>		</div>
		<div id="fbox3" class="box2">
      <div id="search-3" class="widget widget_search"><h2>Поиск</h2><form method="get" action="http://drupalhint.ru">
    <fieldset>
        <input type="text" id="s" name="s" value="" />
        <input type="submit" value="Найти" class="btn" />
    </fieldset>
</form></div><div id="meta-4" class="widget widget_meta"><h2>Мета</h2>			<ul>
						<li><a href="http://drupalhint.ru/wp-login.php">Войти</a></li>
			<li><a href="http://drupalhint.ru/feed" title="Подпишитесь на RSS-ленту этого сайта"><abbr title="Really Simple Syndication">RSS</abbr> записей</a></li>
			<li><a href="http://drupalhint.ru/comments/feed" title="Последние комментарии ко всем записям в RSS"><abbr title="Really Simple Syndication">RSS</abbr> комментариев</a></li>
			<li><a href="http://ru.wordpress.org/" title="Сайт работает на WordPress &#8212; современной персональной платформе для публикаций.">WordPress.org</a></li>						</ul>
</div>		</div>
	</div>
	<p id="legal">&copy; Drupalhint, 2013. Cоздание веб сайта на Drupal. | 34 запрос(ов/а) / 0,236 сек. / 23.42 мб </p>
</div>
<!-- end footer -->


<!--WP Paste Analytics-->
<!-- Yandex.Metrika counter -->
<script type="text/javascript">
(function (d, w, c) {
    (w[c] = w[c] || []).push(function() {
        try {
            w.yaCounter20531782 = new Ya.Metrika({id:20531782,
                    webvisor:true,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true});
        } catch(e) { }
    });

    var n = d.getElementsByTagName("script")[0],
        s = d.createElement("script"),
        f = function () { n.parentNode.insertBefore(s, n); };
    s.type = "text/javascript";
    s.async = true;
    s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

    if (w.opera == "[object Opera]") {
        d.addEventListener("DOMContentLoaded", f, false);
    } else { f(); }
})(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="//mc.yandex.ru/watch/20531782" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->

<!--WP Paste Analytics-->
</body>
</html>
