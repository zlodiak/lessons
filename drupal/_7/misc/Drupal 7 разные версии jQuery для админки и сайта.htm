<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru" lang="ru" dir="ltr">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="canonical" href="http://prof-labs.ru/blog/drupal/160" />
<link rel="shortcut icon" href="/misc/favicon.ico" type="image/x-icon" />
<meta name="description" content="Различные версии jQuery в Drupal для административной части сайта и frontend. Решение проблем с jQuery Update." />
<meta name="dcterms.description" content="Сразу оговорюсь - речь идёт о DEV версии jQuery Update! Поставляемый &quot;из коробки&quot; в Drupal 7 jQuery 1.5 является не самой свежей версией и во многих проектах целесообразно использовать модуль jQuery Update, который позволяет использовать более свежую версию jQuery на сайте." />
<meta name="keywords" content="обновление jquery drupal,drupal 7,jquery,jquery update" />
<meta name="dcterms.date" content="2012-11-29T00:00:00Z" />
<meta name="copyright" content="PROF LABS" />
<link rel="canonical" href="http://prof-labs.ru/node/160" />
<meta name="revisit-after" content="1 day" />
  <title>Drupal 7 разные версии jQuery для админки и сайта</title>
  <link type="text/css" rel="stylesheet" media="all" href="/sites/all/themes/corolla/reset.css" />
  <link type="text/css" rel="stylesheet" media="all" href="/sites/default/files/css/css_115645df3b9b2ace14c36cf9493cfcbb.css" />
<link type="text/css" rel="stylesheet" media="print" href="/sites/default/files/css/css_30d6c0f2c6784a54ef1a787e18453808.css" />
  <style type="text/css" media="all">/* Base font size */
html {
  font-size: 14px;
}

/* Layout width */
body.two-sidebars #header-menu,
body.two-sidebars #header,
body.two-sidebars #main-columns {
  width: ;
  min-width:960px;
  max-width: 1400px;
}
body.one-sidebar #header-menu,
body.one-sidebar #header,
body.one-sidebar #main-columns {
  width: ;
  min-width: 960px;
  max-width: 1400px;
}
body.no-sidebars #header-menu,
body.no-sidebars #header,
body.no-sidebars #main-columns {
  width: ;
  min-width: 960px;
  max-width: 1400px;
}

/**
 * Color schemes
 */

/* Background */
body {
  background-color: #fbfbf6;
}
#header-menu .content > ul > li.active-trail {
  background-color: #fbfbf6;
}
/* Text (black) */
body,
#site-name a,
#header-menu .content li.active a,
h1.page-title,
.node h2.node-title,
.node h1.node-title a,
.node h2.node-title a,
.comment h3.title a,
.tabs ul.tabs li a,
pre,
code,
samp,
var,
table.update tr,
table.system-status-report tr {
  color: #3d3d3d;
}
#site-name a::-moz-selection {
  background-color: #3d3d3d;
}
#site-name a::selection {
  background-color: #3d3d3d;
}
.node-title a::-moz-selection {
  background-color: #3d3d3d;
}
.node-title a::selection {
  background-color: #3d3d3d;
}
/* Link (blue) */
a,
a.active,
li a.active {
  color: #157a9c;
}
legend {
  background-color: #157a9c;
}
/* Link hovered (orange) */
a:hover,
a:focus,
a.active:hover,
a.active:focus,
li a.active:hover,
li a.active:focus {
  color: #e14601;
  border-bottom-color: #e14601;
}
.node h1.node-title a:hover,
.node h2.node-title a:hover {
  color: #e14601;
}
/* Link underline (light blue) */
a {
  border-bottom: 1px solid #cfdde5;
}
/* Header menu (black) */
#header-menu-wrapper {
  background-color: #8e9e35;
}
/* Header menu hovered (orange) */
#header-menu .content li a:hover,
#header-menu .content li a:active,
#header-menu .content li a:focus {
  background-color: #626c25;
}
/* Slogan (orange) */
#site-slogan {
  color: #e14601;
}
#site-slogan::selection {
  background-color: #626c25;
}
#site-slogan::-moz-selection {
  background-color: #626c25;
}
.poll .bar .foreground {
  background-color: #626c25;
}
/* Border (gray) */
#page {
  border: 1px solid #e7e1ce;
}
/* Border strong (dark gray) */
#sidebar-first input,
#sidebar-second input {
  border: 1px solid #d2c8aa;
}
.tabs ul.tabs li a {
  border: 1px solid #d2c8aa;
}
/* Tab */
.tabs ul.tabs li a {
  background-color: #fbfbf6;
}
ul.vertical-tabs-list li a {
  background-color: #fbfbf6;
}
/* Block title (green) */
.block h2,
h2 {
  color: #779125;
}
.block h2::selection {
  color: #fff;
  background-color: #779125;
}
.block h2::-moz-selection {
  background-color: #779125;
  color: #fff;
}
/* Fieldset (gray) */
fieldset {
  background-color: #fdfdfb;
}
/* Fieldset border (dark gray) */
fieldset {
  border: 1px solid #dad6c9;
}

</style> 
  <script type="text/javascript" src="http://userapi.com/js/api/openapi.js?52"></script>
  <!--[if lte IE 8]>
  <link type="text/css" rel="stylesheet" href="/sites/all/themes/corolla/ie8.css" media="all" />
  <![endif]-->

  <!--[if lte IE 7]>
  <link type="text/css" rel="stylesheet" href="/sites/all/themes/corolla/ie7.css" media="all" />
  <![endif]-->

  <script type="text/javascript" src="/sites/default/files/js/js_d2ccfc130669ae83db2eafce86e7cdb7.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, { "basePath": "/", "externalpdf": false, "fancybox": { "options": { "width": "600", "height": "450", "padding": 10, "margin": 20, "titleShow": true, "titlePosition": "outside", "scrolling": "auto", "showCloseButton": 1, "showNavArrows": 1, "cyclic": 0, "opacity": 0, "overlayShow": 1, "overlayColor": "#666", "overlayOpacity": "0.3", "hideOnOverlayClick": 0, "hideOnContentClick": 1, "enableEscapeButton": 1, "centerOnScroll": 0, "autoScale": false, "easingIn": "swing", "easingOut": "swing", "changeFade": "fast", "changeSpeed": 300, "transitionIn": "fade", "speedIn": 300, "transitionOut": "fade", "speedOut": 300, "onStart": "", "onComplete": "", "onClosed": "", "onCleanup": "", "onCancel": "" }, "selector": "a[href^=\"/sites/default/files/users/\"]" }, "googleanalytics": { "trackOutbound": 1, "trackMailto": 1, "trackDownload": 1, "trackDownloadExtensions": "7z|aac|arc|arj|asf|asx|avi|bin|csv|doc|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls|xml|z|zip" }, "lightbox2": { "rtl": "0", "file_path": "/(\\w\\w/)sites/default/files", "default_image": "/sites/all/modules/lightbox2/images/brokenimage.jpg", "border_size": 10, "font_color": "000", "box_color": "fff", "top_position": "", "overlay_opacity": "0.8", "overlay_color": "000", "disable_close_click": 1, "resize_sequence": 0, "resize_speed": 400, "fade_in_speed": 400, "slide_down_speed": 600, "use_alt_layout": 0, "disable_resize": 0, "disable_zoom": 0, "force_show_nav": 0, "show_caption": 1, "loop_items": 0, "node_link_text": "Детали", "node_link_target": 0, "image_count": "Image !current of !total", "video_count": "Video !current of !total", "page_count": "Page !current of !total", "lite_press_x_close": "нажмите \x3ca href=\"#\" onclick=\"hideLightbox(); return FALSE;\"\x3e\x3ckbd\x3ex\x3c/kbd\x3e\x3c/a\x3e чтобы закрыть", "download_link_text": "", "enable_login": false, "enable_contact": false, "keys_close": "c x 27", "keys_previous": "p 37", "keys_next": "n 39", "keys_zoom": "z", "keys_play_pause": "32", "display_image_size": "original", "image_node_sizes": "()", "trigger_lightbox_classes": "", "trigger_lightbox_group_classes": "", "trigger_slideshow_classes": "", "trigger_lightframe_classes": "", "trigger_lightframe_group_classes": "", "custom_class_handler": "lightbox_ungrouped", "custom_trigger_classes": "", "disable_for_gallery_lists": 1, "disable_for_acidfree_gallery_lists": true, "enable_acidfree_videos": true, "slideshow_interval": 5000, "slideshow_automatic_start": true, "slideshow_automatic_exit": true, "show_play_pause": true, "pause_on_next_click": false, "pause_on_previous_click": true, "loop_slides": false, "iframe_width": 800, "iframe_height": 400, "iframe_border": 1, "enable_video": 0 }, "plabs": { "shift": 0 }, "cron": { "basePath": "/poormanscron", "runNext": 1374719872 }, "blog_entry": { "nid": "160" }, "BUE": { "templates": { "e3": { "iconpath": "/sites/all/modules/bueditor/icons", "buttons": [ [ "Bold", "\x3cstrong\x3e%TEXT%\x3c/strong\x3e", "bold.png", "B" ], [ "Italic", "\x3cem\x3e%TEXT%\x3c/em\x3e", "italic.png", "I" ], [ "tpl:dot", "", "dot.png", "" ], [ "Quote", "\x3cblockquote\x3e%TEXT%\x3c/blockquote\x3e", "quote.png", "Q" ], [ "Code", "\x3ccode\x3e%TEXT%\x3c/code\x3e", "code.png", "D" ], [ "tpl:dot", "", "dot.png", "" ], [ "Number list", "js:\nvar pos = E.replaceSelection(\'\x3col\x3e\\n  \x3cli\x3e\' + E.getSelection().replace(/\\r\\n?|\\n/g, \'\x3c/li\x3e\\n  \x3cli\x3e\') + \'\x3c/li\x3e\\n\x3c/ol\x3e\').posSelection().end - 11;\nE.makeSelection(pos, pos);", "ol.png", "O" ], [ "Bullet list", "js:\nvar pos = E.replaceSelection(\'\x3cul\x3e\\n  \x3cli\x3e\' + E.getSelection().replace(/\\r\\n?|\\n/g, \'\x3c/li\x3e\\n  \x3cli\x3e\') + \'\x3c/li\x3e\\n\x3c/ul\x3e\').posSelection().end - 11;\nE.makeSelection(pos, pos);", "ul.png", "N" ], [ "tpl:dot", "", "dot.png", "" ] ], "sprite": { "url": "http://prof-labs.ru/sites/default/files/bueditor-sprites/sprite_a0cff729d420b9790b7f6a1df1522495.png", "unit": 20, "x1": "/sites/all/modules/bueditor/icons/x1.png" } } }, "preset": { "edit-comment": "e3" } }, "ahah": { "ajax-comments-submit": { "url": "/ajax_comments/js", "event": "click", "keypress": null, "wrapper": "comment-form-content", "selector": "#ajax-comments-submit", "effect": "ajaxCommentsSubmit", "method": "before", "progress": { "type": "1bar", "message": "Пожалуйста, подождите..." }, "button": { "op": "Сохранить" } }, "ajax-comments-preview": { "url": "/ajax_comments/js", "event": "click", "keypress": null, "wrapper": "comment-preview", "selector": "#ajax-comments-preview", "effect": "ajaxCommentsPreview", "method": "append", "progress": { "type": "1bar", "message": "Пожалуйста, подождите..." }, "button": { "op": "Предпросмотр" } } }, "language_mode": 0, "language_list": { "ru": { "language": "ru", "name": "Russian", "native": "Русский", "direction": "0", "enabled": "1", "plurals": "3", "formula": "(((($n%10)==1)\x26\x26(($n%100)!=11))?(0):((((($n%10)\x3e=2)\x26\x26(($n%10)\x3c=4))\x26\x26((($n%100)\x3c10)||(($n%100)\x3e=20)))?(1):2))", "domain": "", "prefix": "ru", "weight": "-10", "javascript": "51bfb886d3dc9c5e6b5b53fe4f9c045f" }, "en": { "language": "en", "name": "English", "native": "English", "direction": "0", "enabled": "1", "plurals": "0", "formula": "", "domain": "", "prefix": "", "weight": "0", "javascript": "" } }, "clean_url": "1", "comment_preview_required": false, "ajax_comments_rows_in_reply": "2", "ajax_comments_rows_default": "3", "ajax_comments_always_expand_form": 0, "ajax_comments_blink_new": 1, "comment_bonus_api_fold_comments": false, "ajax_comments_nid": "160", "boost": { "nid": "160", "q": "node/160", "title": "Drupal%207%20%D1%80%D0%B0%D0%B7%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%B5%D1%80%D1%81%D0%B8%D0%B8%20jQuery%20%D0%B4%D0%BB%D1%8F%20%D0%B0%D0%B4%D0%BC%D0%B8%D0%BD%D0%BA%D0%B8%20%D0%B8%20%D1%81%D0%B0%D0%B9%D1%82%D0%B0" } });
//--><!]]>
</script>
</head>
<body class="not-front not-logged-in page-node node-type-blog  one-sidebar" itemscope itemtype="http://schema.org/BlogPosting">
  <div id="fb-root"></div>
      <div id="header-menu-wrapper">
      <div id="header-menu">
        <div id="block-menu-primary-links" class="block block-menu">
  <div class="inner">
      <h2>Primary links</h2>
  
    <div class="content">
      <ul class="menu"><li class="leaf first active-trail"><a href="/blog">Блог</a></li>
<li class="leaf"><a href="/friends" title="Друзья и партнёры">Друзья и партнёры</a></li>
<li class="leaf"><a href="/portfolio">Портфолио</a></li>
<li class="leaf last"><a href="/node/118" title="Что мы делаем?">Что мы делаем?</a></li>
<li><a href="#" class="user-login">Войти</a></li></ul>    </div>
  </div>
</div>
        <div class="header-right"><div id="block-search-0" class="block block-search">
  <div class="inner">
  
    <div class="content">
      <form action="/blog/drupal/160"  accept-charset="UTF-8" method="post" id="search-block-form">
<div><div class="container-inline">
  <div class="form-item" id="edit-search-block-form-1-wrapper">
 <input type="text" maxlength="128" name="search_block_form" id="edit-search-block-form-1" size="15" value="Поиск" onblur="if (this.value == &#039;&#039;) {this.value = &#039;Поиск&#039;;}" onfocus="if (this.value == &#039;Поиск&#039;) {this.value = &#039;&#039;;}" class="form-text" />
</div>
<input type="image" name="" id="search-image"  class="form-submit" src="/sites/all/themes/corolla/images/search.png" alt="Поиск" title="Поиск" />
<input type="hidden" name="form_build_id" id="form-d62d4612cea951c49cfcc61f64eaa2b3" value="form-d62d4612cea951c49cfcc61f64eaa2b3"  />
<input type="hidden" name="form_id" id="edit-search-block-form" value="search_block_form"  />
</div>

</div></form>
    </div>
  </div>
</div>
</div>
        <div class="clear"></div>
      </div>
    </div>
  

  <div id="header-wrapper">
    <div id="header" class="clear-block">

              <div id="branding-wrapper" class="clear-block">
          <div id="branding">

            
                          <div id="name-and-slogan">
                                  <div id="site-name">
                    <a href="/" title="Главная" rel="home">prof-labs.ru</a>
                  </div>
                
                              <div id="site-slogan">Делись своими знаниями - это путь к бессмертию.</div>
                            </div> <!-- /name-and-slogan -->
            
          </div> <!-- /#branding -->
        </div> <!-- /#branding-wrapper -->
      
          </div> <!-- /#header -->
  </div> <!-- /#header-wrapper -->

  <div id="main-columns-wrapper">
    <div id="main-columns">
      
      
    <div id="sidebar-first" class="clear-block first">
    <div class="region region-sidebar-first">
      <div id="block-block-3" class="block block-block">
  <div class="inner">
      <h2>Рубрики</h2>
  
    <div class="content">
      <div class="item-list"><ul><li class="first"><a href="/category/rubriki/android">Android</a> (4)</li>
<li><a href="/category/rubriki/drupal">Drupal</a> (33)</li>
<li><a href="/category/rubriki/joomla">Joomla</a> (2)</li>
<li><a href="/category/rubriki/mariadb-and-mysql">MariaDB and MySQL</a> (2)</li>
<li><a href="/category/rubriki/microsoft">Microsoft</a> (8)</li>
<li><a href="/category/rubriki/nix">nix</a> (39)</li>
<li><a href="/category/rubriki/prof-labs">ProF Labs</a> (1)</li>
<li class="last"><a href="/category/rubriki/web-dev">Web Dev</a> (1)</li>
</ul></div>    </div>
  </div>
</div>
<div id="block-plabs-2" class="block block-plabs block-comments">
      <h2>Комменты <img src="/sites/all/themes/corolla/images/prev.png" alt="Prev" class="prev" title="Сюда"> <img src="/sites/all/themes/corolla/images/next.png" alt="Next" class="next" title="Туда"></h2>
  
    <div class="content">
      <div id="comments-list"><div class="comment-line "><div class="comment-line-date"><b>Антон</b> в <span>5 Июл 2013 - 12:21</span></div><div class="comment-line-body">А у меня шаблон page--taxonomy.tpl.php сам заработал. А template.php чистый.<a href="/blog/drupal/139#comment-543" class="comment-link">→</a></div></div><div class="comment-line "><div class="comment-line-date"><b>ten</b> в <span>23 Июн 2013 - 09:48</span></div><div class="comment-line-body">Очень помогла статья! Автору спасибо
Была задержка в отправке сообщений и при пе<a href="/blog/nix/80#comment-500" class="comment-link">→</a></div></div><div class="comment-line "><div class="comment-line-date"><b>Гость</b> в <span>9 мая 2013 - 19:05</span></div><div class="comment-line-body">Спасибо, помогло!Флопик епть....)))<a href="/blog/microsoft/136#comment-411" class="comment-link">→</a></div></div><div class="comment-line "><div class="comment-line-date"><b>Гость</b> в <span>17 Апр 2013 - 13:27</span></div><div class="comment-line-body">У меня так: 
189.135.84.231	mail.mydomen.ru  wt-System-Product-Name<a href="/blog/nix/80#comment-385" class="comment-link">→</a></div></div><div class="comment-line "><div class="comment-line-date"><b>Гость</b> в <span>17 Апр 2013 - 13:25</span></div><div class="comment-line-body">Настроил по инструкции, НО
после команды hostname показывает: wt-System-Product-<a href="/blog/nix/80#comment-384" class="comment-link">→</a></div></div><div class="comment-line "><div class="comment-line-date"><b>Илья</b> в <span>17 Апр 2013 - 11:06</span></div><div class="comment-line-body">Добрый день! Как только не пробовал,все-равно не работает. $(&#039;.picktime&#039;).timepi<a href="/blog/drupal/111#comment-383" class="comment-link">→</a></div></div></div>    </div>
</div>
    </div>
  </div> <!-- /#sidebar-first -->

<div id="main-wrapper" class=" last">
  <div id="main">
    <div id="page" class="clear-block">
      
      
      
      
      <a id="main-content"></a>
              <h1 class="page-title"></h1>
      
      
              <div class="region region-content">
          <div id="node-160" class="drupal node">

  <div class="node-header">
     
          <img src="/sites/all/themes/corolla/images/ico-drupal.png" alt="drupal" itemprop="image"/><h1 class="node-title" itemprop="name">Drupal 7 разные версии jQuery для админки и сайта</h1>
              <div class="terms terms-inline"><ul class="links inline"><li class="taxonomy_term_96 first"><a href="/category/rubriki/drupal" rel="tag" title="Наш опыт с CMF Drupal.
http://www.drupal.org/">Drupal</a></li>
<li class="taxonomy_term_75"><a href="/category/metki-zapisi/drupal-7" rel="tag" title="">drupal 7</a></li>
<li class="taxonomy_term_185"><a href="/category/tags/jquery" rel="tag" title="">jquery</a></li>
<li class="taxonomy_term_222 last"><a href="/category/tags/jquery-update" rel="tag" title="">jquery update</a></li>
</ul></div>
    
    
  </div> <!-- /.node-header -->

  <div class="content">
        <p><strong>Сразу оговорюсь - речь идёт о DEV версии jQuery Update!</strong></p>
<p>Поставляемый "из коробки" в Drupal 7 jQuery 1.5 является не самой свежей версией и во многих проектах целесообразно использовать модуль <a href="http://drupal.org/project/jquery_update">jQuery Update</a>, который позволяет использовать более свежую версию jQuery на сайте. </p>
<p>Как правило <strong>jquery update</strong> требуется для сторонних модулей (например <a href="http://drupal.org/project/fancybox">Fancybox</a>) тут и возникают сложности.</p>
<p>Ядро <strong>Drupal</strong> использует <strong>jQuery</strong> для таких вещей, как <a href="http://api.drupal.org/api/drupal/developer!topics!forms_api_reference.html/7#states">#states</a> в формах, а также многие модули вроде Views работающие с этим механизмом. Эти механизмы начинают сбоить при включении хотя бы jQuery 1.7 для всего сайта. Проблемы с полями, динамические формы во <strong>Views</strong>, а также <strong>jQuery UI</strong>. </p>
<p>Решение очень простое - использовать jQuery 1.5 для всей административной части сайта:</p>
<div class="geshifilter"><div class="drupal6 geshifilter-drupal6" style="font-family:monospace;"><span style="color: #808080; font-style: italic;">/**<br />
&nbsp;* Implements hook_module_implements_alter().<br />
&nbsp;*/</span><br />
<span style="color: #000000; font-weight: bold;">function</span> modulename_module_implements_alter<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&amp;</span><span style="color: #0000ff;">$implementations</span>, <span style="color: #0000ff;">$hook</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span><br />
&nbsp; <span style="color: #b1b100;">if</span> <span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$hook</span> == <span style="color: #ff0000;">'library_alter'</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// Отправляем jQuery update в конец массива $implementations</span><br />
&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// Тем самым убедившись, что наш hook_library_alter будет вызван раньше jQuery Update</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">$jquery_update</span> = <span style="color: #0000ff;">$implementations</span><span style="color: #66cc66;">&#91;</span><span style="color: #ff0000;">'jquery_update'</span><span style="color: #66cc66;">&#93;</span>;<br />
&nbsp; &nbsp; <a href="http://www.php.net/unset"><span style="color: #000066;">unset</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$implementations</span><span style="color: #66cc66;">&#91;</span><span style="color: #ff0000;">'jquery_update'</span><span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#41;</span>;<br />
&nbsp; &nbsp; <span style="color: #0000ff;">$implementations</span><span style="color: #66cc66;">&#91;</span><span style="color: #ff0000;">'jquery_update'</span><span style="color: #66cc66;">&#93;</span> = <span style="color: #0000ff;">$jquery_update</span>;<br />
&nbsp; <span style="color: #66cc66;">&#125;</span><br />
<span style="color: #66cc66;">&#125;</span></div></div>
<p>После чего реализуем <a href="http://api.drupal.org/api/drupal/modules%21system%21system.api.php/function/hook_library_alter/7">hook_library_alter</a> в своём модуле, в котором форсируем jQuery 1.5 для админки:</p>
<div class="geshifilter"><div class="drupal6 geshifilter-drupal6" style="font-family:monospace;"><span style="color: #808080; font-style: italic;">/**<br />
&nbsp;* Implements hook_library_alter().<br />
&nbsp;*/</span><br />
<span style="color: #000000; font-weight: bold;">function</span> modulename_library_alter<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&amp;</span><span style="color: #0000ff;">$libraries</span>, <span style="color: #0000ff;">$module</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span><br />
&nbsp; <span style="color: #b1b100;">if</span> <span style="color: #66cc66;">&#40;</span>path_is_admin<span style="color: #66cc66;">&#40;</span>current_path<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span><br />
&nbsp; &nbsp; <a href="http://www.php.net/global"><span style="color: #000066;">global</span></a> <span style="color: #0000ff;">$conf</span>;<br />
&nbsp; &nbsp; <span style="color: #0000ff;">$conf</span><span style="color: #66cc66;">&#91;</span><span style="color: #ff0000;">'jquery_update_jquery_version'</span><span style="color: #66cc66;">&#93;</span> = <span style="color: #ff0000;">'1.5'</span>;<br />
&nbsp; <span style="color: #66cc66;">&#125;</span><br />
<span style="color: #66cc66;">&#125;</span></div></div>
<p>Очищаем кэш:</p>
<blockquote>drush cc all</blockquote>
<p>Теперь на сайте работает jQuery 1.7 и работают всякие fancybox, а в админке прекрасно настраиваются Views и нет проблем с jQuery UI</p>
<p>Идея взята <a href="http://drupal.org/node/1766240#comment-6763650">тут</a>.</p><div class="prof-list"><h3>Похожие материалы</h3><ul><li class="first"><a href="/blog/drupal/117">Drupal 7 маска для ввода телефонных номеров</a></li>
<li><a href="/blog/drupal/163">Drupal 7 подключение к другой базе данных</a></li>
<li class="last"><a href="/blog/drupal/172">Drupal 7 скрываем ссылки в Taxonomy Menu основываясь на правах Taxonomy Access Control Lite</a></li>
</ul></div>  </div>
  
      <div class="node-social clearfix">
    <div class="author">С вами был <a href="/users/prof">prof</a></div>
    <div class="twit"><a href="https://twitter.com/share" class="twitter-share-button" data-via="profak" data-lang="ru" data-size="large">Twit</a></div>
    <div class="fb-like" data-href="" data-send="false" data-layout="button_count" data-width="100" data-show-faces="true" data-font="tahoma"></div>
    <div class="plus"><div class="g-plusone" data-count="true"></div></div>
    <div id="vk-like"></div>
  </div>
    
  <div class="links-wrapper">
      </div>

</div>
<div id="comments">
  <h2>Комментарии</h2><div class="box">

  <h2>Отправить комментарий</h2>

  <div class="content"><div id="comment-preview"></div><form action="/comment/reply/160"  accept-charset="UTF-8" method="post" id="comment-form">
<div><div class="side"><div class="form-item" id="edit-name-wrapper">
 <label for="edit-name">Ваше имя: </label>
 <input type="text" maxlength="60" name="name" id="edit-name" size="30" value="Гость" class="form-text" />
</div>
</div><div class="side"><div class="form-item" id="edit-mail-wrapper">
 <label for="edit-mail">Электронная почта: </label>
 <input type="text" maxlength="64" name="mail" id="edit-mail" size="30" value="" class="form-text" />
</div>
</div><div class="clear"></div><input type="hidden" name="pid" id="edit-pid" value=""  />
<input type="hidden" name="nid" id="edit-nid" value="160"  />
<input type="hidden" name="form_build_id" id="form-f2b1ffc850db8b3e39aabb6444f742bc" value="form-f2b1ffc850db8b3e39aabb6444f742bc"  />
<input type="hidden" name="form_id" id="edit-comment-form" value="comment_form"  />
<div class="clear-block"><div class="form-item" id="edit-notify-wrapper">
 <label class="option" for="edit-notify"><input type="checkbox" name="notify" id="edit-notify" value="1"   class="form-checkbox" /> Уведомлять меня о новых комментариях</label>
</div>
<div class="form-radios"><div class="form-item" id="edit-notify-type-1-wrapper">
 <label class="option" for="edit-notify-type-1"><input type="radio" id="edit-notify-type-1" name="notify_type" value="1"   class="form-radio" /> Все комментарии</label>
</div>
<div class="form-item" id="edit-notify-type-2-wrapper">
 <label class="option" for="edit-notify-type-2"><input type="radio" id="edit-notify-type-2" name="notify_type" value="2"   class="form-radio" /> Ответы на мой комментарий</label>
</div>
</div></div><div class="main"><div class="form-item" id="edit-comment-wrapper">
 <label for="edit-comment">Комментарий: <span class="form-required" title="Обязательно для заполнения.">*</span></label>
 <textarea cols="60" rows="15" name="comment" id="edit-comment"  class="form-textarea required"></textarea>
</div>
</div><div class="ajax-controls"><input type="submit" name="op" id="ajax-comments-submit" value="Сохранить"  class="form-submit" />
</div>
</div></form>
</div>
</div>
</div>
        </div>
      
              <div class="region region-content-bottom">
          <div id="block-user-0" class="block block-user">
  <div class="inner">
      <h2>Вход на сайт</h2>
  
    <div class="content">
      <form action="/blog/drupal/160?destination=node%2F160"  accept-charset="UTF-8" method="post" id="user-login-form">
<div><div class="form-item" id="edit-name-1-wrapper">
 <label for="edit-name-1">Имя пользователя: <span class="form-required" title="Обязательно для заполнения.">*</span></label>
 <input type="text" maxlength="60" name="name" id="edit-name-1" size="15" value="" class="form-text required" />
</div>
<div class="form-item" id="edit-pass-wrapper">
 <label for="edit-pass">Пароль: <span class="form-required" title="Обязательно для заполнения.">*</span></label>
 <input type="password" name="pass" id="edit-pass"  maxlength="60"  size="15"  class="form-text required" />
</div>
<input type="submit" name="op" id="edit-submit" value="Войти"  class="form-submit" />
<div class="item-list"><ul><li class="first last"><a href="/user/password" title="Запросить новый пароль по электронной почте.">Забыли пароль?</a></li>
</ul></div><input type="hidden" name="form_build_id" id="form-6f0adbb0c2eaf00ebc53123c0ef9ce62" value="form-6f0adbb0c2eaf00ebc53123c0ef9ce62"  />
<input type="hidden" name="form_id" id="edit-user-login-block" value="user_login_block"  />

</div></form>
    </div>
  </div>
</div>
<div id="block-boost-stats" class="block block-boost">
  <div class="inner">
      <h2>Популярное содержимое</h2>
  
    <div class="content">
      <div id="boost-stats"></div><noscript><div style="display:inline;"><img src="/boost_stats.php?nocache=1&amp;nid=160&amp;title=Drupal%207%20%D1%80%D0%B0%D0%B7%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%B5%D1%80%D1%81%D0%B8%D0%B8%20jQuery%20%D0%B4%D0%BB%D1%8F%20%D0%B0%D0%B4%D0%BC%D0%B8%D0%BD%D0%BA%D0%B8%20%D0%B8%20%D1%81%D0%B0%D0%B9%D1%82%D0%B0&amp;qq=node/160" alt="" /></div></noscript>    </div>
  </div>
</div>
        </div>
                </div> <!-- /#page -->


    <div id="closure">
      <div id="info">
         Оригинальная тема: Corolla.
      </div>

          </div> <!-- /#closure -->

  </div> <!-- /#main -->
</div> <!-- /#main-wrapper -->



    </div> <!-- /#main-columns -->
  </div> <!-- /#main-columns-wrapper -->
  
  <script type="text/javascript">
<!--//--><![CDATA[//><!--
$.getJSON(Drupal.settings.basePath + "boost_stats.php", {nocache: "1", js: "1", nid: Drupal.settings.boost.nid, qq: Drupal.settings.boost.q, title: Drupal.settings.boost.title, referer: document.referrer}, function(response) {
  $.each(response, function(id, contents) {
    if (contents == 'NULL') {
      $(id).parent().parent().hide();
    }
    else {
      $(id).html(contents);
    }
  });
});
//--><!]]>
</script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
var _gaq = _gaq || [];_gaq.push(["_setAccount", "UA-13107314-3"]);_gaq.push(["_gat._anonymizeIp"]);_gaq.push(["_trackPageview"]);(function() {var ga = document.createElement("script");ga.type = "text/javascript";ga.async = true;ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";var s = document.getElementsByTagName("script")[0];s.parentNode.insertBefore(ga, s);})();
//--><!]]>
</script>
<!-- Yandex.Metrika counter --><script type="text/javascript">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter16967023 = new Ya.Metrika({id:16967023, enableAll: true, webvisor:true}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="//mc.yandex.ru/watch/16967023" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter -->
</body>
</html>
<!-- Page cached by Boost @ 2013-07-25 05:08:11, expires @ 2013-07-25 06:08:11 -->
