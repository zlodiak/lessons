<!DOCTYPE html><!-- html5 -->
<html lang="ru">
<head>	<title>&#1758; &rarr; Читать Урок  Регионы.</title>
		<meta name="keywords" content='Урок Регионы.'>
	<meta name="description" content='Урок Регионы. Курс Drupal 7, Разработка модулей'>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!--	<meta http-equiv="content-language" content="ru">	-->
	<meta name="author" Lang="ru" content="RaMech">
    <link rel="index" href="/" title="Home">
			<!--	+css (_static)	-->
				<link rel="stylesheet" href="http://ramech.net/css/template/05658d49470499b8e48eed0fc8d160ad.css" type="text/css"/>
		<!--	-css (_static)	-->
	 
			 
		<!--	+js	-->
		<script type="text/javascript" src="http://ramech.net/js/template/14b056b1d46114fa7e316c4c454126d7.js" ></script>
		<!--	-js	-->
	 

	<meta name='yandex-verification' content='57241eaa8aab55ef' />
	<!--[if IE]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-25948294-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
	</head>

<body>
	<div id="body">
		<div id="body_container">
			<div id="nanoFastBox"><!--nanoFast-begin-->
	
<style>
body {
	background-position: 0 -67px;
}
</style>
	<header id="topPan">
		<nav id="menuBox">
			<table class="nanoStructure">
			<tr>
				<td>
					<div style="float:left;">
						<div class="menuItem"><a href="/" data-object="nanoFast">&#1758;&nbsp;Главная</a></div>
						<div class="menuItem"><a href="http://ramech.net/courses">&#1160;&nbsp;Курсы</a></div>
						<div class="menuItem"><a href="http://ramech.net/docs">&#8415;&nbsp;Справочники</a></div>
						<div class="menuItem"><a href="http://ramech.net/lessons" title="Уроки">Уроки</a></div>
					</div>
					
				</td>
				<td>
					<div style="float:right;">
						<div class="menuItem"><a href="http://ramech.net/account/login">Войти</a></div>
					</div>
				</td>
			</tr>
			</table>
		</nav>
			</header>

<!--bobyPan -->
<div id="bodyPan">
<table id="bodyPanStruct">
<tr>
	<!--leftPan -->
	<td id="leftPan">
			
	
	
	
		<div class="minWidth"></div>
			
		<div style="margin-top:20px;">
			Друзья!<br>
			<img src="/themes/template/images/jenya.jpg">
			Спасибо большое за поддержку и помощь.<br>
			<br>
			Подробности:<br>
			<a href="http://vk.com/spasemzhenechku">ВКонтакте</a><br>
			<a href="http://spasemgenechku.narod.ru">spasemgenechku.narod.ru</a><br>
			<a href="http://facebook.com/groups/313342142114357">facebook</a><br>
			<a href="http://odnoklassniki.ru/group/54532791926801">odnoklassniki</a><br>
			<a href="http://stranamam.ru/community/4558408/">stranamam.ru</a><br>
		</div>
		
				<br />
		<br />
		<br />
		
				<script type="text/javascript"><!--
google_ad_client = "ca-pub-3229208152512584";
google_ad_slot = "4932451513";
google_ad_width = 160;
google_ad_height = 600;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
		
	</td>
	<!--leftPan close -->
	<!--rightPan -->
	<td id="rightPan">
<div id="selectable-content">
									<section>
											<h1>Урок  - Регионы</h1>
											<div id="nanoCrumbsBox">
														<a href="http://ramech.net/" >Главная</a>&nbsp;&raquo; 
																					<a href="http://ramech.net/courses" >Курсы</a>&nbsp;&raquo; 
																					<a href="http://ramech.net/courses/drupal7-development" >Курс Drupal 7, Разработка модулей</a>&nbsp;&raquo; 
											<span title="">Урок  - Регионы</span>
	</div>
					<div id="nanoTabsBox">
	<ul>
		<li><a href="http://ramech.net/material/edit/215" class="nanoLinkEdit">Править</a>	</ul>
</div>
				</section>
						<script type="text/javascript"><!--
google_ad_client = "ca-pub-3229208152512584";
google_ad_slot = "3992911268";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
			<!-- end #logo -->
			<div id="content">
								<section class="teaserBox">	<div class="teaserBox__border">		<table class="teaserBox__table">		<tr>			<td class="teaserBox__imageCell">				<div class="coursesBox__imageBox" style="background-image:url(http://ramech.net/images/courseLogo/course/49/logo.png);">				</div>			</td>			<td class="">				<div class="teaserBox__header">					<h2 class="teaserBox__h2" id="teaserBox__h2_title">						<div>Обучающий онлайн курс</div>						<a class="teaserBox__link" href="http://ramech.net/courses/drupal7-development">							<span class="materialTitleReplace">								Drupal 7, Разработка модулей							</span>						</a>					</h2>									</div>										<div>											</div>					<div style="text-align:right;">										Лицензия: Копирование запрещено.					</div>				<!--token:html-->							</td>		</tr>		</table>	</div>	</section><div class="lessonParter">
<table>
<tr>
	<td style="width:20%"></td>
	<td style="width:20%"></td>
	<td style="width:20%"></td>
	<td style="width:20%"></td>
	<td style="width:20%"></td>
</tr>
			<tr>
			<td colspan="5" style="text-align:center">&uarr;&nbsp;<a href="http://ramech.net/courses/drupal7-development/theme-info.html" title=".">Файл описания темы *.info.</a></td>
		</tr>
	<tr>
	<td>&nbsp;</td>
	<td colspan="3" style="text-align: center;"><strong>Урок  - Регионы</strong></td>
	<td>&nbsp;</td>
</tr>
<tr>
	<td colspan="2" style="text-align: left;">
					<a href="http://ramech.net/courses/drupal7-development/theme-info.html" class="buttonPredNext">
				&larr;&nbsp;Предыдущий урок<br>
				<div style="padding-right:0px">Урок  - Файл описания темы *.info.</div>
			</a>
			</td>
	<td>&nbsp;</td>
	<td colspan="2" style="text-align: right;">
					<a href="http://ramech.net/courses/drupal7-development/theme-tpl.php.html" class="buttonPredNext">
				Следующий урок&nbsp;&rarr;<br>
				<div style="padding-right:0px">Урок  - Темизация шаблонами</div>
			</a>
			</td>
</tr>
</table>
</div>
<div id="lessonContent">
<p>Для использования регионов необходимо сделать два шага:</p>
<ul>
<li>Определить регион в теме (в info-файле темы)</li>
<li>Указать место размположения региона в файле html.tpl.php</li>
</ul>
<h2>Определение региона теме.</h2>
<p>Для определения регионов в файле темы используется секция <strong>regions</strong>:</p>
<pre><code class="plain ini"><span class="comment">; $Id:</span> <br /><span class="setting">name = <span class="value">Ramech theme</span></span> <span class="setting"><br />description = <span class="value">Simple theme </span></span> <span class="setting"><br />version = <span class="value"><span class="number">1.1</span> </span></span> <br /><span class="setting">core = <span class="value"><span class="number">7</span>.x </span></span> <span class="setting"><br /><br />regions[header] = <span class="value">Header </span></span> <span class="setting"><br />regions[content] = <span class="value">Content </span></span> <span class="setting"><br />regions[sidebar_first] = <span class="value">Sidebar first </span></span> <span class="setting"><br />regions[sidebar_second] = <span class="value">Sidebar second</span></span><span class="setting"><br />regions[footer] = <span class="value">Footer<br /></span></span></code><code class="plain ini"><span class="setting">regions[page_top] = Page top<br />regions[page_bottom] = Page bottom</span></code></pre>
<p>Если необходимо внести изменения в список регионов (добавить регион, удалить регион), то необходимо учитывать следующее:</p>
<ul>
<li>Обязательно необходимо включить регион "content".<br /> Это связано с тем, что основное содержимое страницы, в Drupal 7, рассматривается как блок (блок называется Content). По умолчанию блок Content устанавливается в регион "content". Чтобы избежать пропадания содержимого при выводе регион content сделан обязательным.</li>
<li>Рекомендуется добавлять регион "help"(помощь)<br />Регион "help" теперь обеспечивает вывод помощи как блочного элемента. Это также означает что содержимое ваших подсказок/помощи может описываться в block.tpl.php. По умолчанию, тема будет выводить текст помощи в этом регионе, но это может быть изменено в разделе администрированя блоков.<br />Исключение региона "help" не приведет к нарушению работы сайта, но рекомендуется добавлять в тему.</li>
<li>Рекомендуется добавлять регион&nbsp; "highlight"(выделение).<br />Регион "highlight" является заменой устаревшего параметра "миссия сайта"($mission) предыдущих версий Drupal. Сейчас, если необходимо создать аналог текста "миссия сайта" на странице, достаточно создавать новый блок.<br />Исключение региона "highlight" не приведет к нарушению работы сайта, но рекомендуется добавлять в тему.</li>
</ul>
<h2>Скрытые регионы.</h2>
<p>Скрыте регионы - это регионы, которые используются для специфических задач ядра Drupal 7 или модулей Drupal 7 и не предназначены для отображения в панели администрирования.</p>
<p>Для использования скрытых регионов необходимо определить скрытый регион как обычно:</p>
<pre><code class="plain ini"><span class="comment">; $Id:</span> <br /><span class="setting">name = <span class="value">Ramech theme</span></span> <span class="setting"><br />description = <span class="value">Simple theme </span></span> <span class="setting"><br />version = <span class="value"><span class="number">1.1</span> </span></span> <br /><span class="setting">core = <span class="value"><span class="number">7</span>.x </span></span> <span class="setting"><br /><br />regions[header] = <span class="value">Header </span></span> <span class="setting"><br />regions[content] = <span class="value">Content </span></span> <span class="setting"><br />regions[sidebar_first] = <span class="value">Sidebar first </span></span> <span class="setting"><br />regions[sidebar_second] = <span class="value">Sidebar second</span></span><span class="setting"><br />regions[footer] = <span class="value">Footer<br /></span></span></code><code class="plain ini"><span class="setting">regions[page_top] = Page top<br />regions[page_bottom] = Page bottom<br /></span></code><code class="plain ini"><span class="setting"><span class="value">regions[secret] = Secret region<br /></span></span></code></pre>
<p>Далее необходимо поместить новый регион в секцию скрытых регионов:</p>
<pre><code class="plain ini"><span class="setting"><span class="value">regions_hidden[] = secret<br /></span></span></code></pre>
<p>Вместе будет выглядеть так:</p>
<pre><code class="plain ini"><span class="comment">; $Id:</span> <br /><span class="setting">name = <span class="value">Ramech theme</span></span> <span class="setting"><br />description = <span class="value">Simple theme </span></span> <span class="setting"><br />version = <span class="value"><span class="number">1.1</span> </span></span> <br /><span class="setting">core = <span class="value"><span class="number">7</span>.x </span></span> <span class="setting"><br /><br />regions[header] = <span class="value">Header</span></span><span class="setting"><br />regions[content] = <span class="value">Content</span></span><span class="setting"><br />regions[sidebar_first] = <span class="value">Sidebar first </span></span> <span class="setting"><br />regions[sidebar_second] = <span class="value">Sidebar second</span></span><span class="setting"><br />regions[footer] = <span class="value">Footer<br /></span></span></code><code class="plain ini"><span class="setting">regions[page_top] = Page top<br />regions[page_bottom] = Page bottom<br /></span></code><code class="plain ini"><span class="setting"><span class="value">regions[secret] = Secret region<br /><br />regions_hidden[] = secret</span></span></code></pre>
<p>Теперь, когда вы знаете что такое скрытые регионы, пришло время рассказать о двух новых предопределенных скрытых регионах, которые вы могли заметить выше: <strong>page_top</strong> и <strong>page_bottom</strong>. Если вы переопределяете данные регионы, то вам <strong>не нужно</strong> определять их в секции regions_hidden[], так как они уже предопределены системой.</p>
<p>Регион "page_top" используется для вывода некоторых неконфигурируемых блоков ядра в начале HTML-документе. Регион "page_top" необходимо выводить в шаблоне html.tpl.php после открывающего тега &lt;body&gt;, перед любыми другими элементами разметки.</p>
<pre><code class="bash">&lt;/head&gt;<br />&lt;body class=<span class="string">"&lt;?php print <span class="variable">$classes</span>; ?&gt;"</span>&gt;<br /> &lt;?php print <span class="variable">$page_top</span>; ?&gt; </code></pre>
<p>Регион "page_bottom" используется для вывода некоторых неконфигурируемых блоков ядра в конце HTML-документа. Регион "page_bottom" необходимо выводить в шаблоне html.tpl.php перед закрывающим тегом &lt;/body&gt;, после всех элементов разметки. В drupal 6 аналогом такого действия являлась переменной $closure.</p>
<pre><code class="php"> <span class="preprocessor">&lt;?php</span> <span class="keyword">print</span> <span class="variable">$page_bottom</span>; <span class="preprocessor">?&gt;<br /></span> &lt;/body&gt;<br />&lt;/html&gt;</code></pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>Во-вторых, упразднены некоторые переменные: $taxonomy, $mission (введен регион Hilited), $footer_message (выводится в регионе Footer), $help (введен регион Help). Соответственно, если этих регионов нет в вашей теме - надо добавить их в файл youtheme.info и затем вставить в нужное место файла page.tpl.php.</p>
<p>Кстати, переменные сайдбаров получили более логичные и понятные имена: вместо $right и $left - $sidebar_first и $sidebar_second. Так же изменились имена переменных prymary links и secondary links, теперь это $main_menu и $secondary_menu.</p></div>			
			<div class="lessonParter">
<table>
<tr>
	<td style="width:20%"></td>
	<td style="width:20%"></td>
	<td style="width:20%"></td>
	<td style="width:20%"></td>
	<td style="width:20%"></td>
</tr>
			<tr>
			<td colspan="5" style="text-align:center">&uarr;&nbsp;<a href="http://ramech.net/courses/drupal7-development/theme-info.html" title=".">Файл описания темы *.info.</a></td>
		</tr>
	<tr>
	<td>&nbsp;</td>
	<td colspan="3" style="text-align: center;"><strong>Урок  - Регионы</strong></td>
	<td>&nbsp;</td>
</tr>
<tr>
	<td colspan="2" style="text-align: left;">
					<a href="http://ramech.net/courses/drupal7-development/theme-info.html" class="buttonPredNext">
				&larr;&nbsp;Предыдущий урок<br>
				<div style="padding-right:0px">Урок  - Файл описания темы *.info.</div>
			</a>
			</td>
	<td>&nbsp;</td>
	<td colspan="2" style="text-align: right;">
					<a href="http://ramech.net/courses/drupal7-development/theme-tpl.php.html" class="buttonPredNext">
				Следующий урок&nbsp;&rarr;<br>
				<div style="padding-right:0px">Урок  - Темизация шаблонами</div>
			</a>
			</td>
</tr>
</table>
</div>
			</div>
</div>
	</td>
	<!--rightPan close -->
</tr>
</table>
</div>
			<!--nanoFast-end--></div>
		</div>
	</div>
	<footer id="footer">
		<table class="nanoStructure">
			<tr>
				<td>
					</td>
			</tr>
		</table>
	</footer>
	<!-- Yandex.Metrika counter -->
<script type="text/javascript">
(function (d, w, c) {
    (w[c] = w[c] || []).push(function() {
        try {
            w.yaCounter1119670 = new Ya.Metrika({id:1119670,
                    clickmap:true,
                    accurateTrackBounce:true, webvisor:true});
        } catch(e) {}
    });
    
    var n = d.getElementsByTagName("script")[0],
        s = d.createElement("script"),
        f = function () { n.parentNode.insertBefore(s, n); };
    s.type = "text/javascript";
    s.async = true;
    s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

    if (w.opera == "[object Opera]") {
        d.addEventListener("DOMContentLoaded", f);
    } else { f(); }
})(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="//mc.yandex.ru/watch/1119670" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->


<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-16826146-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


<!-- begin of Top100 code -->
<script id="top100Counter" type="text/javascript" src="http://counter.rambler.ru/top100.jcn?2259548"></script>
<noscript>
<a href="http://top100.rambler.ru/navi/2259548/">
<img src="http://counter.rambler.ru/top100.cnt?2259548" alt="Rambler's Top100">
</a>
</noscript>
<!-- end of Top100 code -->
</body>
</html>
<!--
IP: 31.204.98.120
generate time: 0.5266349316-->
