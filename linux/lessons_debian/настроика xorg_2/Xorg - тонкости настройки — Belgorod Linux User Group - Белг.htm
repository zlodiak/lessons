<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="ru" dir="ltr">
<head>
<title>Xorg - тонкости настройки — Belgorod Linux User Group - Белгород</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8;charset=utf-8" />
<meta name="generator" content="MediaWiki 1.16.4" />
<link rel="shortcut icon" href="Xorg%20-%20тонкости%20настройки%20—%20Belgorod%20Linux%20User%20Group%20-%20Белгород_files/favicon0.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="/wiki/opensearch_desc.php" title="Belgorod Linux User Group - Белгород (ru)" />
<link title="Creative Commons" type="application/rdf+xml" href="/wiki/index.php?title=Xorg_-_%D1%82%D0%BE%D0%BD%D0%BA%D0%BE%D1%81%D1%82%D0%B8_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8&amp;action=creativecommons" rel="meta" />
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />
<link rel="alternate" type="application/atom+xml" title="Belgorod Linux User Group - Белгород — Atom-лента" href="/wiki/index.php?title=%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="Xorg%20-%20тонкости%20настройки%20—%20Belgorod%20Linux%20User%20Group%20-%20Белгород_files/shared00.css" media="screen" />
<link rel="stylesheet" href="Xorg%20-%20тонкости%20настройки%20—%20Belgorod%20Linux%20User%20Group%20-%20Белгород_files/commonPr.css" media="print" />
<link rel="stylesheet" href="Xorg%20-%20тонкости%20настройки%20—%20Belgorod%20Linux%20User%20Group%20-%20Белгород_files/main0000.css" media="screen" />
<!--[if lt IE 5.5000]><link rel="stylesheet" href="/wiki/skins/monobook/IE50Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 5.5000]><link rel="stylesheet" href="/wiki/skins/monobook/IE55Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 6]><link rel="stylesheet" href="/wiki/skins/monobook/IE60Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/wiki/skins/monobook/IE70Fixes.css?270" media="screen" /><![endif]-->
<link rel="stylesheet" href="/wiki/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" />
<link rel="stylesheet" href="/wiki/index.php?title=MediaWiki:Print.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" media="print" />
<link rel="stylesheet" href="/wiki/index.php?title=MediaWiki:Monobook.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" />
<link rel="stylesheet" href="/wiki/index.php?title=-&amp;action=raw&amp;maxage=18000&amp;gen=css" />
<script>
var skin="monobook",
stylepath="/wiki/skins",
wgUrlProtocols="http\\:\\/\\/|https\\:\\/\\/|ftp\\:\\/\\/|irc\\:\\/\\/|gopher\\:\\/\\/|telnet\\:\\/\\/|nntp\\:\\/\\/|worldwind\\:\\/\\/|mailto\\:|news\\:|svn\\:\\/\\/",
wgArticlePath="/wiki/index.php/$1",
wgScriptPath="/wiki",
wgScriptExtension=".php",
wgScript="/wiki/index.php",
wgVariantArticlePath=false,
wgActionPaths={},
wgServer="http://belgorod.lug.ru",
wgCanonicalNamespace="",
wgCanonicalSpecialPageName=false,
wgNamespaceNumber=0,
wgPageName="Xorg_-_тонкости_настройки",
wgTitle="Xorg - тонкости настройки",
wgAction="view",
wgArticleId=58,
wgIsArticle=true,
wgUserName=null,
wgUserGroups=null,
wgUserLanguage="ru",
wgContentLanguage="ru",
wgBreakFrames=false,
wgCurRevisionId=295,
wgVersion="1.16.4",
wgEnableAPI=true,
wgEnableWriteAPI=true,
wgSeparatorTransformTable=[",	.", " 	,"],
wgDigitTransformTable=["", ""],
wgMainPageTitle="Заглавная страница",
wgFormattedNamespaces={"-2": "Медиа", "-1": "Служебная", "0": "", "1": "Обсуждение", "2": "Участник", "3": "Обсуждение участника", "4": "Belgorod Linux User Group - Белгород", "5": "Обсуждение Belgorod Linux User Group - Белгород", "6": "Файл", "7": "Обсуждение файла", "8": "MediaWiki", "9": "Обсуждение MediaWiki", "10": "Шаблон", "11": "Обсуждение шаблона", "12": "Справка", "13": "Обсуждение справки", "14": "Категория", "15": "Обсуждение категории"},
wgNamespaceIds={"медиа": -2, "служебная": -1, "": 0, "обсуждение": 1, "участник": 2, "обсуждение_участника": 3, "belgorod_linux_user_group_-_белгород": 4, "обсуждение_belgorod_linux_user_group_-_белгород": 5, "файл": 6, "обсуждение_файла": 7, "mediawiki": 8, "обсуждение_mediawiki": 9, "шаблон": 10, "обсуждение_шаблона": 11, "справка": 12, "обсуждение_справки": 13, "категория": 14, "обсуждение_категории": 15, "участница": 2, "обсуждение участницы": 3, "изображение": 6, "обсуждение_изображения": 7, "image": 6, "image_talk": 7},
wgSiteName="Belgorod Linux User Group - Белгород",
wgCategories=["Настройка"],
wgRestrictionEdit=[],
wgRestrictionMove=[];
</script><script src="Xorg%20-%20тонкости%20настройки%20—%20Belgorod%20Linux%20User%20Group%20-%20Белгород_files/wikibits.js"></script>
<script src="Xorg%20-%20тонкости%20настройки%20—%20Belgorod%20Linux%20User%20Group%20-%20Белгород_files/ajax0000.js"></script>
<script src="/wiki/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=monobook&amp;270"></script>

</head>
<body class="mediawiki ltr ns-0 ns-subject page-Xorg_-_тонкости_настройки skin-monobook">
<div id="globalWrapper">
<div id="column-content"><div id="content" >
	<a id="top"></a>
	
	<h1 id="firstHeading" class="firstHeading">Xorg - тонкости настройки</h1>
	<div id="bodyContent">
		<h3 id="siteSub">Материал из Belgorod Linux User Group - Белгород</h3>
		<div id="contentSub"></div>
		<div id="jump-to-nav">Перейти к: <a href="">навигация</a>, <a href="">поиск</a></div>
		<!-- start content -->
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Содержание</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href=""><span class="tocnumber">1</span> <span class="toctext">Начало</span></a></li>
<li class="toclevel-1 tocsection-2"><a href=""><span class="tocnumber">2</span> <span class="toctext">Базовая настройка</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href=""><span class="tocnumber">2.1</span> <span class="toctext">Общие моменты</span></a></li>
<li class="toclevel-2 tocsection-4"><a href=""><span class="tocnumber">2.2</span> <span class="toctext">Nvidia</span></a></li>
<li class="toclevel-2 tocsection-5"><a href=""><span class="tocnumber">2.3</span> <span class="toctext">ATI/AMD</span></a></li>
<li class="toclevel-2 tocsection-6"><a href=""><span class="tocnumber">2.4</span> <span class="toctext">Intel</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href=""><span class="tocnumber">3</span> <span class="toctext">Расширенная настройка</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href=""><span class="tocnumber">3.1</span> <span class="toctext">Nvidia</span></a></li>
<li class="toclevel-2 tocsection-9"><a href=""><span class="tocnumber">3.2</span> <span class="toctext">ATI/AMD</span></a></li>
<li class="toclevel-2 tocsection-10"><a href=""><span class="tocnumber">3.3</span> <span class="toctext">Intel</span></a>
<ul>
<li class="toclevel-3 tocsection-11"><a href=""><span class="tocnumber">3.3.1</span> <span class="toctext">Известные проблемы при включенном compiz</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-12"><a href=""><span class="tocnumber">3.4</span> <span class="toctext">Настройка переключения клавиатуры</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13"><a href=""><span class="tocnumber">4</span> <span class="toctext">Проверка работоспособности</span></a></li>
<li class="toclevel-1 tocsection-14"><a href=""><span class="tocnumber">5</span> <span class="toctext">Установка драйвера Nvidia, Для Debian</span></a>
<ul>
<li class="toclevel-2 tocsection-15"><a href=""><span class="tocnumber">5.1</span> <span class="toctext">Метод 1</span></a>
<ul>
<li class="toclevel-3 tocsection-16"><a href=""><span class="tocnumber">5.1.1</span> <span class="toctext">1.Подготовка</span></a></li>
<li class="toclevel-3 tocsection-17"><a href=""><span class="tocnumber">5.1.2</span> <span class="toctext">2. Загрузка , сборка и установка nvidia-kernel</span></a></li>
<li class="toclevel-3 tocsection-18"><a href=""><span class="tocnumber">5.1.3</span> <span class="toctext">3. Установка nvidia-glx</span></a></li>
<li class="toclevel-3 tocsection-19"><a href=""><span class="tocnumber">5.1.4</span> <span class="toctext">4. Правим /etc/X11/xorg.conf</span></a></li>
<li class="toclevel-3 tocsection-20"><a href=""><span class="tocnumber">5.1.5</span> <span class="toctext">5. Перезапускаем X11</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-21"><a href=""><span class="tocnumber">5.2</span> <span class="toctext">Метод 2</span></a>
<ul>
<li class="toclevel-3 tocsection-22"><a href=""><span class="tocnumber">5.2.1</span> <span class="toctext">1. Выкачать из сайта Nvidia актуальную версию драйвера для вашего дистрибутива</span></a></li>
<li class="toclevel-3 tocsection-23"><a href=""><span class="tocnumber">5.2.2</span> <span class="toctext">2. Подготовка</span></a></li>
<li class="toclevel-3 tocsection-24"><a href=""><span class="tocnumber">5.2.3</span> <span class="toctext">3. Установка nvidia</span></a></li>
<li class="toclevel-3 tocsection-25"><a href=""><span class="tocnumber">5.2.4</span> <span class="toctext">Тестирование</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-26"><a href=""><span class="tocnumber">6</span> <span class="toctext">Источники</span></a></li>
</ul>
</td></tr></table><script>if (window.showTocToggle) { var tocShowText = "показать"; var tocHideText = "убрать"; showTocToggle(); } </script>
<h1> <span class="mw-headline" id=".D0.9D.D0.B0.D1.87.D0.B0.D0.BB.D0.BE">Начало</span></h1>
<p>Данное руководство не претендует на полноту. Просто была предпринята попытка как-то систематизировать разрозненную информацию по настройке xorg для работы с видеокартами различных производителей.
</p>
<h1> <span class="mw-headline" id=".D0.91.D0.B0.D0.B7.D0.BE.D0.B2.D0.B0.D1.8F_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0">Базовая настройка</span></h1>
<h2> <span class="mw-headline" id=".D0.9E.D0.B1.D1.89.D0.B8.D0.B5_.D0.BC.D0.BE.D0.BC.D0.B5.D0.BD.D1.82.D1.8B">Общие моменты</span></h2>
<p>Для каждого дистрибутива существует свой способ установки. Возможно драйвер уже установлен при инсталляции дистрибутива, а возможно, что вам придется его скачать с сайта производителя. и поставить/скомпилировать самим. Далее будет считать, что драйвер поставлен.
</p><p>Для получения поддержки DirectRendering нужно добавить следующую секцию
</p>
<pre>Section "DRI"
   Mode 0666
EndSection
</pre>
<p>Все настройки сосредоточены в файле /etc/X11/xorg.conf
</p>
<pre>Важно: перед экспериментами сделайте резервную комию!
</pre>
<h2> <span class="mw-headline" id="Nvidia">Nvidia</span></h2>
<p>Приведем файл /etc/X11/xorg.conf к следующему виду
</p>
<pre>Section "Module"
  ...
  #Load dri
  Load glx
  Load dbe
  Load extmod
EndSection
</pre>
<pre>Section "Device"
   ...
   Driver nvidia
EndSection
</pre>
<p>Все. При такой конфигурации вы получите более-менее работоспособную систему.
</p>
<h2> <span class="mw-headline" id="ATI.2FAMD">ATI/AMD</span></h2>
<h2> <span class="mw-headline" id="Intel">Intel</span></h2>
<p>Интегрированное видео от интел i810/i830/i915 и выше
</p><p>Для базовой настройки достаточно привести секцию Device, связанную с текущей видеокартой к виду, представленному ниже.
</p>
<pre>Section "Device"
        Identifier  "Card0" # идентификатор карты - оставить как было
        Driver      "intel"
        VendorName  "All" # Опциональные строкове параметры
        BoardName   "All" # производительи модель карты
        VideoRAM    131072 # Максимальные объем видеопамяти (рекомендуется)
EndSection
</pre>
<p>Также необходимо проследить. чтобы были загружены необходимые модули
</p>
<pre>Section "Module"
        ...
        Load  "dbe"
#       Load  "dri"
        Subsection  "extmod"
                Option "omit xfree86-dga"
        EndSubsection
        Load  "glx"
        ...
EndSection
</pre>
<p><br />
</p>
<h1> <span class="mw-headline" id=".D0.A0.D0.B0.D1.81.D1.88.D0.B8.D1.80.D0.B5.D0.BD.D0.BD.D0.B0.D1.8F_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0">Расширенная настройка</span></h1>
<p>Правильно настроенный драйвер это хорошо. Но... А если вдруг захочеться запустить трехмерный рабочий стол?.. В этом разделе описываются настройки, необходимые для правильного функционирования новомодных рабочих столов и некоторые вопросы оптимизации.
</p>
<h2> <span class="mw-headline" id="Nvidia_2">Nvidia</span></h2>
<pre>Section "Extension"
  ...
  Option "DRI" "Enable"       # Целесообразность данной опции под вопросом
  Option "Render" "Enable"    # разрешить/запретить ускорение 2D графики
  Option "Damage" "Enable"    # разрешить отправку сообщений перерисовки областей окна, нуждающихся в перерисовке.
  Option "Composite" "Enable" # разрешает расширение композитного канала
EndSection

Section «Screen»
   ...
   Option "TripleBuffer" "True"          #направляет вывод графики в дополнительный буфер перед выводом на экран.
   Option "BackingStore" "True"          #по возможности сохранять в буфере изображение области, перекрытой окном
   Option "DamageEvents" "True"          #отправка сообщений о необходимости перерисовки области
   Option "UseEvents" "False"            #принимать служебные сообщения X-сервера
   Option "Coolbits" "1"                 #позволяет вручную выставлять частоты ядра и памяти через nvidia-settings
   Option "AddARGBGLXVisuals" "True"     #разрешить использование композитного канала в информации о цветности. 
   Option "XAANoOffscreenPixmaps" "True" # новых версиях драйвера данный параметр устарел. Запрещает обработку текстур, находящихся за пределами видимой области экрана. 
   Option "DisableGLXRootCliping" "True" #рисование OpenGL графики в специальном «корневом окне»
   Option "DRI" "True"                   # Целесообразность данной опции под вопросом
EndSection

Section «ServerLayout»
  Option "AIGLX" "True"
EndSection
</pre>
<h2> <span class="mw-headline" id="ATI.2FAMD_2">ATI/AMD</span></h2>
<h2> <span class="mw-headline" id="Intel_2">Intel</span></h2>
<p>Необходимо привести /etc/X11/xorg.conf к следующему виду.
</p>
<pre>Section "ServerLayout"
        ...
        Option "AIGLX" "true" #Включение оддержки aiglx
EndSection
</pre>
<pre>Section "Extensions"
        Option "Composite" "enable"
EndSection
</pre>
<pre>Section "Device"
        ...
        Option      "XAANoOffscreenPixmaps" "true" # запрет обработки изображения за пределами видимой области
        Option      "AccelMethod" "EXA" #Метод обмена данными с видеопамятью
        Option      "MigrationHeuristic" "greedy" 
        # Данная опция определяет способ записи изображения в видеопамять в режиме EXA
        # и избавляет от проблемы невозможности использовать устройство xvideo
        # в видеопроигрывателях.
EndSection
</pre>
<h3> <span class="mw-headline" id=".D0.98.D0.B7.D0.B2.D0.B5.D1.81.D1.82.D0.BD.D1.8B.D0.B5_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC.D1.8B_.D0.BF.D1.80.D0.B8_.D0.B2.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.BD.D0.BE.D0.BC_compiz">Известные проблемы при включенном compiz</span></h3>
<ul><li> OpenGl приложения запускаются поверх корневого окна
</li></ul>
<p><a href="http://belgorod.lug.ru/wiki/index.php/Файл:Compiz_and_glxgears.jpg" class="image"><img alt="Compiz and glxgears.jpg" src="Xorg%20-%20тонкости%20настройки%20—%20Belgorod%20Linux%20User%20Group%20-%20Белгород_files/Compiz_a.jpg" width="640" height="400" /></a>
</p>
<ul><li> Полноэкранные приложения в gnome при смене рабочих столов перекрываютя панелью задач
</li></ul>
<h2> <span class="mw-headline" id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.BF.D0.B5.D1.80.D0.B5.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D1.8F_.D0.BA.D0.BB.D0.B0.D0.B2.D0.B8.D0.B0.D1.82.D1.83.D1.80.D1.8B">Настройка переключения клавиатуры</span></h2>
<pre>Section "InputDevice"
       Identifier  "Keyboard0"
       Driver      "kbd"
       Option "XkbRules" "xorg"
       Option "XkbModel" "pc105"
       Option "XkbLayout" "us,ru(winkeys)"
       Option "XkbOptions" "grp:ctrl_shift_toggle,grp_led:scroll,altwin:menu"
EndSection
</pre>
<p>Для переключения по alt+shift: grp:alt_shift_toggle. Переключение будет индицироваться лампочкой Scroll Lock.
</p>
<h1> <span class="mw-headline" id=".D0.9F.D1.80.D0.BE.D0.B2.D0.B5.D1.80.D0.BA.D0.B0_.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D0.BE.D1.81.D0.BF.D0.BE.D1.81.D0.BE.D0.B1.D0.BD.D0.BE.D1.81.D1.82.D0.B8">Проверка работоспособности</span></h1>
<p>Для проверки корректности установки и настройки нужно выполнить следующие команды
</p>
<pre>glxinfo|grep direct
</pre>
<p>Если в строке присутствует Yes, то значит поддержка direct rendering включена и можно переходить к следующему тесту, иначе проверьте все настройки.
</p><p>Проверим производительность
</p>
<pre>glxgears
</pre>
<p>Вот вывод команды на видеокарте NVIDIA 7600GT при включенном compiz-fusion
</p>
<pre>35401 frames in 5.0 seconds = 7080.133 FPS
35981 frames in 5.0 seconds = 7196.125 FPS
36022 frames in 5.0 seconds = 7204.362 FPS
35251 frames in 5.0 seconds = 7050.098 FPS
33838 frames in 5.0 seconds = 6767.527 FPS
35988 frames in 5.0 seconds = 7197.535 FPS
36031 frames in 5.0 seconds = 7206.184 FPS
</pre>
<p><a href="http://belgorod.lug.ru/wiki/index.php/Файл:Glxgears_nvidia.jpg" class="image"><img alt="Glxgears nvidia.jpg" src="Xorg%20-%20тонкости%20настройки%20—%20Belgorod%20Linux%20User%20Group%20-%20Белгород_files/Glxgears.jpg" width="640" height="512" /></a>
</p><p>Ну и на последок самый "древний" тест = tuxracer. Ныне он в забвении, поэтому ваш дистрибутив, вероятно, содержит его клон - ppracer или etracer
</p><p><a href="http://belgorod.lug.ru/wiki/index.php/Файл:Etracer_nvidia.jpg" class="image"><img alt="Etracer nvidia.jpg" src="Xorg%20-%20тонкости%20настройки%20—%20Belgorod%20Linux%20User%20Group%20-%20Белгород_files/Etracer_.jpg" width="640" height="512" /></a>
</p>
<h1> <span class="mw-headline" id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D0.B4.D1.80.D0.B0.D0.B9.D0.B2.D0.B5.D1.80.D0.B0_Nvidia.2C_.D0.94.D0.BB.D1.8F_Debian">Установка драйвера Nvidia, Для Debian</span></h1>
<p><i>Автор: elipse</i>
</p><p>Контакты: <a href="http://lafox.net/support/index.php?showuser=1656" class="external free" rel="nofollow">http://lafox.net/support/index.php?showuser=1656</a>
</p><p>Оригинал: <a href="http://lafox.net/support/index.php?showtopic=11348" class="external free" rel="nofollow">http://lafox.net/support/index.php?showtopic=11348</a>
</p><p><br />
</p>
<h2> <span class="mw-headline" id=".D0.9C.D0.B5.D1.82.D0.BE.D0.B4_1"> Метод 1 </span></h2>
<p>Установка драйвера Nvidia из репозитария non-free Debian Sid
</p>
<h3> <span class="mw-headline" id="1..D0.9F.D0.BE.D0.B4.D0.B3.D0.BE.D1.82.D0.BE.D0.B2.D0.BA.D0.B0"> 1.Подготовка </span></h3>
<pre>#apt-get install build-essential module-assistant kernel-package libncurses5 fakeroot
#apt-get install linux-headers-$(uname -r) nvidia-kernel-common
</pre>
<ol><li> #apt-get install gcc-4.0
</li><li> #export CC=gcc-4.0
</li></ol>
<ul><li> действия 1.1 и 1. 2 необходимы только для дистрибутивных ядер версий 2.6.15 и 2.6.16 , ядра &gt; 2.6.17 - уже собраны gcc-4.1 и в этих процедурах нет надобности.
</li></ul>
<ul><li> <i>Версию ядра можно узнать командой uname -r.</i>
</li></ul>
<ul><li> <i>Каким компилятором собиралось ядро узнать можно командой:</i>
</li></ul>
<pre>#cat /proc/version
</pre>
<ul><li> Добавим (нужно только для Etch возможно и Sid) в /etc/apt/sources.list
</li></ul>
<pre>deb <a href="http://ftp.debian.org/debian/" class="external free" rel="nofollow">http://ftp.debian.org/debian/</a> etch non-free и выполнить:
</pre>
<pre>#apt-get update
</pre>
<h3> <span class="mw-headline" id="2._.D0.97.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B0_.2C_.D1.81.D0.B1.D0.BE.D1.80.D0.BA.D0.B0_.D0.B8_.D1.83.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_nvidia-kernel"> 2. Загрузка , сборка и установка nvidia-kernel </span></h3>
<pre>#m-a prepare
#m-a a-i nvidia
</pre>
<h3> <span class="mw-headline" id="3._.D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_nvidia-glx"> 3. Установка nvidia-glx </span></h3>
<pre>#apt-get install nvidia-glx
</pre>
<p><br />
</p>
<h3> <span class="mw-headline" id="4._.D0.9F.D1.80.D0.B0.D0.B2.D0.B8.D0.BC_.2Fetc.2FX11.2Fxorg.conf"> 4. Правим /etc/X11/xorg.conf </span></h3>
<p>секцию Device к виду:
пример:
</p>
<pre>Section "Device"
Identifier "NVIDIA Corporation NV43 [GeForce 6600]"
Driver "nvidia"
EndSection
</pre>
<p>подгружаем nvidia-kernel
</p>
<pre>#modprobe nvidia
</pre>
<h3> <span class="mw-headline" id="5._.D0.9F.D0.B5.D1.80.D0.B5.D0.B7.D0.B0.D0.BF.D1.83.D1.81.D0.BA.D0.B0.D0.B5.D0.BC_X11"> 5. Перезапускаем X11 </span></h3>
<p>без перезапуска ядра
</p>
<pre>1 #/etc/init.d/gdm stop
2 #/etc/init.d/gdm start
</pre>
<p>или
</p>
<pre>#reboot
</pre>
<ul><li> <i>Если все прошло успешно , то после перезапуска X11 должен появится логотип nvidia.</i>
</li></ul>
<p><br />
<i>Преимущества метода:</i>
</p>
<ul><li> 1. Возможность выполнять все работы в X11
</li><li> 2. Для повторной (или новой) установки понадобятся только nvidia-kernel-common
</li></ul>
<p>и nvidia-glx ,/usr/src/nvidia-kernel-XXX.deb - в этом случае, их сохранить отдельно.
Не забывая при этом , что версия nvidia-kernel связана с версией устанавливаемого ядра Debian.
</p>
<ul><li> 3. Использование локальных ( в частности украинских ) зеркал для получения
</li></ul>
<p>nvidia драйвера.
</p>
<ul><li> 4. Возможность использования доработок в nvidia-kernel-source выполненных
</li></ul>
<p>командой Debian.
</p>
<h2> <span class="mw-headline" id=".D0.9C.D0.B5.D1.82.D0.BE.D0.B4_2"> Метод 2 </span></h2>
<p>Установка оригинального драйвера Nvidia
</p>
<h3> <span class="mw-headline" id="1._.D0.92.D1.8B.D0.BA.D0.B0.D1.87.D0.B0.D1.82.D1.8C_.D0.B8.D0.B7_.D1.81.D0.B0.D0.B9.D1.82.D0.B0_Nvidia_.D0.B0.D0.BA.D1.82.D1.83.D0.B0.D0.BB.D1.8C.D0.BD.D1.83.D1.8E_.D0.B2.D0.B5.D1.80.D1.81.D0.B8.D1.8E_.D0.B4.D1.80.D0.B0.D0.B9.D0.B2.D0.B5.D1.80.D0.B0_.D0.B4.D0.BB.D1.8F_.D0.B2.D0.B0.D1.88.D0.B5.D0.B3.D0.BE_.D0.B4.D0.B8.D1.81.D1.82.D1.80.D0.B8.D0.B1.D1.83.D1.82.D0.B8.D0.B2.D0.B0"> 1. Выкачать из сайта Nvidia актуальную версию драйвера для вашего дистрибутива </span></h3>
<p><a href="http://www.nvidia.com/" class="external text" rel="nofollow">Nvidia Site</a>
</p>
<h3> <span class="mw-headline" id="2._.D0.9F.D0.BE.D0.B4.D0.B3.D0.BE.D1.82.D0.BE.D0.B2.D0.BA.D0.B0"> 2. Подготовка </span></h3>
<pre>#apt-get install build-essential linux-headers-$(uname -r)
</pre>
<ul><li> 2.1 #apt-get install gcc-4.0
</li></ul>
<ul><li> 2.2 #export CC=gcc-4.0
</li></ul>
<ul><li> <i>действия 2.1 и 2. 2 необходимы только для дистрибутивных ядер версий 2.6.15 и 2.6.16 , ядро 2.6.17 - уже собрано gcc-4.1 и в этих процедурах нет надобности.</i>
</li></ul>
<h3> <span class="mw-headline" id="3._.D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_nvidia"> 3. Установка nvidia </span></h3>
<ul><li> 3.1 Останавливаем X11 если они запущены:
</li></ul>
<pre>#/etc/init.d/gdm stop // или kdm stop
</pre>
<ul><li> 3.2 #sh NVIDIA-Linux-x86-1.0-8762-pkg1.run -a --x-module-path=/usr/lib/xorg/modules
</li></ul>
<ul><li> 3.3 Перезапускаем X11
</li></ul>
<pre>#/etc/init.d/gdm start // или kdm start
</pre>
<p>Если все прошло успешно , то после перезапуска X11 должен появится логотип nvidia.
</p><p><i><b>Преимущества метода:</b></i>
</p><p><i>Визуально более простой</i>
</p>
<h3> <span class="mw-headline" id=".D0.A2.D0.B5.D1.81.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5"> Тестирование </span></h3>
<p><i>Тест шестеренок:</i>
</p>
<pre>#apt-get install mesa-utils
#glxgears -printfps
</pre>
<p>или
</p>
<pre>#glxgears -info
</pre>
<p>Получаем условную производительность видеокарты через заданные интералы времени.
</p><p><i>На мой взгяд ,более обьективный результат о визуальном качестве работы драйвера nvidia дает установка набора Really Slick Screensavers:</i>
</p>
<pre>#apt-get install rss-glx
</pre>
<p><i>Примечание:</i>
</p>
<ol><li> Для Xorg 7.1 использовать драйвера версий не ниже 8774
</li><li> Для старых видеокарт использовать драйвера из раздела legacy nvidia (7184) и соответствующий индекс файлов в архиве non-free Debian ,пример: 
</li></ol>
<pre>nvidia-glx-legacy
</pre>
<h1> <span class="mw-headline" id=".D0.98.D1.81.D1.82.D0.BE.D1.87.D0.BD.D0.B8.D0.BA.D0.B8">Источники</span></h1>
<p><a href="http://ib.regionnet.ru/novosti/novoe/optimizaciya-sovmestnoy-raboty-proprietarnogo-drayvera-nvidia-i-compiz-f.html" class="external text" rel="nofollow">Оптимизация работы проприетарного драйвера nvidia и compiz</a>
</p>
<!-- 
NewPP limit report
Preprocessor node count: 102/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key blug-wiki_:pcache:idhash:58-0!1!0!!ru!2!edit=0 and timestamp 20110422114906 -->
<div class="printfooter">
Источник — «<a href="">http://belgorod.lug.ru/wiki/index.php/Xorg_-_%D1%82%D0%BE%D0%BD%D0%BA%D0%BE%D1%81%D1%82%D0%B8_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8</a>»</div>
		<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks"><a href="http://belgorod.lug.ru/wiki/index.php/Служебная:Categories" title="Служебная:Categories">Категория</a>: <span dir='ltr'><a href="http://belgorod.lug.ru/wiki/index.php/Категория:Настройка" title="Категория:Настройка">Настройка</a></span></div></div>		<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Просмотры</h5>
		<div class="pBody">
			<ul>
				 <li id="ca-nstab-main" class="selected"><a href="" title="Содержание статьи [c]" accesskey="c">Статья</a></li>
				 <li id="ca-talk" class="new"><a href="http://belgorod.lug.ru/wiki/index.php?title=%D0%9E%D0%B1%D1%81%D1%83%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5:Xorg_-_%D1%82%D0%BE%D0%BD%D0%BA%D0%BE%D1%81%D1%82%D0%B8_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8&amp;action=edit&amp;redlink=1" title="Обсуждение содержания страницы [t]" accesskey="t">Обсуждение</a></li>
				 <li id="ca-viewsource"><a href="http://belgorod.lug.ru/wiki/index.php?title=Xorg_-_%D1%82%D0%BE%D0%BD%D0%BA%D0%BE%D1%81%D1%82%D0%B8_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8&amp;action=edit" title="Эта страница защищена от изменений, но вы можете посмотреть и скопировать её исходный текст [e]" accesskey="e">Просмотр</a></li>
				 <li id="ca-history"><a href="http://belgorod.lug.ru/wiki/index.php?title=Xorg_-_%D1%82%D0%BE%D0%BD%D0%BA%D0%BE%D1%81%D1%82%D0%B8_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8&amp;action=history" title="Журнал изменений страницы [h]" accesskey="h">история</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Личные инструменты</h5>
		<div class="pBody">
			<ul>
				<li id="pt-anonuserpage"><a href="http://belgorod.lug.ru/wiki/index.php/Участник:87.119.235.160" title="Страница участника для моего IP [.]" accesskey="." class="new">87.119.235.160</a></li>
				<li id="pt-anontalk"><a href="http://belgorod.lug.ru/wiki/index.php/Обсуждение_участника:87.119.235.160" title="Страница обсуждений для моего IP [n]" accesskey="n" class="new">Обсуждение для этого IP-адреса</a></li>
				<li id="pt-anonlogin"><a href="http://belgorod.lug.ru/wiki/index.php?title=%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:UserLogin&amp;returnto=Xorg_-_%D1%82%D0%BE%D0%BD%D0%BA%D0%BE%D1%81%D1%82%D0%B8_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8" title="Здесь можно зарегистрироваться в системе, но это необязательно. [o]" accesskey="o">Представиться системе</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(/wiki/images/logo.png);" href="http://belgorod.lug.ru/wiki/index.php/Заглавная_страница" title="Заглавная страница"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-navigation'>
		<h5>Навигация</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage-description"><a href="http://belgorod.lug.ru/wiki/index.php/Заглавная_страница" title="Перейти на заглавную страницу [z]" accesskey="z">Заглавная страница</a></li>
				<li id="n-portal"><a href="http://belgorod.lug.ru/wiki/index.php/Belgorod_Linux_User_Group_-_Белгород:Портал_сообщества" title="О проекте, о том, что вы можете сделать, где что находится">Сообщество</a></li>
				<li id="n-currentevents"><a href="http://belgorod.lug.ru/wiki/index.php/Belgorod_Linux_User_Group_-_Белгород:Текущие_события" title="Список текущих событий">Текущие события</a></li>
				<li id="n-recentchanges"><a href="http://belgorod.lug.ru/wiki/index.php/Служебная:RecentChanges" title="Список последних изменений [r]" accesskey="r">Свежие правки</a></li>
				<li id="n-randompage"><a href="http://belgorod.lug.ru/wiki/index.php/Служебная:Random" title="Посмотреть случайную страницу [x]" accesskey="x">Случайная статья</a></li>
				<li id="n-help"><a href="http://belgorod.lug.ru/wiki/index.php/Справка:Содержание" title="Справочник по проекту «Belgorod Linux User Group - Белгород»">Справка</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Поиск</label></h5>
		<div id="searchBody" class="pBody">
			<form action="http://belgorod.lug.ru/wiki/index.php" id="searchform">
				<input type='hidden' name="title" value="Служебная:Search"/>
				<input id="searchInput" title="Искать это слово" accesskey="f" type="search" name="search" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Перейти" title="Перейти к странице, имеющей в точности такое название" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" id="mw-searchButton" value="Найти" title="Найти страницы, содержащие указанный текст" />
			</form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Инструменты</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="http://belgorod.lug.ru/wiki/index.php/Служебная:WhatLinksHere/Xorg_-_тонкости_настройки" title="Список всех страниц, которые ссылаются на эту страницу [j]" accesskey="j">Ссылки сюда</a></li>
				<li id="t-recentchangeslinked"><a href="http://belgorod.lug.ru/wiki/index.php/Служебная:RecentChangesLinked/Xorg_-_тонкости_настройки" title="Последние изменения в страницах, на которые ссылается эта страница [k]" accesskey="k">Связанные правки</a></li>
<li id="t-specialpages"><a href="http://belgorod.lug.ru/wiki/index.php/Служебная:SpecialPages" title="Список служебных страниц [q]" accesskey="q">Спецстраницы</a></li>
				<li id="t-print"><a href="http://belgorod.lug.ru/wiki/index.php?title=Xorg_-_%D1%82%D0%BE%D0%BD%D0%BA%D0%BE%D1%81%D1%82%D0%B8_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8&amp;Xorg_-_%D1%82%D0%BE%D0%BD%D0%BA%D0%BE%D1%81%D1%82%D0%B8_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8=&amp;printable=yes" rel="alternate" title="Версия этой страницы для печати [p]" accesskey="p">Версия для печати</a></li>				<li id="t-permalink"><a href="http://belgorod.lug.ru/wiki/index.php?title=Xorg_-_%D1%82%D0%BE%D0%BD%D0%BA%D0%BE%D1%81%D1%82%D0%B8_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8&amp;oldid=295" title="Постоянная ссылка на эту версию страницы">Постоянная ссылка</a></li>			</ul>
		</div>
	</div>
</div><!-- end of the left (by default at least) column -->
<div class="visualClear"></div>
<div id="footer">
	<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="Xorg%20-%20тонкости%20настройки%20—%20Belgorod%20Linux%20User%20Group%20-%20Белгород_files/poweredb.png" height="31" width="88" alt="Powered by MediaWiki" /></a></div>
	<div id="f-copyrightico"><a href="http://www.gnu.org/copyleft/fdl.html"><img src="Xorg%20-%20тонкости%20настройки%20—%20Belgorod%20Linux%20User%20Group%20-%20Белгород_files/gnu-fdl0.png" alt="GNU Free Documentation License 1.2" width="88" height="31" /></a></div>
	<ul id="f-list">
		<li id="lastmod"> Последнее изменение этой страницы: 08:30, 14 апреля 2008.</li>
		<li id="viewcount">К этой странице обращались 5986 раз.</li>
		<li id="copyright">Содержимое доступно в соответствии с <a href="http://www.gnu.org/copyleft/fdl.html" class="external ">GNU Free Documentation License 1.2</a>.</li>
		<li id="privacy"><a href="http://belgorod.lug.ru/wiki/index.php/Belgorod_Linux_User_Group_-_Белгород:Политика_конфиденциальности" title="Belgorod Linux User Group - Белгород:Политика конфиденциальности">Политика конфиденциальности</a></li>
		<li id="about"><a href="http://belgorod.lug.ru/wiki/index.php/Belgorod_Linux_User_Group_-_Белгород:Описание" title="Belgorod Linux User Group - Белгород:Описание">Описание Belgorod Linux User Group - Белгород</a></li>
		<li id="disclaimer"><a href="http://belgorod.lug.ru/wiki/index.php/Belgorod_Linux_User_Group_-_Белгород:Отказ_от_ответственности" title="Belgorod Linux User Group - Белгород:Отказ от ответственности">Отказ от ответственности</a></li>
	</ul>
</div>
</div>

<script>if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 0.226 secs. --></body></html>

<!-- This document saved from http://belgorod.lug.ru/wiki/index.php/Xorg_-_тонкости_настройки -->
